//>>built
require({cache:{"epi/layers/epi-widgets":function(){define("epi/layers/epi-widgets",["epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","dijit/layout/AccordionPane","dijit/TooltipDialog","dijit/form/Textarea","dojo/dnd/AutoSource","dojo/dnd/Target","dojo/fx/Toggler","dojo/parser","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5","epi/shell/component/IFrameContextComponent","epi/shell/ContextService","epi/shell/conversion/ObjectConverterRegistry","epi/shell/dnd/Target","epi/shell/form/AutoCompleteSelectionEditor","epi/shell/form/SuggestionSelectionEditor","epi/shell/HashWrapper","epi/shell/layout/GroupContainer","epi/shell/layout/ParentContainer","epi/shell/layout/PinnablePane","epi/shell/layout/PinnablePaneSplitter","epi/shell/layout/PositioningUtility","epi/shell/layout/SimpleContainer","epi/shell/layout/ToolbarContainer","epi/shell/MessageService","epi/shell/MetadataManager","epi/shell/Profile","epi/shell/ShellModule","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Registry","epi/shell/store/Throttle","epi/shell/UndoManager","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider","epi/shell/widget/_ActionProviderBase","epi/shell/widget/_ActionProviderWidget","epi/shell/widget/_TabButton","epi/shell/widget/Application","epi/shell/widget/ApplicationContentPane","epi/shell/widget/CheckBox","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/layout/ComponentPaneContainer","epi/shell/widget/ComponentController","epi/shell/widget/ComponentSelector","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/DateRange","epi/shell/widget/DateRangePicker","epi/shell/widget/DateTimeSelector","epi/shell/widget/DateTimeSelectorDropDown","epi/shell/widget/FormContainer","epi/shell/widget/GadgetWrapper","epi/shell/widget/GlobalMenu","epi/shell/widget/HelpButton","epi/shell/widget/Iframe","epi/shell/widget/IframeWithOverlay","epi/shell/widget/LabeledInput","epi/shell/widget/LicenseInformation","epi/shell/widget/LoginForm","epi/shell/widget/MenuGroup","epi/shell/widget/overlay/_Base","epi/shell/widget/overlay/Item","epi/shell/widget/PropagatingContainer","epi/shell/widget/SpaceToolbarSeparator","epi/shell/widget/TabContainer","epi/shell/widget/TabController","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarSet","epi/shell/widget/ValidationTextarea","epi/shell/widget/WidgetFactory","epi/shell/widget/WidgetSwitcher","xstyle/load-css"],1);},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_1,_2,_3){return _1("dijit.layout.AccordionPane",_3,{constructor:function(){_2.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,xhr,_12,_13){return _d("dijit.layout.ContentPane",[_6,_7,_8],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_14,_15){if((!_14||!_14.template)&&_15&&!("href" in _14)&&!("content" in _14)){_15=_f.byId(_15);var df=_15.ownerDocument.createDocumentFragment();while(_15.firstChild){df.appendChild(_15.firstChild);}_14=_5.delegate(_14,{content:df});}this.inherited(arguments,[_14,_15]);},postMixInProperties:function(){this.inherited(arguments);var _16=_12.getLocalization("dijit","loading",this.lang);this.loadingMessage=_9.substitute(this.loadingMessage,_16);this.errorMessage=_9.substitute(this.errorMessage,_16);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.removeAttribute("title");},startup:function(){this.inherited(arguments);if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_c.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_17){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_17);},_setHrefAttr:function(_18){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._set("href",_18);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_19){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_19);},_setContentAttr:function(_1a){this._set("href","");this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(_5.hitch(this,"onLoad"));}this._setContent(_1a||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _1c=this;var _1d={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_5.isObject(this.ioArgs)){_5.mixin(_1d,this.ioArgs);}var _1e=(this._xhrDfd=(this.ioMethod||xhr.get)(_1d)),_1f;_1e.then(function(_20){_1f=_20;try{_1c._isDownloaded=true;return _1c._setContent(_20,false);}catch(err){_1c._onError("Content",err);}},function(err){if(!_1e.canceled){_1c._onError("Download",err);}delete _1c._xhrDfd;return err;}).then(function(){_1c.onDownloadEnd();delete _1c._xhrDfd;return _1f;});delete this._hrefChanged;},_onLoadHandler:function(_21){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(_21);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_22){if(this.isLoaded){this._onUnloadHandler();}var _23=this._contentSetter;_c.forEach(this.getChildren(),function(_24){if(_24.destroyRecursive){_24.destroyRecursive(_22);}else{if(_24.destroy){_24.destroy(_22);}}_24._destroyed=true;});if(_23){_c.forEach(_23.parseResults,function(_25){if(!_25._destroyed){if(_25.destroyRecursive){_25.destroyRecursive(_22);}else{if(_25.destroy){_25.destroy(_22);}}_25._destroyed=true;}});delete _23.parseResults;}if(!_22){_11.empty(this.containerNode);}delete this._singleChild;},_setContent:function(_26,_27){this.destroyDescendants();var _28=this._contentSetter;if(!(_28&&_28 instanceof _a._ContentSetter)){_28=this._contentSetter=new _a._ContentSetter({node:this.containerNode,_onError:_5.hitch(this,this._onError),onContentError:_5.hitch(this,function(e){var _29=this.onContentError(e);try{this.containerNode.innerHTML=_29;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a=_5.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_26.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_28.set((_5.isObject(_26)&&_26.domNode)?_26.domNode:_26,_2a);var _2b=this;return _13(p&&p.then?p:_28.parseDeferred,function(){delete _2b._contentSetterParams;if(!_27){if(_2b._started){_2b._startChildren();_2b._scheduleLayout();}_2b._onLoadHandler(_26);}});},_onError:function(_2c,err,_2d){this.onLoadDeferred.reject(err);var _2e=this["on"+_2c+"Error"].call(this,err);if(_2d){console.error(_2d,err);}else{if(_2e){this._setContent(_2e,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f,_30,_31,_32,has,_33,_34,_35,_36,_37,_38,_39,_3a){function _3b(){};function _3c(_3d){return function(obj,_3e,_3f,_40){if(obj&&typeof _3e=="string"&&obj[_3e]==_3b){return obj.on(_3e.substring(2).toLowerCase(),_34.hitch(_3f,_40));}return _3d.apply(_31,arguments);};};_2f.around(_31,"connect",_3c);if(_33.connect){_2f.around(_33,"connect",_3c);}var _41=_32("dijit._Widget",[_38,_39,_3a],{onClick:_3b,onDblClick:_3b,onKeyDown:_3b,onKeyPress:_3b,onKeyUp:_3b,onMouseDown:_3b,onMouseMove:_3b,onMouseOut:_3b,onMouseOver:_3b,onMouseLeave:_3b,onMouseEnter:_3b,onMouseUp:_3b,constructor:function(_42){this._toConnect={};for(var _43 in _42){if(this[_43]===_3b){this._toConnect[_43.replace(/^on/,"").toLowerCase()]=_42[_43];delete _42[_43];}}},postCreate:function(){this.inherited(arguments);for(var _44 in this._toConnect){this.on(_44,this._toConnect[_44]);}delete this._toConnect;},on:function(_45,_46){if(this[this._onMap(_45)]===_3b){return _31.connect(this.domNode,_45.toLowerCase(),this,_46);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_47,_48){_33.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_47,_48);},attr:function(_49,_4a){if(_30.isDebug){var _4b=arguments.callee._ach||(arguments.callee._ach={}),_4c=(arguments.callee.caller||"unknown caller").toString();if(!_4b[_4c]){_33.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_4c,"","2.0");_4b[_4c]=true;}}var _4d=arguments.length;if(_4d>=2||typeof _49==="object"){return this.set.apply(this,arguments);}else{return this.get(_49);}},getDescendants:function(){_33.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35("[widgetId]",this.containerNode).map(_37.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_36(0,function(){var _4e=["dijit/_base"];require(_4e);});}return _41;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4f,has,_50,win,_51){var _52={},_53={};var _54={length:0,add:function(_55){if(_53[_55.id]){throw new Error("Tried to register widget with id=="+_55.id+" but that id is already registered");}_53[_55.id]=_55;this.length++;},remove:function(id){if(_53[id]){delete _53[id];this.length--;}},byId:function(id){return typeof id=="string"?_53[id]:id;},byNode:function(_56){return _53[_56.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _53){ar.push(_53[id]);}return ar;},getUniqueId:function(_57){var id;do{id=_57+"_"+(_57 in _52?++_52[_57]:_52[_57]=0);}while(_53[id]);return _51._scopeName=="dijit"?id:_51._scopeName+"_"+id;},findWidgets:function(_58,_59){var _5a=[];function _5b(_5c){for(var _5d=_5c.firstChild;_5d;_5d=_5d.nextSibling){if(_5d.nodeType==1){var _5e=_5d.getAttribute("widgetId");if(_5e){var _5f=_53[_5e];if(_5f){_5a.push(_5f);}}else{if(_5d!==_59){_5b(_5d);}}}}};_5b(_58);return _5a;},_destroyAll:function(){_51._curFocus=null;_51._prevFocus=null;_51._activeStack=[];_4f.forEach(_54.findWidgets(win.body()),function(_60){if(!_60._destroyed){if(_60.destroyRecursive){_60.destroyRecursive();}else{if(_60.destroy){_60.destroy();}}}});},getEnclosingWidget:function(_61){while(_61){var id=_61.nodeType==1&&_61.getAttribute("widgetId");if(id){return _53[id];}_61=_61.parentNode;}return null;},_hash:_53};_51.registry=_54;return _54;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_62){return _62.dijit;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_63,_64,_65,_66,_67,_68,dom,_69,_6a,_6b,_6c,_6d,has,_6e,_6f,on,_70,_71,_72,win,_73,_74){has.add("dijit-legacy-requires",!_6e.isAsync);if(has("dijit-legacy-requires")){_70(0,function(){var _75=["dijit/_base/manager"];_63(_75);});}var _76={};function _77(obj){var ret={};for(var _78 in obj){ret[_78.toLowerCase()]=true;}return ret;};function _79(_7a){return function(val){_69[val?"set":"remove"](this.domNode,_7a,val);this._set(_7a,val);};};function _7b(a,b){return a===b||(a!==a&&b!==b);};return _68("dijit._WidgetBase",[_71,_73],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_79("lang"),dir:"",_setDirAttr:_79("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_66.blankGif||_63.toUrl("dojo/resources/blank.gif"),postscript:function(_7c,_7d){this.create(_7c,_7d);},create:function(_7e,_7f){this.srcNodeRef=dom.byId(_7f);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_7e){this.params=_7e;_6f.mixin(this,_7e);}this.postMixInProperties();if(!this.id){this.id=_74.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_74.add(this);this.buildRendering();var _80;if(this.domNode){this._applyAttributes();var _81=this.srcNodeRef;if(_81&&_81.parentNode&&this.domNode!==_81){_81.parentNode.replaceChild(this.domNode,_81);_80=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_80){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _82=this.constructor,_83=_82._setterAttrs;if(!_83){_83=(_82._setterAttrs=[]);for(var _84 in this.attributeMap){_83.push(_84);}var _85=_82.prototype;for(var _86 in _85){if(_86 in this.attributeMap){continue;}var _87="_set"+_86.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_87 in _85){_83.push(_86);}}}var _88={};for(var key in this.params||{}){_88[key]=this[key];}_64.forEach(_83,function(_89){if(_89 in _88){}else{if(this[_89]){this.set(_89,this[_89]);}}},this);for(key in _88){this.set(key,_88[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _8a=this.baseClass.split(" ");if(!this.isLeftToRight()){_8a=_8a.concat(_64.map(_8a,function(_8b){return _8b+"Rtl";}));}_6a.add(this.domNode,_8a);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_64.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_6f.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_8c){this._beingDestroyed=true;this.destroyDescendants(_8c);this.destroy(_8c);},destroy:function(_8d){this._beingDestroyed=true;this.uninitialize();function _8e(w){if(w.destroyRecursive){w.destroyRecursive(_8d);}else{if(w.destroy){w.destroy(_8d);}}};_64.forEach(this._connects,_6f.hitch(this,"disconnect"));_64.forEach(this._supportingWidgets,_8e);if(this.domNode){_64.forEach(_74.findWidgets(this.domNode,this.containerNode),_8e);}this.destroyRendering(_8d);_74.remove(this.id);this._destroyed=true;},destroyRendering:function(_8f){if(this.bgIframe){this.bgIframe.destroy(_8f);delete this.bgIframe;}if(this.domNode){if(_8f){_69.remove(this.domNode,"widgetId");}else{_6b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8f){_6b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_90){_64.forEach(this.getChildren(),function(_91){if(_91.destroyRecursive){_91.destroyRecursive(_90);}});},uninitialize:function(){return false;},_setStyleAttr:function(_92){var _93=this.domNode;if(_6f.isObject(_92)){_6d.set(_93,_92);}else{if(_93.style.cssText){_93.style.cssText+="; "+_92;}else{_93.style.cssText=_92;}}this._set("style",_92);},_attrToDom:function(_94,_95,_96){_96=arguments.length>=3?_96:this.attributeMap[_94];_64.forEach(_6f.isArray(_96)?_96:[_96],function(_97){var _98=this[_97.node||_97||"domNode"];var _99=_97.type||"attribute";switch(_99){case "attribute":if(_6f.isFunction(_95)){_95=_6f.hitch(this,_95);}var _9a=_97.attribute?_97.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_94)?_94.toLowerCase():_94);if(_98.tagName){_69.set(_98,_9a,_95);}else{_98.set(_9a,_95);}break;case "innerText":_98.innerHTML="";_98.appendChild(this.ownerDocument.createTextNode(_95));break;case "innerHTML":_98.innerHTML=_95;break;case "class":_6a.replace(_98,_95,this[_94]);break;}},this);},get:function(_9b){var _9c=this._getAttrNames(_9b);return this[_9c.g]?this[_9c.g]():this[_9b];},set:function(_9d,_9e){if(typeof _9d==="object"){for(var x in _9d){this.set(x,_9d[x]);}return this;}var _9f=this._getAttrNames(_9d),_a0=this[_9f.s];if(_6f.isFunction(_a0)){var _a1=_a0.apply(this,Array.prototype.slice.call(arguments,1));}else{var _a2=this.focusNode&&!_6f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_a2].tagName,_a3=_76[tag]||(_76[tag]=_77(this[_a2])),map=_9d in this.attributeMap?this.attributeMap[_9d]:_9f.s in this?this[_9f.s]:((_9f.l in _a3&&typeof _9e!="function")||/^aria-|^data-|^role$/.test(_9d))?_a2:null;if(map!=null){this._attrToDom(_9d,_9e,map);}this._set(_9d,_9e);}return _a1||this;},_attrPairNames:{},_getAttrNames:function(_a4){var apn=this._attrPairNames;if(apn[_a4]){return apn[_a4];}var uc=_a4.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_a4]={n:_a4+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_a5,_a6){var _a7=this[_a5];this[_a5]=_a6;if(this._created&&!_7b(_a6,_a7)){if(this._watchCallbacks){this._watchCallbacks(_a5,_a7,_a6);}this.emit("attrmodified-"+_a5,{detail:{prevValue:_a7,newValue:_a6}});}},emit:function(_a8,_a9,_aa){_a9=_a9||{};if(_a9.bubbles===undefined){_a9.bubbles=true;}if(_a9.cancelable===undefined){_a9.cancelable=true;}if(!_a9.detail){_a9.detail={};}_a9.detail.widget=this;var ret,_ab=this["on"+_a8];if(_ab){ret=_ab.apply(this,_aa?_aa:[_a9]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_a8.toLowerCase(),_a9);}return ret;},on:function(_ac,_ad){var _ae=this._onMap(_ac);if(_ae){return _65.after(this,_ae,_ad,true);}return this.own(on(this.domNode,_ac,_ad))[0];},_onMap:function(_af){var _b0=this.constructor,map=_b0._onMap;if(!map){map=(_b0._onMap={});for(var _b1 in _b0.prototype){if(/^on/.test(_b1)){map[_b1.replace(/^on/,"").toLowerCase()]=_b1;}}}return map[typeof _af=="string"&&_af.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_74.findWidgets(this.containerNode):[];},getParent:function(){return _74.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_b2,_b3){return this.own(_67.connect(obj,_b2,this,_b3))[0];},disconnect:function(_b4){_b4.remove();},subscribe:function(t,_b5){return this.own(_72.subscribe(t,_6f.hitch(this,_b5)))[0];},unsubscribe:function(_b6){_b6.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_6c.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_6d.get(this.domNode,"display")!="none");},placeAt:function(_b7,_b8){var _b9=!_b7.tagName&&_74.byId(_b7);if(_b9&&_b9.addChild&&(!_b8||typeof _b8==="number")){_b9.addChild(this,_b8);}else{var ref=_b9?(_b9.containerNode&&!/after|before|replace/.test(_b8||"")?_b9.containerNode:_b9.domNode):dom.byId(_b7,this.ownerDocument);_6b.place(this.domNode,ref,_b8);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(_ba,_bb){return _bb;},applyTextDir:function(){},defer:function(fcn,_bc){var _bd=setTimeout(_6f.hitch(this,function(){if(!_bd){return;}_bd=null;if(!this._destroyed){_6f.hitch(this,fcn)();}}),_bc||0);return {remove:function(){if(_bd){clearTimeout(_bd);_bd=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_be,_bf,_c0){return _c0("dijit.Destroyable",null,{destroy:function(_c1){this._destroyed=true;},own:function(){_be.forEach(arguments,function(_c2){var _c3="destroyRecursive" in _c2?"destroyRecursive":"destroy" in _c2?"destroy":"remove";var odh=_bf.before(this,"destroy",function(_c4){_c2[_c3](_c4);});var hdh=_bf.after(_c2,_c3,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_c5,_c6,_c7,has,_c8,win,_c9){var ret=_c7("dijit._OnDijitClickMixin",null,{connect:function(obj,_ca,_cb){return this.inherited(arguments,[obj,_ca=="ondijitclick"?_c9:_ca,_cb]);}});ret.a11yclick=_c9;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_cc,_cd,_ce,has,_cf,win){var _d0=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_d0=evt.target;},true);}else{(function(){var _d1=function(evt){_d0=evt.srcElement;};win.doc.attachEvent("onkeydown",_d1);_cf.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_d1);});})();}function _d2(e){return (e.keyCode===_cd.ENTER||e.keyCode===_cd.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(_d3,_d4){if(/input|button/i.test(_d3.nodeName)){return on(_d3,"click",_d4);}else{var _d5=[on(_d3,"keydown",function(e){if(_d2(e)){_d0=e.target;e.preventDefault();}}),on(_d3,"keyup",function(e){if(_d2(e)&&e.target==_d0){_d0=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(_d3,"click",function(e){_d4.call(this,e);})];if(has("touch")){var _d6;_d5.push(on(_d3,"touchend",function(e){var _d7=e.target;_d6=setTimeout(function(){_d6=null;on.emit(_d7,"click",{cancelable:true,bubbles:true});},600);}),on(_d3,"click",function(e){if(_d6){clearTimeout(_d6);}}));}return {remove:function(){_cc.forEach(_d5,function(h){h.remove();});if(_d6){clearTimeout(_d6);_d6=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_d8,_d9,_da,_db){_db.extend(_d9,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _da("dijit._FocusMixin",null,{_focusManager:_d8});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_dc,_dd,dom,_de,_df,_e0,_e1,on,_e2,has,_e3,_e4,win,_e5,_e6,_e7,_e8){var _e9;var _ea=_dd([_e3,_e0],{curNode:null,activeStack:[],constructor:function(){var _eb=_e1.hitch(this,function(_ec){if(dom.isDescendant(this.curNode,_ec)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_ec)){this.set("prevNode",null);}});_dc.before(_df,"empty",_eb);_dc.before(_df,"destroy",_eb);},registerIframe:function(_ed){return this.registerWin(_ed.contentWindow,_ed);},registerWin:function(_ee,_ef){var _f0=this,_f1=_ee.document&&_ee.document.body;if(_f1){var mdh=on(_f1,"mousedown",function(evt){_f0._justMouseDowned=true;setTimeout(function(){_f0._justMouseDowned=false;},13);if(evt&&evt.target&&evt.target.parentNode==null){return;}_f0._onTouchNode(_ef||evt.target,"mouse");});var fih=on(_f1,"focusin",function(evt){_e9=(new Date()).getTime();if(!evt.target.tagName){return;}var tag=evt.target.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_e6.isFocusable(evt.target)){_f0._onFocusNode(_ef||evt.target);}else{_f0._onTouchNode(_ef||evt.target);}});var foh=on(_f1,"focusout",function(evt){if((new Date()).getTime()<_e9+100){return;}_f0._onBlurNode(_ef||evt.target);});return {remove:function(){mdh.remove();fih.remove();foh.remove();mdh=fih=foh=null;_f1=null;}};}},_onBlurNode:function(_f2){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_e1.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_e1.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_f3,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _f4=[];try{while(_f3){var _f5=_de.get(_f3,"dijitPopupParent");if(_f5){_f3=_e7.byId(_f5).domNode;}else{if(_f3.tagName&&_f3.tagName.toLowerCase()=="body"){if(_f3===win.body()){break;}_f3=_e5.get(_f3.ownerDocument).frameElement;}else{var id=_f3.getAttribute&&_f3.getAttribute("widgetId"),_f6=id&&_e7.byId(id);if(_f6&&!(by=="mouse"&&_f6.get("disabled"))){_f4.unshift(id);}_f3=_f3.parentNode;}}}}catch(e){}this._setStack(_f4,by);},_onFocusNode:function(_f7){if(!_f7){return;}if(_f7.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_f7);if(_f7==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_f7);},_setStack:function(_f8,by){var _f9=this.activeStack;this.set("activeStack",_f8);for(var _fa=0;_fa<Math.min(_f9.length,_f8.length);_fa++){if(_f9[_fa]!=_f8[_fa]){break;}}var _fb;for(var i=_f9.length-1;i>=_fa;i--){_fb=_e7.byId(_f9[i]);if(_fb){_fb._hasBeenBlurred=true;_fb.set("focused",false);if(_fb._focusManager==this){_fb._onBlur(by);}this.emit("widget-blur",_fb,by);}}for(i=_fa;i<_f8.length;i++){_fb=_e7.byId(_f8[i]);if(_fb){_fb.set("focused",true);if(_fb._focusManager==this){_fb._onFocus(by);}this.emit("widget-focus",_fb,by);}}},focus:function(_fc){if(_fc){try{_fc.focus();}catch(e){}}}});var _fd=new _ea();_e2(function(){var _fe=_fd.registerWin(_e5.get(win.doc));if(has("ie")){_e4.addOnWindowUnload(function(){if(_fe){_fe.remove();_fe=null;}});}});_e8.focus=function(_ff){_fd.focus(_ff);};for(var attr in _fd){if(!/^_/.test(attr)){_e8.focus[attr]=typeof _fd[attr]=="function"?_e1.hitch(_fd,attr):_fd[attr];}}_fd.watch(function(attr,_100,_101){_e8.focus[attr]=_101;});return _fd;});},"dojo/window":function(){define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_102,dom,geom,_103,_104){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_102.body(doc),_105=_104.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_104.create("div",{style:{overflow:"hidden",direction:"ltr"}},_105,"last"),ret=geom.position(div).x!=0;_105.removeChild(div);body.removeChild(_105);return ret;});has.add("position-fixed-support",function(win,doc){var body=_102.body(doc),_106=_104.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_107=_104.create("span",{style:{position:"fixed",left:"0",top:"0"}},_106,"last"),ret=geom.position(_107).x!=geom.position(_106).x;_106.removeChild(_107);body.removeChild(_106);return ret;});var _108={getBox:function(doc){doc=doc||_102.doc;var _109=(doc.compatMode=="BackCompat")?_102.body(doc):doc.documentElement,_10a=geom.docScroll(doc),w,h;if(has("touch")){var _10b=_108.get(doc);w=_10b.innerWidth||_109.clientWidth;h=_10b.innerHeight||_109.clientHeight;}else{w=_109.clientWidth;h=_109.clientHeight;}return {l:_10a.x,t:_10a.y,w:w,h:h};},get:function(doc){if(has("ie")&&_108!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_102.doc,body=_102.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _10c=doc.compatMode=="BackCompat",_10d=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_10e=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_10f=(isWK||_10c)?body:html,_110=pos||geom.position(node),el=node.parentNode,_111=function(el){return (isIE<=6||(isIE==7&&_10c))?false:(has("position-fixed-support")&&(_103.get(el,"position").toLowerCase()=="fixed"));},self=this,_112=function(el,x,y){if(el.tagName=="BODY"||el.tagName=="HTML"){self.get(el.ownerDocument).scrollBy(x,y);}else{x&&(el.scrollLeft+=x);y&&(el.scrollTop+=y);}};if(_111(node)){return;}while(el){if(el==body){el=_10f;}var _113=geom.position(el),_114=_111(el),rtl=_103.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_10f){_113.w=_10d;_113.h=_10e;if(_10f==html&&(isIE||has("trident"))&&rtl){_113.x+=_10f.offsetWidth-_113.w;}if(_113.x<0||!isIE||isIE>=9||has("trident")){_113.x=0;}if(_113.y<0||!isIE||isIE>=9||has("trident")){_113.y=0;}}else{var pb=geom.getPadBorderExtents(el);_113.w-=pb.w;_113.h-=pb.h;_113.x+=pb.l;_113.y+=pb.t;var _115=el.clientWidth,_116=_113.w-_115;if(_115>0&&_116>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_113.x+=_116;}_113.w=_115;}_115=el.clientHeight;_116=_113.h-_115;if(_115>0&&_116>0){_113.h=_115;}}if(_114){if(_113.y<0){_113.h+=_113.y;_113.y=0;}if(_113.x<0){_113.w+=_113.x;_113.x=0;}if(_113.y+_113.h>_10e){_113.h=_10e-_113.y;}if(_113.x+_113.w>_10d){_113.w=_10d-_113.x;}}var l=_110.x-_113.x,t=_110.y-_113.y,r=l+_110.w-_113.w,bot=t+_110.h-_113.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_10f||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_10c)||isIE>=9||has("trident"))){s=-s;}old=el.scrollLeft;_112(el,s,0);s=el.scrollLeft-old;_110.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_10f||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;_112(el,0,s);s=el.scrollTop-old;_110.y-=s;}el=(el!=_10f)&&!_114&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_108);return _108;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_117,dom,_118,_119,lang,has,_11a){var _11b;var a11y={_isElementShown:function(elem){var s=_119.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_118.get(elem,"type")!="hidden");},hasDefaultTabStop:function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _118.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _11c=elem.contentDocument;if("designMode" in _11c&&_11c.designMode=="on"){return true;}body=_11c.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}},effectiveTabIndex:function(elem){if(_118.get(elem,"disabled")){return _11b;}else{if(_118.has(elem,"tabIndex")){return +_118.get(elem,"tabIndex");}else{return a11y.hasDefaultTabStop(elem)?0:_11b;}}},isTabNavigable:function(elem){return a11y.effectiveTabIndex(elem)>=0;},isFocusable:function(elem){return a11y.effectiveTabIndex(elem)>=-1;},_getTabNavigable:function(root){var _11d,last,_11e,_11f,_120,_121,_122={};function _123(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _124=a11y._isElementShown,_125=a11y.effectiveTabIndex;var _126=function(_127){for(var _128=_127.firstChild;_128;_128=_128.nextSibling){if(_128.nodeType!=1||(has("ie")<=9&&_128.scopeName!=="HTML")||!_124(_128)){continue;}var _129=_125(_128);if(_129>=0){if(_129==0){if(!_11d){_11d=_128;}last=_128;}else{if(_129>0){if(!_11e||_129<_11f){_11f=_129;_11e=_128;}if(!_120||_129>=_121){_121=_129;_120=_128;}}}var rn=_123(_128);if(_118.get(_128,"checked")&&rn){_122[rn]=_128;}}if(_128.nodeName.toUpperCase()!="SELECT"){_126(_128);}}};if(_124(root)){_126(root);}function rs(node){return _122[_123(node)]||node;};return {first:rs(_11d),last:rs(last),lowest:rs(_11e),highest:rs(_120)};},getFirstInTabbingOrder:function(root,doc){var _12a=a11y._getTabNavigable(dom.byId(root,doc));return _12a.lowest?_12a.lowest:_12a.first;},getLastInTabbingOrder:function(root,doc){var _12b=a11y._getTabNavigable(dom.byId(root,doc));return _12b.last?_12b.last:_12b.highest;}};1&&lang.mixin(_11a,a11y);return a11y;});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_12c,lang,_12d,has,_12e){var html=_12e.doc.documentElement,ie=has("ie"),_12f=has("opera"),maj=Math.floor,ff=has("ff"),_130=_12c.boxModel.replace(/-/,""),_131={"dj_quirks":has("quirks"),"dj_opera":_12f,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_131["dj_ie"]=true;_131["dj_ie"+maj(ie)]=true;_131["dj_iequirks"]=has("quirks");}if(ff){_131["dj_ff"+maj(ff)]=true;}_131["dj_"+_130]=true;var _132="";for(var clz in _131){if(_131[clz]){_132+=clz+" ";}}html.className=lang.trim(html.className+" "+_132);_12d(90,function(){if(!_12c.isBodyLtr()){var _133="dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_133+"dj_rtl dijitRtl "+_132.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_134,has,_135,win){_135(90,function(){if(has("highcontrast")){_134.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_136,_137,_138,_139,has,_13a,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_137.blankGif||_136.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_139.getComputedStyle(div),_13b=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_13b&&(_13b=="none"||_13b=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_13a(90,function(){if(has("highcontrast")){_138.add(win.body(),"dj_a11y");}});return has;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_13c,_13d,_13e){return _13d("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_13f,_140){var _141=this.containerNode;if(_140&&typeof _140=="number"){var _142=this.getChildren();if(_142&&_142.length>=_140){_141=_142[_140-1].domNode;_140="after";}}_13e.place(_13f.domNode,_141,_140);if(this._started&&!_13f._started){_13f.startup();}},removeChild:function(_143){if(typeof _143=="number"){_143=this.getChildren()[_143];}if(_143){var node=_143.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_144,dir){var _145=this.getChildren(),idx=_13c.indexOf(this.getChildren(),_144);return _145[idx+dir];},getIndexOfChild:function(_146){return _13c.indexOf(this.getChildren(),_146);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_147,_148,_149,_14a,_14b,lang,_14c,has,_14d,_14e,_14f){return _148("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _150=this.getParent();this._childOfLayoutWidget=_150&&_150.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_14e.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _151=[],_152=false;_14c("> *",this.containerNode).some(function(node){var _153=_14d.byNode(node);if(_153&&_153.resize){_151.push(_153);}else{if(node.offsetHeight){_152=true;}}});this._singleChild=_151.length==1&&!_152?_151[0]:null;_149.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_154,_155){this._resizeCalled=true;this._scheduleLayout(_154,_155);},_scheduleLayout:function(_156,_157){if(this._isShown()){this._layout(_156,_157);}else{this._needLayout=true;this._changeSize=_156;this._resultSize=_157;}},_layout:function(_158,_159){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_158){_14a.setMarginBox(this.domNode,_158);}var cn=this.containerNode;if(cn===this.domNode){var mb=_159||{};lang.mixin(mb,_158||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_14a.getMarginBox(cn),mb);}this._contentBox=_14f.marginBox2contentBox(cn,mb);}else{this._contentBox=_14a.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_14a.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_147.forEach(this.getChildren(),function(_15a){if(_15a.resize){_15a.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_15b=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_149.contains(node,"dijitHidden")&&_15b&&_15b.style&&(_15b.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_15c,on,_15d,has,win,_15e){var _15f=new _15c();var _160;_15d(200,function(){var _161=_15e.getBox();_15f._rlh=on(win.global,"resize",function(){var _162=_15e.getBox();if(_161.h==_162.h&&_161.w==_162.w){return;}_161=_162;_15f.emit("resize");});if(has("ie")==8){var _163=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_163){_163=screen.deviceXDPI;_15f.emit("resize");}},500);}if(has("ios")){on(document,"focusin",function(evt){_160=evt.target;});on(document,"focusout",function(evt){_160=null;});}});_15f.getEffectiveBox=function(doc){var box=_15e.getBox(doc);var tag=_160&&_160.tagName&&_160.tagName.toLowerCase();if(has("ios")&&_160&&!_160.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_160.type)))){box.h*=(orientation==0||orientation==180?0.66:0.4);var rect=_160.getBoundingClientRect();box.h=Math.max(box.h,rect.top+rect.height);}return box;};return _15f;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_164,_165,_166,_167,lang,_168){var _169=lang.getObject("layout",true,_168);_169.marginBox2contentBox=function(node,mb){var cs=_167.getComputedStyle(node);var me=_166.getMarginExtents(node,cs);var pb=_166.getPadBorderExtents(node,cs);return {l:_167.toPixelValue(node,cs.paddingLeft),t:_167.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _16a(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_16b,dim){var _16c=_16b.resize?_16b.resize(dim):_166.setMarginBox(_16b.domNode,dim);if(_16c){lang.mixin(_16b,_16c);}else{lang.mixin(_16b,_166.getMarginBox(_16b.domNode));lang.mixin(_16b,dim);}};_169.layoutChildren=function(_16d,dim,_16e,_16f,_170){dim=lang.mixin({},dim);_165.add(_16d,"dijitLayoutContainer");_16e=_164.filter(_16e,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_164.filter(_16e,function(item){return item.region=="center"||item.layoutAlign=="client";}));_164.forEach(_16e,function(_171){var elm=_171.domNode,pos=(_171.region||_171.layoutAlign);if(!pos){throw new Error("No region setting for "+_171.id);}var _172=elm.style;_172.left=dim.l+"px";_172.top=dim.t+"px";_172.position="absolute";_165.add(elm,"dijitAlign"+_16a(pos));var _173={};if(_16f&&_16f==_171.id){_173[_171.region=="top"||_171.region=="bottom"?"h":"w"]=_170;}if(pos=="top"||pos=="bottom"){_173.w=dim.w;size(_171,_173);dim.h-=_171.h;if(pos=="top"){dim.t+=_171.h;}else{_172.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_173.h=dim.h;size(_171,_173);dim.w-=_171.w;if(pos=="left"){dim.l+=_171.w;}else{_172.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_171,dim);}}}});};return {marginBox2contentBox:_169.marginBox2contentBox,layoutChildren:_169.layoutChildren};});},"dojo/html":function(){define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_174,lang,_175,_176,dom,_177,_178){var html={};lang.setObject("dojo.html",html);var _179=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_177.empty;html._setNodeContent=function(node,cont){_177.empty(node);if(cont){if(typeof cont=="string"){cont=_177.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _17a=cont.length,i=0;i<cont.length;i=_17a==cont.length?i+1:0){_177.place(cont[i],node,"last");}}else{_177.place(cont,node,"last");}}return node;};html._ContentSetter=_176("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_174._scopeName,startup:true,constructor:function(_17b,node){lang.mixin(this,_17b||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_179++].join("_");}},set:function(cont,_17c){if(undefined!==cont){this.content=cont;}if(_17c){this._mixin(_17c);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _17d=this.onContentError(e);try{node.innerHTML=_17d;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_175.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_177.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _17e=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_17e){cont=_17e[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_17f){var _180={},key;for(key in _17f){if(key in _180){continue;}this[key]=_17f[key];}},_parse:function(){var _181=this.node;try{var _182={};_175.forEach(["dir","lang","textDir"],function(name){if(this[name]){_182[name]=this[name];}},this);var self=this;this.parseDeferred=_178.parse({rootNode:_181,noStart:!this.startup,inherited:_182,scope:this.parserScope}).then(function(_183){return self.parseResults=_183;},function(e){self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_184){var _185=this["on"+type+"Error"].call(this,err);if(_184){console.error(_184,err);}else{if(_185){html._setNodeContent(this.node,_185,true);}}}});html.set=function(node,cont,_186){if(undefined==cont){console.warn("dojo.html.set: no cont argument provided, using empty string");cont="";}if(!_186){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_186,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_187,dojo,_188,_189,_18a,_18b,_18c,_18d,_18e,_18f,_190,_191,has,_192,don,_193){new Date("X");var _194=0;_18f.after(_188,"extend",function(){_194++;},true);function _195(ctor){var map=ctor._nameCaseMap,_196=ctor.prototype;if(!map||map._extendCnt<_194){map=ctor._nameCaseMap={};for(var name in _196){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_194;}return map;};var _197={};function _198(_199){var ts=_199.join();if(!_197[ts]){var _19a=[];for(var i=0,l=_199.length;i<l;i++){var t=_199[i];_19a[_19a.length]=(_197[t]=_197[t]||(_188.getObject(t)||(~t.indexOf("/")&&_187(t))));}var ctor=_19a.shift();_197[ts]=_19a.length?(ctor.createSubclass?ctor.createSubclass(_19a):ctor.extend.apply(ctor,_19a)):ctor;}return _197[ts];};var _19b={_clearCache:function(){_194++;_197={};},_functionFromScript:function(_19c,_19d){var _19e="",_19f="",_1a0=(_19c.getAttribute(_19d+"args")||_19c.getAttribute("args")),_1a1=_19c.getAttribute("with");var _1a2=(_1a0||"").split(/\s*,\s*/);if(_1a1&&_1a1.length){_189.forEach(_1a1.split(/\s*,\s*/),function(part){_19e+="with("+part+"){";_19f+="}";});}return new Function(_1a2,_19e+_19c.innerHTML+_19f);},instantiate:function(_1a3,_1a4,_1a5){_1a4=_1a4||{};_1a5=_1a5||{};var _1a6=(_1a5.scope||dojo._scopeName)+"Type",_1a7="data-"+(_1a5.scope||dojo._scopeName)+"-",_1a8=_1a7+"type",_1a9=_1a7+"mixins";var list=[];_189.forEach(_1a3,function(node){var type=_1a6 in _1a4?_1a4[_1a6]:node.getAttribute(_1a8)||node.getAttribute(_1a6);if(type){var _1aa=node.getAttribute(_1a9),_1ab=_1aa?[type].concat(_1aa.split(/\s*,\s*/)):[type];list.push({node:node,types:_1ab});}});return this._instantiate(list,_1a4,_1a5);},_instantiate:function(_1ac,_1ad,_1ae){var _1af=_189.map(_1ac,function(obj){var ctor=obj.ctor||_198(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_1ad,_1ae,obj.scripts,obj.inherited);},this);if(!_1ad._started&&!_1ae.noStart){_189.forEach(_1af,function(_1b0){if(typeof _1b0.startup==="function"&&!_1b0._started){_1b0.startup();}});}return _1af;},construct:function(ctor,node,_1b1,_1b2,_1b3,_1b4){var _1b5=ctor&&ctor.prototype;_1b2=_1b2||{};var _1b6={};if(_1b2.defaults){_188.mixin(_1b6,_1b2.defaults);}if(_1b4){_188.mixin(_1b6,_1b4);}var _1b7;if(has("dom-attributes-explicit")){_1b7=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1b7=_189.filter(node.attributes,function(a){return a.specified;});}else{var _1b8=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_1b9=_1b8.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1b7=_189.map(_1b9.split(/\s+/),function(name){var _1ba=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1ba=="enctype"?node.getAttribute(_1ba):node.getAttributeNode(_1ba).value};});}}var _1bb=_1b2.scope||dojo._scopeName,_1bc="data-"+_1bb+"-",hash={};if(_1bb!=="dojo"){hash[_1bc+"props"]="data-dojo-props";hash[_1bc+"type"]="data-dojo-type";hash[_1bc+"mixins"]="data-dojo-mixins";hash[_1bb+"type"]="dojoType";hash[_1bc+"id"]="data-dojo-id";}var i=0,item,_1bd=[],_1be,_1bf;while(item=_1b7[i++]){var name=item.name,_1c0=name.toLowerCase(),_1c1=item.value;switch(hash[_1c0]||_1c0){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_1bf=_1c1;break;case "data-dojo-id":case "jsid":_1be=_1c1;break;case "data-dojo-attach-point":case "dojoattachpoint":_1b6.dojoAttachPoint=_1c1;break;case "data-dojo-attach-event":case "dojoattachevent":_1b6.dojoAttachEvent=_1c1;break;case "class":_1b6["class"]=node.className;break;case "style":_1b6["style"]=node.style&&node.style.cssText;break;default:if(!(name in _1b5)){var map=_195(ctor);name=map[_1c0]||name;}if(name in _1b5){switch(typeof _1b5[name]){case "string":_1b6[name]=_1c1;break;case "number":_1b6[name]=_1c1.length?Number(_1c1):NaN;break;case "boolean":_1b6[name]=_1c1.toLowerCase()!="false";break;case "function":if(_1c1===""||_1c1.search(/[^\w\.]+/i)!=-1){_1b6[name]=new Function(_1c1);}else{_1b6[name]=_188.getObject(_1c1,false)||new Function(_1c1);}_1bd.push(name);break;default:var pVal=_1b5[name];_1b6[name]=(pVal&&"length" in pVal)?(_1c1?_1c1.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_1c1==""?new Date(""):_1c1=="now"?new Date():_190.fromISOString(_1c1)):(pVal instanceof _18d)?(dojo.baseUrl+_1c1):_18e.fromJson(_1c1);}}else{_1b6[name]=_1c1;}}}for(var j=0;j<_1bd.length;j++){var _1c2=_1bd[j].toLowerCase();node.removeAttribute(_1c2);node[_1c2]=null;}if(_1bf){try{_1bf=_18e.fromJson.call(_1b2.propsThis,"{"+_1bf+"}");_188.mixin(_1b6,_1bf);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1bf+"'");}}_188.mixin(_1b6,_1b1);if(!_1b3){_1b3=(ctor&&(ctor._noScript||_1b5._noScript)?[]:_192("> script[type^='dojo/']",node));}var _1c3=[],_1c4=[],_1c5=[],ons=[];if(_1b3){for(i=0;i<_1b3.length;i++){var _1c6=_1b3[i];node.removeChild(_1c6);var _1c7=(_1c6.getAttribute(_1bc+"event")||_1c6.getAttribute("event")),prop=_1c6.getAttribute(_1bc+"prop"),_1c8=_1c6.getAttribute(_1bc+"method"),_1c9=_1c6.getAttribute(_1bc+"advice"),_1ca=_1c6.getAttribute("type"),nf=this._functionFromScript(_1c6,_1bc);if(_1c7){if(_1ca=="dojo/connect"){_1c3.push({method:_1c7,func:nf});}else{if(_1ca=="dojo/on"){ons.push({event:_1c7,func:nf});}else{_1b6[_1c7]=nf;}}}else{if(_1ca=="dojo/aspect"){_1c3.push({method:_1c8,advice:_1c9,func:nf});}else{if(_1ca=="dojo/watch"){_1c5.push({prop:prop,func:nf});}else{_1c4.push(nf);}}}}}var _1cb=ctor.markupFactory||_1b5.markupFactory;var _1cc=_1cb?_1cb(_1b6,node,ctor):new ctor(_1b6,node);if(_1be){_188.setObject(_1be,_1cc);}for(i=0;i<_1c3.length;i++){_18f[_1c3[i].advice||"after"](_1cc,_1c3[i].method,_188.hitch(_1cc,_1c3[i].func),true);}for(i=0;i<_1c4.length;i++){_1c4[i].call(_1cc);}for(i=0;i<_1c5.length;i++){_1cc.watch(_1c5[i].prop,_1c5[i].func);}for(i=0;i<ons.length;i++){don(_1cc,ons[i].event,ons[i].func);}return _1cc;},scan:function(root,_1cd){var list=[],mids=[],_1ce={};var _1cf=(_1cd.scope||dojo._scopeName)+"Type",_1d0="data-"+(_1cd.scope||dojo._scopeName)+"-",_1d1=_1d0+"type",_1d2=_1d0+"textdir",_1d3=_1d0+"mixins";var node=root.firstChild;var _1d4=_1cd.inherited;if(!_1d4){function _1d5(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1d5(node.parentNode,attr));};_1d4={dir:_1d5(root,"dir"),lang:_1d5(root,"lang"),textDir:_1d5(root,_1d2)};for(var key in _1d4){if(!_1d4[key]){delete _1d4[key];}}}var _1d6={inherited:_1d4};var _1d7;var _1d8;function _1d9(_1da){if(!_1da.inherited){_1da.inherited={};var node=_1da.node,_1db=_1d9(_1da.parent);var _1dc={dir:node.getAttribute("dir")||_1db.dir,lang:node.getAttribute("lang")||_1db.lang,textDir:node.getAttribute(_1d2)||_1db.textDir};for(var key in _1dc){if(_1dc[key]){_1da.inherited[key]=_1dc[key];}}}return _1da.inherited;};while(true){if(!node){if(!_1d6||!_1d6.node){break;}node=_1d6.node.nextSibling;_1d8=false;_1d6=_1d6.parent;_1d7=_1d6.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1d7&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1d7.push(node);}node=node.nextSibling;continue;}if(_1d8){node=node.nextSibling;continue;}var type=node.getAttribute(_1d1)||node.getAttribute(_1cf);var _1dd=node.firstChild;if(!type&&(!_1dd||(_1dd.nodeType==3&&!_1dd.nextSibling))){node=node.nextSibling;continue;}var _1de;var ctor=null;if(type){var _1df=node.getAttribute(_1d3),_1e0=_1df?[type].concat(_1df.split(/\s*,\s*/)):[type];try{ctor=_198(_1e0);}catch(e){}if(!ctor){_189.forEach(_1e0,function(t){if(~t.indexOf("/")&&!_1ce[t]){_1ce[t]=true;mids[mids.length]=t;}});}var _1e1=ctor&&!ctor.prototype._noScript?[]:null;_1de={types:_1e0,ctor:ctor,parent:_1d6,node:node,scripts:_1e1};_1de.inherited=_1d9(_1de);list.push(_1de);}else{_1de={node:node,scripts:_1d7,parent:_1d6};}node=_1dd;_1d7=_1e1;_1d8=ctor&&ctor.prototype.stopParser&&!(_1cd.template);_1d6=_1de;}var d=new _191();if(mids.length){if(has("dojo-debug-messages")){console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));}_187(mids,function(){d.resolve(_189.filter(list,function(_1e2){if(!_1e2.ctor){try{_1e2.ctor=_198(_1e2.types);}catch(e){}}var _1e3=_1e2.parent;while(_1e3&&!_1e3.types){_1e3=_1e3.parent;}var _1e4=_1e2.ctor&&_1e2.ctor.prototype;_1e2.instantiateChildren=!(_1e4&&_1e4.stopParser&&!(_1cd.template));_1e2.instantiate=!_1e3||(_1e3.instantiate&&_1e3.instantiateChildren);return _1e2.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1e5){var hash=_18e.fromJson("{"+_1e5.innerHTML+"}"),vars=[],mids=[],d=new _191();for(var name in hash){vars.push(name);mids.push(hash[name]);}_187(mids,function(){for(var i=0;i<vars.length;i++){_188.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _1e6=new _191(),_1e7=_1e6.promise;_1e6.resolve(true);var self=this;_192("script[type='dojo/require']",root).forEach(function(node){_1e7=_1e7.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _1e7;},parse:function(_1e8,_1e9){var root;if(!_1e9&&_1e8&&_1e8.rootNode){_1e9=_1e8;root=_1e9.rootNode;}else{if(_1e8&&_188.isObject(_1e8)&&!("nodeType" in _1e8)){_1e9=_1e8;}else{root=_1e8;}}root=root?_18b.byId(root):_18c.body();_1e9=_1e9||{};var _1ea=_1e9.template?{template:true}:{},_1eb=[],self=this;var p=this._scanAmd(root,_1e9).then(function(){return self.scan(root,_1e9);}).then(function(_1ec){return _1eb=_1eb.concat(self._instantiate(_1ec,_1ea,_1e9));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_188.mixin(_1eb,p);return _1eb;}};if(1){dojo.parser=_19b;}if(_18a.parseOnLoad){_193(100,_19b,"parse");}return _19b;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1ed=function(){var n=null,_1ee=arguments,uri=[_1ee[0]];for(var i=1;i<_1ee.length;i++){if(!_1ee[i]){continue;}var _1ef=new _1ed(_1ee[i]+""),_1f0=new _1ed(uri[0]+"");if(_1ef.path==""&&!_1ef.scheme&&!_1ef.authority&&!_1ef.query){if(_1ef.fragment!=n){_1f0.fragment=_1ef.fragment;}_1ef=_1f0;}else{if(!_1ef.scheme){_1ef.scheme=_1f0.scheme;if(!_1ef.authority){_1ef.authority=_1f0.authority;if(_1ef.path.charAt(0)!="/"){var path=_1f0.path.substring(0,_1f0.path.lastIndexOf("/")+1)+_1ef.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1ef.path=segs.join("/");}}}}uri=[];if(_1ef.scheme){uri.push(_1ef.scheme,":");}if(_1ef.authority){uri.push("//",_1ef.authority);}uri.push(_1ef.path);if(_1ef.query){uri.push("?",_1ef.query);}if(_1ef.fragment){uri.push("#",_1ef.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1ed.prototype.toString=function(){return this.uri;};return dojo._Url=_1ed;});},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n"}});define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1f1,_1f2,_1f3,keys,lang,_1f4,_1f5,_1f6,_1f7,_1f8,_1f9,_1fa){return _1f1("dijit.TooltipDialog",[_1f5,_1f8,_1f7,_1f6],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1f9,_setTitleAttr:function(_1fb){this.containerNode.title=_1fb;this._set("title",_1fb);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_1fc,_1fd){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1fc+"-"+_1fd];_1f2.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_1f4.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1fe=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1fe.y+((_1fe.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1fe.x+((_1fe.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _1ff=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_1f3.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_1ff){_1f4.focus(this._lastFocusItem);}_1f3.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_1ff){_1f4.focus(this._firstFocusItem);}_1f3.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_200,a11y){return _200("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _201=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_201.lowest||_201.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_201.last||_201.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_202,_203,_204,lang,on,_205){return _203("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_206){var res=[];_202.forEach(_206||this.getChildren(),function(_207){if("value" in _207){res.push(_207);}else{res=res.concat(this._getDescendantFormWidgets(_207.getChildren()));}},this);return res;},reset:function(){_202.forEach(this._getDescendantFormWidgets(),function(_208){if(_208.reset){_208.reset();}});},validate:function(){var _209=false;return _202.every(_202.map(this._getDescendantFormWidgets(),function(_20a){_20a._hasBeenBlurred=true;var _20b=_20a.disabled||!_20a.validate||_20a.validate();if(!_20b&&!_209){_205.scrollIntoView(_20a.containerNode||_20a.domNode);_20a.focus();_209=true;}return _20b;}),function(item){return item;});},setValues:function(val){_204.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_202.forEach(this._getDescendantFormWidgets(),function(_20c){if(!_20c.name){return;}var _20d=map[_20c.name]||(map[_20c.name]=[]);_20d.push(_20c);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _20e=map[name],_20f=lang.getObject(name,false,obj);if(_20f===undefined){continue;}if(!lang.isArray(_20f)){_20f=[_20f];}if(typeof _20e[0].checked=="boolean"){_202.forEach(_20e,function(w){w.set("value",_202.indexOf(_20f,w.value)!=-1);});}else{if(_20e[0].multiple){_20e[0].set("value",_20f);}else{_202.forEach(_20e,function(w,i){w.set("value",_20f[i]);});}}}},getValues:function(){_204.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_202.forEach(this._getDescendantFormWidgets(),function(_210){var name=_210.name;if(!name||_210.disabled){return;}var _211=_210.get("value");if(typeof _210.checked=="boolean"){if(/Radio/.test(_210.declaredClass)){if(_211!==false){lang.setObject(name,_211,obj);}else{_211=lang.getObject(name,false,obj);if(_211===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_211!==false){ary.push(_211);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_211);}else{lang.setObject(name,[prev,_211],obj);}}else{lang.setObject(name,_211,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _212=_202.map(this._descendants,function(w){return w.get("state")||"";});return _202.indexOf(_212,"Error")>=0?"Error":_202.indexOf(_212,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_213){this._descendants=this._getDescendantFormWidgets();_202.forEach(this._descendants,function(_214){if(!_214._started){_214.startup();}});if(!_213){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_215,_216){this.onValidStateChange(_216=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_217,_218,_219,_21a,_21b,_21c,_21d,has,_21e){var _21f=_21c("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _220=this.declaredClass,_221=this;return _219.substitute(tmpl,this,function(_222,key){if(key.charAt(0)=="!"){_222=lang.getObject(key.substr(1),false,_221);}if(typeof _222=="undefined"){throw new Error(_220+" template:"+key);}if(_222==null){return "";}return key.charAt(0)=="!"?_222:_222.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_21a(this.templatePath,{sanitize:true});}var _223=_21f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_223)){node=_21d.toDom(this._stringRepl(_223),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_223);}}else{node=_223.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_224){var dest=this.containerNode;if(_224&&dest){while(_224.hasChildNodes()){dest.appendChild(_224.firstChild);}}},_attachTemplateNodes:function(_225,_226){var _227=lang.isArray(_225)?_225:(_225.all||_225.getElementsByTagName("*"));var x=lang.isArray(_225)?0:-1;for(;x<0||_227[x];x++){var _228=(x==-1)?_225:_227[x];if(this.widgetsInTemplate&&(_226(_228,"dojoType")||_226(_228,"data-dojo-type"))){continue;}var _229=_226(_228,"dojoAttachPoint")||_226(_228,"data-dojo-attach-point");if(_229){var _22a,_22b=_229.split(/\s*,\s*/);while((_22a=_22b.shift())){if(lang.isArray(this[_22a])){this[_22a].push(_228);}else{this[_22a]=_228;}this._attachPoints.push(_22a);}}var _22c=_226(_228,"dojoAttachEvent")||_226(_228,"data-dojo-attach-event");if(_22c){var _22d,_22e=_22c.split(/\s*,\s*/);var trim=lang.trim;while((_22d=_22e.shift())){if(_22d){var _22f=null;if(_22d.indexOf(":")!=-1){var _230=_22d.split(":");_22d=trim(_230[0]);_22f=trim(_230[1]);}else{_22d=trim(_22d);}if(!_22f){_22f=_22d;}this._attachEvents.push(this.connect(_228,_217[_22d]||_22d,_22f));}}}}},destroyRendering:function(){_21b.forEach(this._attachPoints,function(_231){delete this[_231];},this);this._attachPoints=[];_21b.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_21f._templateCache={};_21f.getCachedTemplate=function(_232,_233,doc){var _234=_21f._templateCache;var key=_232;var _235=_234[key];if(_235){try{if(!_235.ownerDocument||_235.ownerDocument==(doc||document)){return _235;}}catch(e){}_21d.destroy(_235);}_232=_219.trim(_232);if(_233||_232.match(/\$\{([^\}]+)\}/g)){return (_234[key]=_232);}else{var node=_21d.toDom(_232,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_232);}return (_234[key]=node);}};if(has("ie")){_21e.addOnWindowUnload(function(){var _236=_21f._templateCache;for(var key in _236){var _237=_236[key];if(typeof _237=="object"){_21d.destroy(_237);}delete _236[key];}});}lang.extend(_218,{dojoAttachEvent:"",dojoAttachPoint:""});return _21f;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_238,dom,on,has,_239,_23a,win){var _23b=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _23c;function _23d(_23e,_23f){if(_23b){return function(node,_240){var _241=on(node,_23f,_240),_242=on(node,_23e,function(evt){if(!_23c||(new Date()).getTime()>_23c+1000){_240.call(this,evt);}});return {remove:function(){_241.remove();_242.remove();}};};}else{return function(node,_243){return on(node,_23e,_243);};}};var _244,_245;if(_23b){_23a(function(){_245=win.body();win.doc.addEventListener("touchstart",function(evt){_23c=(new Date()).getTime();var _246=_245;_245=evt.target;on.emit(_246,"dojotouchout",{target:_246,relatedTarget:_245,bubbles:true});on.emit(_245,"dojotouchover",{target:_245,relatedTarget:_246,bubbles:true});},true);on(win.doc,"touchmove",function(evt){_23c=(new Date()).getTime();var _247=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_247&&_245!==_247){on.emit(_245,"dojotouchout",{target:_245,relatedTarget:_247,bubbles:true});on.emit(_247,"dojotouchover",{target:_247,relatedTarget:_245,bubbles:true});_245=_247;}});});_244=function(node,_248){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_245,node)){evt.target=_245;_248.call(this,evt);}});};}var _249={press:_23d("mousedown","touchstart"),move:_23d("mousemove",_244),release:_23d("mouseup","touchend"),cancel:_23d(_239.leave,"touchcancel"),over:_23d("mouseover","dojotouchover"),out:_23d("mouseout","dojotouchout"),enter:_239._eventHandler(_23d("mouseover","dojotouchover")),leave:_239._eventHandler(_23d("mouseout","dojotouchout"))};1&&(dojo.touch=_249);return _249;});},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_24a,has,xhr){var _24b;if(1){_24b=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_24a.getText){_24b=_24a.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _24c={},_24d=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _24e=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_24e){text=_24e[1];}}else{text="";}return text;},_24f={},_250={};dojo.cache=function(_251,url,_252){var key;if(typeof _251=="string"){if(/\//.test(_251)){key=_251;_252=url;}else{key=_24a.toUrl(_251.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_251+"";_252=url;}var val=(_252!=undefined&&typeof _252!="string")?_252.value:_252,_253=_252&&_252.sanitize;if(typeof val=="string"){_24c[key]=val;return _253?_24d(val):val;}else{if(val===null){delete _24c[key];return null;}else{if(!(key in _24c)){_24b(key,true,function(text){_24c[key]=text;});}return _253?_24d(_24c[key]):_24c[key];}}};return {dynamic:true,normalize:function(id,_254){var _255=id.split("!"),url=_255[0];return (/^\./.test(url)?_254(url):url)+(_255[1]?"!"+_255[1]:"");},load:function(id,_256,load){var _257=id.split("!"),_258=_257.length>1,_259=_257[0],url=_256.toUrl(_257[0]),_25a="url:"+url,text=_24f,_25b=function(text){load(_258?_24d(text):text);};if(_259 in _24c){text=_24c[_259];}else{if(_25a in _256.cache){text=_256.cache[_25a];}else{if(url in _24c){text=_24c[url];}}}if(text===_24f){if(_250[url]){_250[url].push(_25b);}else{var _25c=_250[url]=[_25b];_24b(url,!_256.async,function(text){_24c[_259]=_24c[url]=text;for(var i=0;i<_25c.length;){_25c[i++](text);}delete _250[url];});}}else{_25b(text);}}};});},"url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_25d,_25e,_25f,_260){return _25d("dijit.form.Textarea",[_260,_25f],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_25e.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_261,_262,has,lang,on,win,_263){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_262.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _264=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _264;});return _261("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _265=this.textbox;_265.style.overflowY="hidden";this.own(on(_265,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_263.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _266=this.textbox;_266.rows=(_266.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _267=this.textbox;function _268(){var _269=false;if(_267.value===""){_267.value=" ";_269=true;}var sh=_267.scrollHeight;if(_269){_267.value="";}return sh;};if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_268()||_267.offsetHeight){var newH=_268()+Math.max(_267.offsetHeight-_267.clientHeight,0);var _26a=newH+"px";if(_26a!=_267.style.height){_267.style.height=_26a;_267.rows=1;}if(has("textarea-needs-help-shrinking")){var _26b=_268(),_26c=_26b,_26d=_267.style.minHeight,_26e=4,_26f,_270=_267.scrollTop;_267.style.minHeight=_26a;_267.style.height="auto";while(newH>0){_267.style.minHeight=Math.max(newH-_26e,4)+"px";_26f=_268();var _271=_26c-_26f;newH-=_271;if(_271<_26e){break;}_26c=_26f;_26e<<=1;}_267.style.height=newH+"px";_267.style.minHeight=_26d;_267.scrollTop=_270;}_267.style.overflowY=_268()>_267.clientHeight?"auto":"hidden";if(_267.style.overflowY=="hidden"){_267.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_272,_273,has,_274){return _272("dijit.form.SimpleTextarea",_274,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_273.add(this.textbox,"dijitTextAreaCols");}},filter:function(_275){if(_275){_275=_275.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _276=parseInt(this.maxLength);var _277=this.textbox.value.replace(/\r/g,"");var _278=_277.length-_276;if(_278>0){var _279=this.textbox;if(_279.selectionStart){var pos=_279.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_277.substring(0,pos-_278-cr)+_277.substring(pos-cr);_279.setSelectionRange(pos-_278,pos-_278);}else{if(this.ownerDocument.selection){_279.focus();var _27a=this.ownerDocument.selection.createRange();_27a.moveStart("character",-_278);_27a.text="";_27a.select();}}}}this.inherited(arguments);}});});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_27b,_27c,_27d,_27e,lang,has,_27f,_280,_281,_282){var _283=_27b("dijit.form.TextBox",[_27f,_280],{templateString:_281,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_27d.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _284=this.domNode.getElementsByTagName("INPUT");if(_284){for(var i=0;i<_284.length;i++){_284[i].style.fontFamily=ff;}}}}}catch(e){}});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_27c.create("span",{onmousedown:function(e){e.preventDefault();},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_onInput:function(evt){this.inherited(arguments);this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_285,_286,_287){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_27e.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_288){_27e.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_288);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")<9){_283.prototype._isTextSelected=function(){var _289=this.ownerDocument.selection.createRange();var _28a=_289.parentElement();return _28a==this.textbox&&_289.text.length>0;};_282._setSelectionRange=_280._setSelectionRange=function(_28b,_28c,stop){if(_28b.createTextRange){var r=_28b.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_28c);r.moveEnd("character",stop-_28c);r.select();}};}return _283;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_28d,has,_28e,_28f){return _28d("dijit.form._FormValueWidget",[_28e,_28f],{_layoutHackIE7:function(){if(has("ie")==7){var _290=this.domNode;var _291=_290.parentNode;var _292=_290.firstChild||_290;var _293=_292.style.filter;var _294=this;while(_291&&_291.clientHeight==0){(function ping(){var _295=_294.connect(_291,"onscroll",function(){_294.disconnect(_295);_292.style.filter=(new Date()).getMilliseconds();_294.defer(function(){_292.style.filter=_293;});});})();_291=_291.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_296,has,_297,_298,_299,_29a,_29b,_29c){if(has("dijit-legacy-requires")){_298(0,function(){var _29d=["dijit/form/_FormValueWidget"];require(_29d);});}return _296("dijit.form._FormWidget",[_299,_29b,_29a,_29c],{setDisabled:function(_29e){_297.deprecated("setDisabled("+_29e+") is deprecated. Use set('disabled',"+_29e+") instead.","","2.0");this.set("disabled",_29e);},setValue:function(_29f){_297.deprecated("dijit.form._FormWidget:setValue("+_29f+") is deprecated.  Use set('value',"+_29f+") instead.","","2.0");this.set("value",_29f);},getValue:function(){_297.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_2a0,_2a1,dom,_2a2,has,lang,on,_2a3,win,_2a4){var _2a5=_2a1("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_2a0.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_2a6){if(!this.disabled){switch(_2a6.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _2a7=this.baseClass.split(" ");function _2a8(_2a9){_2a7=_2a7.concat(_2a0.map(_2a7,function(c){return c+_2a9;}),"dijit"+_2a9);};if(!this.isLeftToRight()){_2a8("Rtl");}var _2aa=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_2a8(_2aa);}if(this.state){_2a8(this.state);}if(this.selected){_2a8("Selected");}if(this._opened){_2a8("Opened");}if(this.disabled){_2a8("Disabled");}else{if(this.readOnly){_2a8("ReadOnly");}else{if(this.active){_2a8("Active");}else{if(this.hovering){_2a8("Hover");}}}}if(this.focused){_2a8("Focused");}var tn=this.stateNode||this.domNode,_2ab={};_2a0.forEach(tn.className.split(" "),function(c){_2ab[c]=true;});if("_stateClasses" in this){_2a0.forEach(this._stateClasses,function(c){delete _2ab[c];});}_2a0.forEach(_2a7,function(c){_2ab[c]=true;});var _2ac=[];for(var c in _2ab){_2ac.push(c);}tn.className=_2ac.join(" ");this._stateClasses=_2a7;},_subnodeCssMouseEvent:function(node,_2ad,evt){if(this.disabled||this.readOnly){return;}function _2ae(_2af){_2a2.toggle(node,_2ad+"Hover",_2af);};function _2b0(_2b1){_2a2.toggle(node,_2ad+"Active",_2b1);};function _2b2(_2b3){_2a2.toggle(node,_2ad+"Focused",_2b3);};switch(evt.type){case "mouseover":_2ae(true);break;case "mouseout":_2ae(false);_2b0(false);break;case "mousedown":case "touchstart":_2b0(true);break;case "mouseup":case "touchend":_2b0(false);break;case "focus":case "focusin":_2b2(true);break;case "blur":case "focusout":_2b2(false);break;}},_trackMouseState:function(node,_2b4){node._cssState=_2b4;}});_2a3(function(){function _2b5(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _2b6=_2a4.getEnclosingWidget(node);if(_2b6){if(node==_2b6.domNode){_2b6._cssMouseEvent(evt);}else{_2b6._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _2b7(evt){evt.target=evt.srcElement;_2b5(evt);};var body=win.body(),_2b8=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_2a0.forEach(_2b8,function(type){if(body.addEventListener){body.addEventListener(type,_2b5,true);}else{body.attachEvent("on"+type,_2b7);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _2b9=_2a4.getEnclosingWidget(node);_2b9._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _2a5;});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_2ba,_2bb,_2bc,_2bd,lang,_2be,has,_2bf,a11y){return _2bb("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_2c0){this._set("disabled",_2c0);_2bc.set(this.focusNode,"disabled",_2c0);if(this.valueNode){_2bc.set(this.valueNode,"disabled",_2c0);}this.focusNode.setAttribute("aria-disabled",_2c0?"true":"false");if(_2c0){this._set("hovering",false);this._set("active",false);var _2c1="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_2ba.forEach(lang.isArray(_2c1)?_2c1:[_2c1],function(_2c2){var node=this[_2c2];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _2c3=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_2c4);this.disconnect(_2c3);});var _2c4=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_2c4);this.disconnect(_2c3);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_2bf.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_2bd.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_2c5,_2c6){if(this._lastValueReported==undefined&&(_2c6===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2c5;}this._pendingOnChange=this._pendingOnChange||(typeof _2c5!=typeof this._lastValueReported)||(this.compare(_2c5,this._lastValueReported)!=0);if((this.intermediateChanges||_2c6||_2c6===undefined)&&this._pendingOnChange){this._lastValueReported=_2c5;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_2c5);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_2c7,_2c8,keys,has,_2c9){return _2c7("dijit.form._FormValueMixin",_2c9,{readOnly:false,_setReadOnlyAttr:function(_2ca){_2c8.set(this.focusNode,"readOnly",_2ca);this._set("readOnly",_2ca);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_2cb,_2cc){this._handleOnChange(_2cb,_2cc);},_handleOnChange:function(_2cd,_2ce){this._set("value",_2cd);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_2cf,_2d0,dom,_2d1,keys,lang,on,_2d2){var _2d3=_2d0("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2d4,_2d5,_2d6){var _2d7;if(_2d4!==undefined){_2d7=this.filter(_2d4);if(typeof _2d6!="string"){if(_2d7!==null&&((typeof _2d7!="number")||!isNaN(_2d7))){_2d6=this.filter(this.format(_2d7,this.constraints));}else{_2d6="";}}}if(_2d6!=null&&((typeof _2d6)!="number"||!isNaN(_2d6))&&this.textbox.value!=_2d6){this.textbox.value=_2d6;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d6);}this.inherited(arguments,[_2d7,_2d5]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_2d8){if(_2d8==null){_2d8="";}else{if(typeof _2d8!="string"){_2d8=String(_2d8);}}this.textbox.value=_2d8;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2d8);}},format:function(_2d9){return _2d9==null?"":(_2d9.toString?_2d9.toString():_2d9);},parse:function(_2da){return _2da;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._processInput(evt);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _2db=function(e){var _2dc;if(e.type=="keydown"){_2dc=e.keyCode;switch(_2dc){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_2dc){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_2dc>=65&&_2dc<=90)||(_2dc>=48&&_2dc<=57)||_2dc==keys.SPACE){return;}var _2dd=false;for(var i in keys){if(keys[i]===e.keyCode){_2dd=true;break;}}if(!_2dd){return;}}}_2dc=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_2dc){_2dc=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_2dc){_2dc=229;}if(e.type=="keypress"){if(typeof _2dc!="string"){return;}if((_2dc>="a"&&_2dc<="z")||(_2dc>="A"&&_2dc<="Z")||(_2dc>="0"&&_2dc<="9")||(_2dc===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_2dc,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_2db)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;if(!this._isTextSelected()){_2d3.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_2de){if(!this._created||this.textDir!=_2de){this._set("textDir",_2de);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_2d3._setSelectionRange=_2d2._setSelectionRange=function(_2df,_2e0,stop){if(_2df.setSelectionRange){_2df.setSelectionRange(_2e0,stop);}};_2d3.selectInputText=_2d2.selectInputText=function(_2e1,_2e2,stop){_2e1=dom.byId(_2e1);if(isNaN(_2e2)){_2e2=0;}if(isNaN(stop)){stop=_2e1.value?_2e1.value.length:0;}try{_2e1.focus();_2d3._setSelectionRange(_2e1,_2e2,stop);}catch(e){}};return _2d3;});},"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dojo/dnd/AutoSource":function(){define("dojo/dnd/AutoSource",["../_base/declare","./Source"],function(_2e3,_2e4){return _2e3("dojo.dnd.AutoSource",_2e4,{constructor:function(){this.autoSync=true;}});});},"dojo/dnd/Source":function(){define("dojo/dnd/Source",["../_base/array","../_base/connect","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_2e5,_2e6,_2e7,_2e8,lang,_2e9,_2ea,_2eb,_2ec,_2ed,dnd,_2ee,_2ef){if(!_2e8.isAsync){_2ec(0,function(){var _2f0=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_2f0);});}var _2f1=_2e7("dojo.dnd.Source",_2ee,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_2f2){lang.mixin(this,lang.mixin({},_2f2));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_2e9.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_2e9.add(this.node,"dojoDndTarget");}if(this.horizontal){_2e9.add(this.node,"dojoDndHorizontal");}this.topics=[_2ed.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_2ed.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_2ed.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_2ed.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_2f3,_2f4){if(this==_2f3){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_2f4.length;++i){var type=_2f3.getItem(_2f4[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_2f5,self){if(_2f5){return true;}if(arguments.length<2){self=this==_2ef.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_2f1.superclass.destroy.call(this);_2e5.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_2f1.superclass.onMouseMove.call(this,e);var m=_2ef.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _2f6=this.getSelectedNodes();if(_2f6.length){m.startDrag(this,_2f6,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _2f7=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_2ea.position(this.current,true);}if(this.horizontal){_2f7=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_2ea.isBodyLtr(this.current.ownerDocument);}else{_2f7=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_2f7!=this.before){this._markTargetAnchor(_2f7);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_2f1.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_2f1.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_2f8){if(this!==_2f8){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_2ef.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_2f9,_2fa,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_2f9?(copy?"Copied":"Moved"):"");}var _2fb=this.accept&&this.checkAcceptance(_2f9,_2fa);this._changeState("Target",_2fb?"":"Disabled");if(this==_2f9){_2ef.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_2fc,_2fd,copy,_2fe){if(this==_2fe){this.onDrop(_2fc,_2fd,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_2ff,_300,copy){if(this!=_2ff){this.onDropExternal(_2ff,_300,copy);}else{this.onDropInternal(_300,copy);}},onDropExternal:function(_301,_302,copy){var _303=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _303.call(this,_301.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_301.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_301.getItem(node.id);_301.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_301.selectNone();}this.insertNodes(true,_302,this.before,this.current);if(!copy&&this.creator){_301.deleteSelectedNodes();}this._normalizedCreator=_303;},onDropInternal:function(_304,copy){var _305=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _305.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_304,this.before,this.current);this._normalizedCreator=_305;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_2f1.superclass.onOverEvent.call(this);_2ef.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_2f1.superclass.onOutEvent.call(this);_2ef.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_306){if(this.current==this.targetAnchor&&this.before==_306){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_306;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_2eb.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_2e9.contains(node,"dojoDndHandle")){return true;}if(_2e9.contains(node,"dojoDndItem")||_2e9.contains(node,"dojoDndIgnore")){break;}}return false;}});return _2f1;});},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(_307,_308,lang,dom){var _309=lang.getObject("dojo.dnd",true);_309.getCopyKeyState=_307.isCopyKey;_309._uniqueId=0;_309.getUniqueId=function(){var id;do{id=_308._scopeName+"Unique"+(++_309._uniqueId);}while(dom.byId(id));return id;};_309._empty={};_309.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _309;});},"dojo/dnd/Selector":function(){define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_30a,_30b,_30c,_30d,lang,dom,_30e,_30f,_310,on,_311,dnd,_312){var _313=_30b("dojo.dnd.Selector",_312,{constructor:function(node,_314){if(!_314){_314={};}this.singular=_314.singular;this.autoSync=_314.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_311.press,lang.hitch(this,"onMouseDown")),on(this.node,_311.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _310();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_30e.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_30d.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_313.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_30a.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_315,data,_316,_317){var _318=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_318.call(this,item,hint);if(_315){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_313.superclass.insertNodes.call(this,data,_316,_317);this._normalizedCreator=_318;return this;},destroy:function(){_313.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_30f.isLeft(e)){_30c.stop(e);}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}_30c.stop(e);},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_311.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _313;});},"dojo/dnd/Container":function(){define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../ready","../touch","./common"],function(_319,_31a,_31b,_31c,lang,win,dom,_31d,_31e,_31f,has,on,_320,_321,_322,dnd){var _323=_31a("dojo.dnd.Container",_31f,{skipForm:false,allowNested:false,constructor:function(node,_324){this.node=dom.byId(node);if(!_324){_324={};}this.creator=_324.creator||null;this.skipForm=_324.skipForm;this.parent=_324.dropParent&&dom.byId(_324.dropParent);this.map={};this.current=null;this.containerState="";_31d.add(this.node,"dojoDndContainer");if(!(_324&&_324._skipStartup)){this.startup();}this.events=[on(this.node,_322.over,lang.hitch(this,"onMouseOver")),on(this.node,_322.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_31c.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _320((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_325,_326){if(!this.parent.firstChild){_326=null;}else{if(_325){if(!_326){_326=this.parent.firstChild;}}else{if(_326){_326=_326.nextSibling;}}}var i,t;if(_326){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_326.parentNode.insertBefore(t.node,_326);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_319.forEach(this.events,function(_327){_327.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_328,node,Ctor){_328._skipStartup=true;return new Ctor(node,_328);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){_31b.stop(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_329){var _32a="dojoDnd"+type;var _32b=type.toLowerCase()+"State";_31d.replace(this.node,_32a+_329,_32a+this[_32b]);this[_32b]=_329;},_addItemClass:function(node,type){_31d.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_31d.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _32c=node.parentNode;_32c;node=_32c,_32c=node.parentNode){if((_32c==this.parent||this.allowNested)&&_31d.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_31d.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _31e.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_31e.create("tr");_31e.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _31e.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _32d=item&&lang.isObject(item),data,type,n;if(_32d&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_32d&&item.data)?item.data:item;type=(_32d&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _323;});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_32e,_32f,_330,lang,win,_331,_332,has,keys,on,_333,_334,dnd,_335,_336){var _337=_32f("dojo.dnd.Manager",[_332],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_338){if(this.avatar){this.target=(_338&&_338.targetState!="Disabled")?_338:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_333.publish("/dnd/source/over",_338);},outSource:function(_339){if(this.avatar){if(this.target==_339){this.target=null;this.canDropFlag=false;this.avatar.update();_333.publish("/dnd/source/over",null);}}else{_333.publish("/dnd/source/over",null);}},startDrag:function(_33a,_33b,copy){_335.autoScrollStart(win.doc);this.source=_33a;this.nodes=_33b;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_333.publish("/dnd/start",_33a,_33b,this.copy);this.events=[on(win.doc,_334.move,lang.hitch(this,"onMouseMove")),on(win.doc,_334.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_330.stop),on(win.body(),"selectstart",_330.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_331.add(win.body(),c);},canDrop:function(flag){var _33c=Boolean(this.target&&flag);if(this.canDropFlag!=_33c){this.canDropFlag=_33c;this.avatar.update();}},stopDrag:function(){_331.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_32e.forEach(this.events,function(_33d){_33d.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _336(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_335.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_333.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_333.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_333.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_333.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_331.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_337.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _337();}return dnd._manager;};return _337;});},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_33e,_33f,_340){var _341={};lang.setObject("dojo.dnd.autoscroll",_341);_341.getViewport=_340.getBox;_341.V_TRIGGER_AUTOSCROLL=32;_341.H_TRIGGER_AUTOSCROLL=32;_341.V_AUTOSCROLL_VALUE=16;_341.H_AUTOSCROLL_VALUE=16;var _342,doc=win.doc,_343=Infinity,_344=Infinity;_341.autoScrollStart=function(d){doc=d;_342=_340.getBox(doc);var html=win.body(doc).parentNode;_343=Math.max(html.scrollHeight-_342.h,0);_344=Math.max(html.scrollWidth-_342.w,0);};_341.autoScroll=function(e){var v=_342||_340.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_341.H_TRIGGER_AUTOSCROLL){dx=-_341.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_341.H_TRIGGER_AUTOSCROLL){dx=Math.min(_341.H_AUTOSCROLL_VALUE,_344-html.scrollLeft);}}if(e.clientY<_341.V_TRIGGER_AUTOSCROLL){dy=-_341.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_341.V_TRIGGER_AUTOSCROLL){dy=Math.min(_341.V_AUTOSCROLL_VALUE,_343-html.scrollTop);}}window.scrollBy(dx,dy);};_341._validNodes={"div":1,"p":1,"td":1};_341._validOverflow={"auto":1,"scroll":1};_341.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_345,_346;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _341._validNodes)){var s=_33f.getComputedStyle(n),_347=(s.overflow.toLowerCase() in _341._validOverflow),_348=(s.overflowX.toLowerCase() in _341._validOverflow),_349=(s.overflowY.toLowerCase() in _341._validOverflow);if(_347||_348||_349){b=_33e.getContentBox(n,s);t=_33e.position(n,true);}if(_347||_348){w=Math.min(_341.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_345=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_347||_349){h=Math.min(_341.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_346=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_341.autoScroll(e);};return _341;});},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_34a,win,dom,_34b,_34c,_34d,has,_34e){return _34a("dojo.dnd.Avatar",null,{constructor:function(_34f){this.manager=_34f;this.construct();},construct:function(){var a=_34d.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_350=this.manager.source,node,b=_34d.create("tbody",null,a),tr=_34d.create("tr",null,b),td=_34d.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_34d.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_34d.create("span",{innerHTML:_350.generateText?this._generateText():""},td);_34b.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_350.creator){node=_350._normalizedCreator(_350.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _351=_34d.create("table"),_352=_34d.create("tbody",null,_351);_352.appendChild(node);node=_351;}}node.id="";tr=_34d.create("tr",null,b);td=_34d.create("td",null,tr);td.appendChild(node);_34b.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_34d.destroy(this.node);this.node=false;},update:function(){_34c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_34e(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/Target":function(){define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(_353,_354,_355){return _353("dojo.dnd.Target",_355,{constructor:function(){this.isSource=false;_354.remove(this.node,"dojoDndSource");}});});},"dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_356,_357,_358){return _356("dojo.fx.Toggler",null,{node:null,showFunc:_357.fadeIn,hideFunc:_357.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _359=this;lang.mixin(_359,args);_359.node=args.node;_359._showArgs=lang.mixin({},args);_359._showArgs.node=_359.node;_359._showArgs.duration=_359.showDuration;_359.showAnim=_359.showFunc(_359._showArgs);_359._hideArgs=lang.mixin({},args);_359._hideArgs.node=_359.node;_359._hideArgs.duration=_359.hideDuration;_359.hideAnim=_359.hideFunc(_359._hideArgs);_358.connect(_359.showAnim,"beforeBegin",lang.hitch(_359.hideAnim,"stop",true));_358.connect(_359.hideAnim,"beforeBegin",lang.hitch(_359.showAnim,"stop",true));},show:function(_35a){return this.showAnim.play(_35a||0);},hide:function(_35b){return this.hideAnim.play(_35b||0);}});});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n"}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_35c,_35d,lang,_35e,_35f,win,_360,_361,_362,_363,_364,_365,_366,_367,res,_368){_35c.experimental("dojox.form.Uploader");_35d("dojox.form.Uploader",[_367,_366],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_368,baseClass:"dijitUploader "+_366.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_360.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_362.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_369){var i=0,l=_369.length,f,r=[];while((f=_369[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_36a){},onBegin:function(_36b){},onProgress:function(_36c){},onComplete:function(_36d){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_36e){},upload:function(_36f){},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_364.toObject(form);this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_35e.forEach(this._inputs,_363.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _370=[];if(this.supports("multiple")){_35e.forEach(this._files,function(f,i){_370.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_35e.forEach(this._inputs,function(n,i){if(n.value){_370.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _370;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_371){console.error("Uploader value is read only");},_setDisabledAttr:function(_372){if(this.disabled==_372||!this.inputNode){return;}this.inherited(arguments);_360.set(this.inputNode,"display",_372?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_360.get(node,"width"),h:_360.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.multiple&&this.supports("multiple")){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_360.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_363.create("input",{type:"file",name:name},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_362.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_360.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_35f.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_35f.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_35f.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_35e.forEach(this._cons,_35f.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _373=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(plug){_373.push(plug);_35d("dojox.form.Uploader",_373,{});};return dojox.form.Uploader;});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_374,_375,_376,has,_377,lang,_378,_379,_37a,_37b){if(has("dijit-legacy-requires")){_378(0,function(){var _37c=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_374(_37c);});}return _375("dijit.form.Button",[_379,_37a],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_37b,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_37d){if(_37d&&(!this.params||!("label" in this.params))){var _37e=lang.trim(_37d.innerHTML);if(_37e){this.label=_37e;}}},_setShowLabelAttr:function(val){if(this.containerNode){_376.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_37f){_377.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_37f);},_setLabelAttr:function(_380){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_381,dom,_382,_383){return _381("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_382.stop(e);return false;}var _384=this.onClick(e)===false;if(!_384&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _385=_383.byNode(node);if(_385&&typeof _385._onSubmit=="function"){_385._onSubmit(e);_384=true;break;}}}if(_384){e.preventDefault();}return !_384;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_386){this._set("label",_386);(this.containerNode||this.focusNode).innerHTML=_386;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_387,_388,_389,_38a,has,_38b,_38c,_38d,_38e,_38f){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_38a.get(document.createElement("input",{type:"file"}),"multiple")]);});return _38b("dojox.form.uploader.Base",[_38d,_38e,_38f],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_38c.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_390){var kb=Math.round(_390/1024*100000)/100000;var mb=Math.round(_390/1048576*100000)/100000;var gb=Math.round(_390/1073741824*100000)/100000;var _391=_390;if(kb>1){_391=kb.toFixed(1)+" kb";}if(mb>1){_391=mb.toFixed(1)+" mb";}if(gb>1){_391=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_390,value:_391};}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_392,_393,_394){return _393("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_394.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_392.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n","dojox/form/uploader/plugins/HTML5":function(){define("dojox/form/uploader/plugins/HTML5",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_395,lang,_396,dojo){var _397=_395("dojox.form.uploader.plugins.HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_398){this.onBegin(this.getFileList());if(this.supports("FormData")){this.uploadWithFormData(_398);}else{if(this.supports("sendAsBinary")){this.sendAsBinary(_398);}}},addDropTarget:function(node,_399){if(!_399){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},sendAsBinary:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var _39a="---------------------------"+(new Date).getTime();var xhr=this.createXhr();xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+_39a);var msg=this._buildRequestBody(data,_39a);if(!msg){this.onError(this.errMsg);}else{xhr.sendAsBinary(msg);}},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_39b=this._getFileFieldName();_396.forEach(this._files,function(f,i){fd.append(_39b,f);},this);if(data){for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _39c;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_39c);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_39c);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_39c);try{this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}catch(e){var msg="Error parsing server result:";console.error(msg,e);console.error(xhr.responseText);this.onError(msg,e);}}});xhr.open("POST",this.getUrl());_39c=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_39c);}}),250);return xhr;},_buildRequestBody:function(data,_39d){var EOL="\r\n";var part="";_39d="--"+_39d;var _39e=[],_39f=this._files,_3a0=this._getFileFieldName();_396.forEach(_39f,function(f,i){var _3a1=f.fileName;var _3a2;try{_3a2=f.getAsBinary()+EOL;part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+_3a0+"\"; ";part+="filename=\""+_3a1+"\""+EOL;part+="Content-Type: "+this.getMimeType()+EOL+EOL;part+=_3a2;}catch(e){_39e.push({index:i,name:_3a1});}},this);if(_39e.length){if(_39e.length>=_39f.length){this.onError({message:this.errMsg,filesInError:_39e});part=false;}}if(!part){return false;}if(data){for(var nm in data){part+=_39d+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+nm+"\""+EOL+EOL;part+=data[nm]+EOL;}}part+=_39d+"--"+EOL;return part;}});dojox.form.addUploaderPlugin(_397);return _397;});},"epi/shell/component/IFrameContextComponent":function(){define(["dojo","dijit","epi/shell/widget/Iframe","epi/shell/_ContextMixin"],function(dojo,_3a3,_3a4,_3a5){return dojo.declare([_3a4,_3a5],{reloadOnContextChange:true,keepUrlOnContextChange:false,postCreate:function(){dojo.when(this.getCurrentContext(),dojo.hitch(this,function(_3a6){this.contextChanged(_3a6);}));if(!this.reloadOnContextChange){this.load(this.get("urlTemplate"));}},_constructQuery:function(_3a7){return {uri:_3a7.uri,id:_3a7.id||""};},contextChanged:function(_3a8,_3a9){this.inherited(arguments);if(this.reloadOnContextChange){if(this.keepUrlOnContextChange){var url=this.get("url");if(url=="about:blank"){url=this.get("urlTemplate");}this.load(url,{query:this._constructQuery(_3a8)},true);}else{this.load(this.get("urlTemplate"),{query:this._constructQuery(_3a8)},true);}}}});});},"epi/shell/widget/Iframe":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-style","dojo/Deferred","dojo/io-query","dojo/on","dojo/sniff","dijit/_TemplatedMixin","dijit/_Widget","dijit/focus","epi","epi/Url","epi/shell/postMessage","epi/routes"],function(_3aa,lang,dom,_3ab,_3ac,_3ad,on,_3ae,_3af,_3b0,_3b1,epi,Url,_3b2,_3b3){return _3aa([_3b0,_3af],{url:"about:blank",_triggeredExternally:false,templateString:"<iframe data-dojo-attach-point=\"iframe\" class=\"dijitReset\" src=\"${url}\" role=\"presentation\" frameborder=\"0\" style=\"width:100%;\"></iframe>",autoFit:false,visible:true,isLoading:false,_isInspectable:null,_loadDeferred:null,onLoading:function(url){this._set("isLoading",true);},onUnload:function(url){this._set("isLoading",true);},onLoad:function(url,_3b4){this._set("isLoading",false);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);this.own(on(this.iframe,"load",lang.hitch(this,this._onIframeLoad)),_3b2.subscribe("/site/load",lang.hitch(this,function(_3b5){if(!this.isInspectable(true)){this._set("url",_3b5.url);this.onLoad(this.url,this._triggeredExternally);}})));},resize:function(size){if(this.autoFit){return;}if(size){_3ab.set(this.iframe,{width:size.w+"px",height:size.h+"px"});}},getDocument:function(){if(!this.isInspectable()){return null;}try{return this.iframe.contentWindow?this.iframe.contentWindow.document:null;}catch(ex){return null;}},getWindow:function(){return this.iframe.contentWindow;},_setVisibleAttr:function(_3b6){_3ab.set(this.domNode,"display",_3b6?"block":"none");},_onIframeLoad:function(_3b7){var url=null,_3b8,_3b9;function _3ba(e){_3b9.remove();this.set("_isInspectable",false);if(this._focusHandle){this._focusHandle.remove();this._focusHandle=null;}if(this._mousedownHandle){this._mousedownHandle.remove();this._mousedownHandle=null;}this.onUnload(this.url);};if(this.isInspectable(true)){url=this.getLocation().href;this._focusHandle=_3b1.registerIframe(this.iframe);this._mousedownHandle=this.connect(this.getDocument(),"onmousedown",function(){on.emit(this.domNode,"mousedown",{bubbles:true,cancelable:true});});_3b8=this.getWindow();_3b9=on(_3b8,"unload",lang.hitch(this,_3ba));}this._set("url",url);if(url!=="about:blank"){if(this._loadDeferred){this._loadDeferred.resolve();}this.onLoad(this.url,this._triggeredExternally);}this._loadDeferred=null;this._triggeredExternally=false;if(this.autoFit){this._adjustSize(this._calculateActualSize());}},isInspectable:function(_3bb){if(!_3bb&&this._isInspectable!==null){return this._isInspectable;}try{return this._isInspectable=!!this.getLocation().href;}catch(ex){}return this._isInspectable=false;},load:function(url,_3bc,_3bd,_3be){if(this._loadDeferred){this._loadDeferred.cancel();}var _3bf=new _3ac();if(!url){_3bf.cancel();return _3bf.promise;}var _3c0=new Url(this.url),_3c1=new Url(url,_3bc,_3bd),_3c2=window.location.protocol.replace(":",""),_3c3=(_3c1.scheme==="http"&&_3c2==="https");if(_3c3){_3c1=_3b3.getActionPath({moduleArea:"Shell",controller:"PreviewUnavailable"});}if(!_3be&&_3c1.path===_3c0.path&&epi.areEqual(_3c1.query,_3c0.query)){_3bf.resolve();}else{this._loadDeferred=_3bf;this.set("url",_3c1.toString());}return _3bf.promise;},reload:function(){return this.load(this.get("url"),null,null,true);},getCurrentQuery:function(){return _3ad.queryToObject(this.getWindow().location.search.substring(1));},getLocation:function(){return this.getWindow().location;},_getUrlAttr:function(){return this.url;},_setUrlAttr:function(url){this._triggeredExternally=true;this.onLoading(url);if(this.iframe.contentWindow){this.iframe.contentWindow.location.replace(url);}else{this.iframe.src=url;}this._set("url",url);},_calculateActualSize:function(){var doc=this.getDocument();function _3c4(dir){if(doc&&doc.body&&doc.documentElement){return Math.max(doc.documentElement["client"+dir],doc.documentElement["scroll"+dir],doc.documentElement["offset"+dir],doc.body["scroll"+dir],doc.body["offset"+dir]);}return 0;};return {h:_3c4("Height"),w:_3c4("Width")};},_adjustSize:function(size){_3ab.set(this.iframe,"height",size.h+"px");_3ab.set(this.getWindow().document.body,"height","auto");}});});},"epi/Url":function(){define("epi/Url",["dojo/_base/declare","dojo/_base/lang","dojo/io-query"],function(_3c5,lang,_3c6){var _3c7,_3c8={strict:1,loose:2},ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");_3c7=_3c5(null,{scheme:null,authority:null,path:null,query:null,fragment:null,queryParseMode:_3c8.loose,_undecodeable:null,constructor:function(url,_3c9,_3ca,_3cb){var _3cc;this._undecodeable=[];this.queryParseMode=_3cb||this.queryParseMode;_3cc=this._extractParameters(url);if(_3ca&&_3c9&&_3c9.query){_3c9.query=lang.mixin(_3cc.query,_3c9.query);}_3c5.safeMixin(this,lang.mixin(_3cc,_3c9));},_extractParameters:function(url){var r,_3cd,_3ce;if(!url){return {};}r=url.match(ore);_3cd=r[7]||(r[6]?"":null);_3ce=this._withQueryParseMode(function(){return _3cd?_3c6.queryToObject(_3cd):{};});return {scheme:r[2]||(r[1]?"":null),authority:r[4]||(r[3]?"":null),path:r[5],query:_3ce,fragment:r[9]||(r[8]?"":null)};},getQueryParameterValue:function(_3cf){return this.query?this.query[_3cf]:undefined;},toString:function(){var url=[],_3d0=this.query,_3d1;if(this.scheme){url.push(this.scheme);if(this.scheme.lastIndexOf(":")!=this.scheme.length-1){url.push(":");}}if(this.authority){url.push("//",this.authority);}url.push(this.path);if(_3d0){_3d1=this._withQueryParseMode(function(){return _3c6.objectToQuery(_3d0);});if(_3d1!==""){url.push("?",_3d1);}}if(this.fragment){url.push("#",this.fragment);}return url.join("");},_withQueryParseMode:function(func){var _3d2,_3d3=this._undecodeable,_3d4=this.queryParseMode===_3c7.parseMode.loose,_3d5=encodeURIComponent,_3d6=decodeURIComponent;function _3d7(_3d8){if(_3d3.indexOf(_3d8)!==-1){return _3d8;}else{return _3d5(_3d8);}};function _3d9(_3da){var _3db=_3da;try{_3da=_3d6(_3da);}catch(ex){_3d3.push(_3da);}return _3da;};if(_3d4){window["encodeURIComponent"]=_3d7;window["decodeURIComponent"]=_3d9;try{_3d2=func();}finally{window["encodeURIComponent"]=_3d5;window["decodeURIComponent"]=_3d6;}}else{_3d2=func();}return _3d2;}});_3c7.parseMode=_3c8;return _3c7;});},"epi/shell/postMessage":function(){define("epi/shell/postMessage",["dojo/Evented","dojo/on"],function(_3dc,on){var hub=new _3dc(),_3dd,_3de,_3df={setContext:function(ctx){_3de=ctx;_3e0();},publish:function(_3e1,_3e2,_3e3){var i=0;if(_3e3){_3e3=_3e3 instanceof Array?_3e3:[_3e3];}else{_3e3=_3e4().frames;}for(;i<_3e3.length;i++){_3e3[i].postMessage({id:_3e1,data:_3e2},"*");}},subscribe:function(_3e5,_3e6){return hub.on.apply(hub,arguments);}};function _3e4(){return _3de||window.top;};function _3e0(){_3dd&&_3dd.remove();_3dd=on(_3e4(),"message",function(evt){var data=evt.data;data&&data.id&&hub.emit.apply(hub,[data.id,data.message]);},false);};_3e0();return _3df;});},"epi/shell/_ContextMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dijit/Destroyable"],function(_3e7,lang,_3e8,_3e9,_3ea){return _3e7([_3ea],{_currentContext:null,_waitingForContext:null,constructor:function(_3eb){var _3ec;function _3ed(ctx,_3ee){if(this._currentContext||!_3ee||_3ee.sender!==this){return;}_3ec.remove();_3ec=null;this._initialContextChanged(ctx);};this.own(_3e9.subscribe("/epi/shell/context/request",lang.hitch(this,this._contextRequest)),_3e9.subscribe("/epi/shell/context/changed",lang.hitch(this,this._contextChanged)),_3e9.subscribe("/epi/shell/context/updated",lang.hitch(this,this._contextUpdated)),_3e9.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,this._contextFailed)),_3ec=_3e9.subscribe("/epi/shell/context/current",lang.hitch(this,_3ed)));_3e9.publish("/epi/shell/context/requestcurrent",{sender:this});},getCurrentContext:function(){if(this._currentContext!==null){return this._currentContext;}if(!this._waitingForContext){this._waitingForContext=new _3e8();}return this._waitingForContext.promise;},contextChanged:function(ctx,_3ef){},contextUpdated:function(ctx,_3f0){},contextChangeFailed:function(ctx,_3f1){},_contextChanged:function(ctx,_3f2){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChanged(ctx,_3f2);},_initialContextChanged:function(_3f3,_3f4){this._currentContext=_3f3;if(this._waitingForContext){this._waitingForContext.resolve(_3f3);this._waitingForContext=null;}},_contextRequest:function(){this._currentContext=null;},_contextUpdated:function(ctx,_3f5){this._currentContext=ctx;this.contextUpdated(ctx,_3f5);},_contextFailed:function(ctx,_3f6){if(!this._currentContext){this._initialContextChanged(ctx);}this._currentContext=ctx;this.contextChangeFailed(ctx,_3f6);}});});},"epi/shell/ContextService":function(){define("epi/shell/ContextService",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/topic","dijit/Destroyable","epi","epi/dependency","epi/shell/widget/dialog/Confirmation","epi/UriParser","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ContextService"],function(dojo,_3f7,_3f8,lang,_3f9,all,_3fa,_3fb,epi,_3fc,_3fd,_3fe,res){return _3f8([_3fb],{currentContext:null,_contextStore:null,_profile:null,_routes:{},res:res,_requestQueue:null,_requestInterceptors:null,constructor:function(_3ff,_400){this._contextStore=_3ff;if(_400===undefined){this._profile=_3fc.resolve("epi.shell.Profile");}this._requestInterceptors=[];this._requestQueue=[];this._initialize();},_initialize:function(){this.own(_3fa.subscribe("/epi/shell/context/request",lang.hitch(this,this._handleContextChangeRequest)),_3fa.subscribe("/epi/shell/context/updateRequest",lang.hitch(this,this._handleContextUpdateRequest)),_3fa.subscribe("/epi/shell/context/requestcurrent",lang.hitch(this,this._handleRequestCurrentContext)));},registerRoute:function(_401,_402){this._routes[_401]=_402;},registerRequestInterceptor:function(_403){var _404=_3f7.indexOf(this._requestInterceptors,_403);if(_404==-1){this._requestInterceptors.push(_403);}return {remove:lang.hitch(this,function(){this.unregisterRequestInterceptor(_403);})};},unregisterRequestInterceptor:function(_405){var _406=_3f7.indexOf(this._requestInterceptors,_405);if(_406!=-1){this._requestInterceptors.splice(_405,1);return _405;}return null;},query:function(_407){return this._executeInterceptors(_407,{}).then(lang.hitch(this,function(){return this._getContextStore().query(_407);}));},_handleContextChangeRequest:function(_408,_409){if(_408===null){this.currentContext={};this._publishContextChanged(this.currentContext);return;}this._executeInterceptors(_408,_409).then(lang.hitch(this,function(){this._loadNewContext(_408,_409,this._publishContextChanged);})).otherwise(lang.hitch(this,function(){this._publishRequestFailed(_408,_409);}));},_executeInterceptors:function(_40a,_40b){var _40c=_3f7.map(this._requestInterceptors,function(item){return item(_40a,_40b);},this);var _40d=all(_40c);_40d.otherwise(function(_40e){console.error("Failed to execute the context request interceptors:",_40e,_40a,_40b);});return _40d;},_handleContextUpdateRequest:function(_40f,_410){if(_40f===null){return;}this._loadNewContext(_40f,_410,this._publishContextUpdated);},_handleRequestCurrentContext:function(_411){if(this.currentContext){_3fa.publish("/epi/shell/context/current",this.currentContext,_411);}},_loadNewContext:function(_412,_413,_414){var item={success:null,request:null,response:null,contextParameters:_412,callerData:_413,callback:_414};var _415=lang.hitch(this,function(_416){if(_416){item.response=_416;item.success=true;this._handleContextLoaded();}else{_417(_416);}});var _417=lang.hitch(this,function(_418){item.response=_418;item.success=false;this._handleContextLoaded();});this._requestQueue.push(item);var _419=this._getContextStore();var rq=_419.query(_412);rq.then(_415,_417);item.request=rq;},_handleContextLoaded:function(){var item=(this._requestQueue.length>0)?this._requestQueue[0]:null;while(item&&item.success!=null){this._requestQueue.shift();var _41a=item.callback;var _41b=item.response;var _41c=item.contextParameters;var _41d=item.callerData;var _41e=item.success;var _41f=item.request;if(_41e){var uri=new _3fe(_41b.uri);_41b.type=uri.getType();_41b.id=uri.getId();this.currentContext=item.response;if(this._routes&&this._routes[_41b.type]){this._routes[_41b.type](this.currentContext,_41d,uri);}if(_41a){_41a(_41b,_41d,_41f);}}else{if(_41d&&!_41d.suppressFailure){this._contextLoadFailed(_41b,_41c,_41d);}}item=(this._requestQueue.length>0)?this._requestQueue[0]:null;}},_contextLoadFailed:function(_420,_421,_422){var _423=lang.hitch(this,function(_424){if(_424){this._loadNewContext(_421,_422,this._publishContextChanged);}else{this._publishRequestFailed(_421,_422,_421);}});var _425=this.res.errors.couldnotloadcontext.description,_426=this.res.errors.couldnotloadcontext["descriptioncontent"+_420.status],_427=this.res.errors.couldnotloadcontext["description"+_420.status];if(_426&&_422.sender&&_422.sender.requestedContent){var _428=_422.sender.requestedContent;_425=lang.replace(_426,[_428.typeName,_428.name]);}else{if(_427){_425=lang.replace(_427,[_421.uri||_421.url]);}}var _429=new _3fd({title:this.res.errors.couldnotloadcontext.title,description:_425,confirmActionText:this.res.errors.couldnotloadcontext.retry,cancelActionText:epi.resources.action.ignore,onAction:_423,destroyOnHide:true});_429.show();},_getContextStore:function(){if(!this._contextStore){var _42a=_3fc.resolve("epi.storeregistry");this._contextStore=_42a.get("epi.shell.context");}return this._contextStore;},_publishContextChanged:function(_42b,_42c,_42d){_3fa.publish("/epi/shell/context/changed",_42b,_42c,_42d);},_publishContextUpdated:function(_42e,_42f,_430){_3fa.publish("/epi/shell/context/updated",_42e,_42f,_430);},_publishRequestFailed:function(_431,_432){_3fa.publish("/epi/shell/context/requestfailed",this.currentContext,_431,_432);}});});},"epi/shell/widget/dialog/Confirmation":function(){define(["dojo/_base/declare","dojo/_base/lang","epi","epi/shell/widget/dialog/Dialog"],function(_433,lang,epi,_434){return _433([_434],{confirmActionText:epi.resources.action.yes,cancelActionText:epi.resources.action.no,closeIconVisible:false,dialogClass:"epi-dialog-confirm",getActions:function(){var _435={name:this._okButtonName,label:this.confirmActionText,title:null,action:lang.hitch(this,this._onConfirm)},_436={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_435.settings={"class":"Salt"};}return [_435,_436];},_onConfirm:function(){this.hide();this.onAction(true);},_onCancel:function(){this.hide();this.onAction(false);},onAction:function(){}});});},"epi/shell/widget/dialog/Dialog":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_437,_438,lang,_439,_43a,_43b,epi,_43c,_43d,_43e,_43f){return _438([_43c,_43d],{confirmActionText:epi.resources.action.ok,cancelActionText:epi.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,destroyOnHide:false,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _43f({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_43e},this.actionContainerNode));},_size:function(){var _440=this.get("_preferredHeight");if(_440){_43a.set(this.containerNode,{minHeight:_440+"px",maxHeight:_440+"px"});}this.inherited(arguments);_43a.set(this.containerNode,{minHeight:"",maxHeight:""});_437.forEach(["height","width"],function(prop){if(this[prop]==="auto"){this[prop]="";}},this.containerNode.style);},addValidator:function(_441){this._validators.push(_441);},getActions:function(){var _442=this.inherited(arguments);if(this.defaultActionsVisible){var _443={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_444={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_443.settings["class"]="Salt";}else{_444.settings={"class":"Salt",firstFocusable:true};}_442.push(_443,_444);}return _442;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _445=_437.map(this._validators,function(item){return item();});var _446=arguments;var _447=new _43b(_445);_447.then(lang.hitch(this,function(_448){if(_437.some(_448,function(_449){return !_449[0];})){return;}this.inherited(_446);}));},_setContentClassAttr:function(_44a){_439.remove(this.containerNode,this.contentClass);this._set("contentClass",_44a);_439.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_43a.get(this.containerNode,"height");}return this._preferredHeight;}});});},"epi/shell/widget/dialog/_DialogBase":function(){define(["epi","dojo","dojo/_base/array","dojo/dom-class","dojo/dom-style","dojo/query","dojo/text!./templates/Dialog.html","dojo/when","dijit/a11y","dijit/focus","dijit/Dialog","epi/shell/widget/dialog/_DialogMixin","epi/shell/widget/_FocusableMixin"],function(epi,dojo,_44b,_44c,_44d,_44e,_44f,when,a11y,_450,_451,_452,_453){return dojo.declare([_451,_452,_453],{templateString:_44f,heading:"",description:"",dialogClass:"",iconClass:"dijitNoIcon",destroyOnHide:true,focusActionsOnLoad:false,postMixInProperties:function(){this.inherited(arguments);this.resources=epi.resources.action;},buildRendering:function(){this.inherited(arguments);if(this.dialogClass){_44c.add(this.domNode,this.dialogClass);}this.set("closeIconVisible",this.closeIconVisible);this.set("iconClass",this.iconClass);this.set("heading",this.heading);this.set("description",this.description);},postCreate:function(){this.inherited(arguments);if(this.content&&this.content.executeDialog){this.connect(this.content,"executeDialog","onExecute");}if(this.content&&this.content.cancelDialog){this.connect(this.content,"cancelDialog","onCancel");}},hide:function(){var _454=dojo.hitch(this,function(){if(this.destroyOnHide){this.destroyRecursive();}});return when(this.inherited(arguments),_454);},_getFocusItems:function(){var node=this.focusActionsOnLoad?this.actionContainerNode:this.contentContainerNode,_455=a11y._getTabNavigable(node);this.focusActionsOnLoad=false;this._firstFocusItem=_455.lowest||_455.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_455.last||_455.highest||this._firstFocusItem;},_setDialogContentNode:function(_456,_457){_456.innerHTML=_457;_44d.set(_456,"display",_457?"":"none");var _458=_44e("div",this.contentContainerNode);_458.removeClass("epi-firstVisible");_44b.some(_458,function(_459){if(_44d.get(_459,"display")!=="none"){_44c.add(_459,"epi-firstVisible");return true;}});},_setHeadingAttr:function(_45a){this._setDialogContentNode(this.headingNode,_45a);},_setDescriptionAttr:function(_45b){this._setDialogContentNode(this.descriptionNode,_45b);},_setIconClassAttr:function(_45c){_44c.remove(this.iconNode,this.iconClass);this._set("iconClass",_45c);_44c.add(this.iconNode,this.iconClass);}});});},"url:epi/shell/widget/dialog/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n    <div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n        <span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n        <span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${resources.close}\" role=\"button\" tabIndex=\"-1\">\r\n            <span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${resources.cancel}\">x</span>\r\n        </span>\r\n    </div>\r\n    <div data-dojo-attach-point=\"contentContainerNode\" class=\"epi-dialogPaneContent\">\r\n        <span data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitInline epi-dialogIcon\"></span>\r\n        <div data-dojo-attach-point=\"headingNode\" class=\"epi-dialogDescriptionHeader\"></div>\r\n        <div data-dojo-attach-point=\"descriptionNode\" class=\"epi-dialogDescriptionSummary\"></div>\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContentArea\"></div>\r\n        <div data-dojo-attach-point=\"actionContainerNode\" class=\"dijitDialogPaneActionBar\"></div>\r\n    </div>\r\n</div>","dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","./main","dojo/i18n!./nls/common"],function(_45d,_45e,_45f,_460,_461,dom,_462,_463,_464,_465,fx,i18n,keys,lang,on,_466,has,_467,_468,_469,_46a,_46b,_46c,_46d,_46e,_46f,_470,_471,_472,_473,_474){var _475=_460("dijit._DialogBase",[_46d,_46f,_470,_46e],{templateString:_473,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_46b.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},"aria-describedby":"",maxRatio:0.9,postMixInProperties:function(){var _476=i18n.getLocalization("dijit","common");lang.mixin(this,_476);this.inherited(arguments);},postCreate:function(){_464.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_477.isTop(this)){this._getFocusItems(this.domNode);_46a.focus(this._firstFocusItem);}this.inherited(arguments);},_endDrag:function(){var _478=_463.position(this.domNode),_479=_467.getBox(this.ownerDocument);_478.y=Math.min(Math.max(_478.y,0),(_479.h-_478.h));_478.x=Math.min(Math.max(_478.x,0),(_479.w-_478.w));this._relativePosition=_478;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_469:_468)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_462.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_45e.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_464.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_463.position(this.domNode);var _47a=_467.getBox(this.ownerDocument);_47a.w*=this.maxRatio;_47a.h*=this.maxRatio;if(bb.w>=_47a.w||bb.h>=_47a.h){var _47b=_463.position(this.containerNode),w=Math.min(bb.w,_47a.w)-(bb.w-_47b.w),h=Math.min(bb.h,_47a.h)-(bb.h-_47b.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_464.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_462.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_47c=_467.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_463.position(node),l=Math.floor(_47c.l+(p?p.x:(_47c.w-bb.w)/2)),t=Math.floor(_47c.t+(p?p.y:(_47c.h-bb.h)/2));_464.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _47d=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_47d){_46a.focus(this._lastFocusItem);}_465.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_47d){_46a.focus(this._firstFocusItem);}_465.stop(evt);}else{while(node){if(node==this.domNode||_462.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_465.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();_477.hide(this);}var win=_467.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,_45f._keypress,lang.hitch(this,"_onKey")));_464.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _47e;this._fadeInDeferred=new _461(lang.hitch(this,function(){_47e.stop();delete this._fadeInDeferred;}));_47e=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_477.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_477.isTop(this)){this._getFocusItems(this.domNode);_46a.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _47f;this._fadeOutDeferred=new _461(lang.hitch(this,function(){_47f.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_47f=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_477.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},resize:function(){if(this.domNode.style.display!="none"){if(_471._singleton){_471._singleton.layout();}if(!has("touch")){this._position();}this._size();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_477.hide(this);this.inherited(arguments);}});var _480=_460("dijit.Dialog",[_472,_475],{});_480._DialogBase=_475;var _477=_480._DialogLevelManager={_beginZIndex:950,show:function(_481,_482){ds[ds.length-1].focus=_46a.curNode;var _483=_471._singleton;if(!_483||_483._destroyed){_483=_474._underlay=_471._singleton=new _471(_482);}else{_483.set(_481.underlayAttrs);}var _484=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_480._DialogLevelManager._beginZIndex;if(ds.length==1){_483.show();}_464.set(_471._singleton.domNode,"zIndex",_484-1);_464.set(_481.domNode,"zIndex",_484);ds.push({dialog:_481,underlayAttrs:_482,zIndex:_484});},hide:function(_485){if(ds[ds.length-1].dialog==_485){ds.pop();var pd=ds[ds.length-1];if(!_471._singleton._destroyed){if(ds.length==1){_471._singleton.hide();}else{_464.set(_471._singleton.domNode,"zIndex",pd.zIndex-1);_471._singleton.set(pd.underlayAttrs);}}if(_485.refocus){var _486=pd.focus;if(pd.dialog&&(!_486||!dom.isDescendant(_486,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_486=pd.dialog._firstFocusItem;}if(_486){try{_486.focus();}catch(e){}}}}else{var idx=_45e.indexOf(_45e.map(ds,function(elem){return elem.dialog;}),_485);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_487){return ds[ds.length-1].dialog==_487;}};var ds=_480._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(has("dijit-legacy-requires")){_466(0,function(){var _488=["dijit/TooltipDialog"];_45d(_488);});}return _480;});},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/event","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_489,_48a,_48b,lang,dom,_48c,_48d,on,_48e,_48f,dnd,_490,win){var _491=_48a("dojo.dnd.Moveable",[_48d],{handle:"",delay:0,skip:false,constructor:function(node,_492){this.node=dom.byId(node);if(!_492){_492={};}this.handle=_492.handle?dom.byId(_492.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_492.delay>0?_492.delay:0;this.skip=_492.skip;this.mover=_492.mover?_492.mover:_490;this.events=[on(this.handle,_48f.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_493,node,Ctor){return new Ctor(node,_493);},destroy:function(){_489.forEach(this.events,function(_494){_494.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_48f.move,lang.hitch(this,"onMouseMove")),on(this.handle,_48f.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}_48b.stop(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_48b.stop(e);},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}_48b.stop(e);},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){_48b.stop(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_495){_48e.publish("/dnd/move/start",_495);_48c.add(win.body(),"dojoMove");_48c.add(this.node,"dojoMoveItem");},onMoveStop:function(_496){_48e.publish("/dnd/move/stop",_496);_48c.remove(win.body(),"dojoMove");_48c.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_497,_498){this.onMoving(_497,_498);var s=_497.node.style;s.left=_498.l+"px";s.top=_498.t+"px";this.onMoved(_497,_498);},onMoving:function(){},onMoved:function(){}});return _491;});},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/event","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_499,_49a,_49b,lang,has,win,dom,_49c,_49d,_49e,on,_49f,dnd,_4a0){return _49a("dojo.dnd.Mover",[_49e],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[on(d,_49f.move,lang.hitch(this,"onFirstMove")),on(d,_49f.move,lang.hitch(this,"onMouseMove")),on(d,_49f.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_49b.stop),on(d.body,"selectstart",_49b.stop)];_4a0.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_4a0.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);_49b.stop(e);},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_49b.stop(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_49c.getMarginBox(this.node);var b=win.doc.body;var bs=_49d.getComputedStyle(b);var bm=_49c.getMarginBox(b,bs);var bc=_49c.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_499.forEach(this.events,function(_4a1){_4a1.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_4a2,_4a3){var _4a4=_4a3.prototype.onMove;return _4a2("dojo.dnd.TimedMoveable",_4a3,{timeout:40,constructor:function(node,_4a5){if(!_4a5){_4a5={};}if(_4a5.timeout&&typeof _4a5.timeout=="number"&&_4a5.timeout>=0){this.timeout=_4a5.timeout;}},onMoveStop:function(_4a6){if(_4a6._timer){clearTimeout(_4a6._timer);_4a4.call(this,_4a6,_4a6._leftTop);}_4a3.prototype.onMoveStop.apply(this,arguments);},onMove:function(_4a7,_4a8){_4a7._leftTop=_4a8;if(!_4a7._timer){var _4a9=this;_4a7._timer=setTimeout(function(){_4a7._timer=null;_4a4.call(_4a9,_4a7,_4a7._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_4aa,_4ab,lang,_4ac,_4ad){var _4ae={};_4aa.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4ae[name]=_4ac[name];});lang.mixin(_4ae,{defaultDuration:_4ab["defaultDuration"]||200});lang.mixin(_4ad,_4ae);return _4ad;});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_4af,_4b0,_4b1,_4b2,_4b3,_4b4){return _4af("dijit.DialogUnderlay",[_4b2,_4b3],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_4b0.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_4b5){this.node.className="dijitDialogUnderlay "+_4b5;this._set("class",_4b5);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _4b6=_4b1.getBox(this.ownerDocument);os.top=_4b6.t+"px";os.left=_4b6.l+"px";is.width=_4b6.w+"px";is.height=_4b6.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _4b4(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_4b7,_4b8,_4b9,_4ba,_4bb,lang,on,has,win){has.add("bgIframe",has("ie")||has("mozilla"));var _4bc=new function(){var _4bd=[];this.pop=function(){var _4be;if(_4bd.length){_4be=_4bd.pop();_4be.style.display="";}else{if(has("ie")<9){var burl=_4b9["dojoBlankHtmlUrl"]||_4b7.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4be=win.doc.createElement(html);}else{_4be=_4ba.create("iframe");_4be.src="javascript:\"\"";_4be.className="dijitBackgroundIframe";_4be.setAttribute("role","presentation");_4bb.set(_4be,"opacity",0.1);}_4be.tabIndex=-1;}return _4be;};this.push=function(_4bf){_4bf.style.display="none";_4bd.push(_4bf);};}();_4b8.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("bgIframe")){var _4c0=(this.iframe=_4bc.pop());node.appendChild(_4c0);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_4bb.set(_4c0,{width:"100%",height:"100%"});}}};lang.extend(_4b8.BackgroundIframe,{resize:function(node){if(this.iframe){_4bb.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_4bc.push(this.iframe);delete this.iframe;}}});return _4b8.BackgroundIframe;});},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","epi/shell/widget/dialog/_DialogMixin":function(){define(["dojo","dojo/dom-style"],function(dojo,_4c1){return dojo.declare(null,{closeIconVisible:true,_setCloseIconVisibleAttr:function(){this._set("closeIconVisible",this.closeIconVisible);_4c1.set(this.closeButtonNode,"visibility",this.closeIconVisible?"visible":"hidden");_4c1.set(this.titleNode,"margin-right",this.closeIconVisible?"25px":"0");}});});},"epi/shell/widget/_FocusableMixin":function(){define(["dojo/dom-class","dojo/_base/declare","dijit/_FocusMixin"],function(_4c2,_4c3,_4c4){return _4c3(_4c4,{onFocus:function(){_4c2.add(this.domNode,"epi-focused");},onBlur:function(){_4c2.remove(this.domNode,"epi-focused");}});});},"epi/shell/widget/_ActionConsumerWidget":function(){define(["dojo/_base/declare","./_ActionConsumer"],function(_4c5,_4c6){return _4c5(_4c6,{definitionConsumer:null,startup:function(){this.inherited(arguments);this._populateActions();},_setDefinitionConsumerAttr:function(_4c7){this._set("definitionConsumer",_4c7);if(this._started){this._populateActions();}},onActionAdded:function(_4c8){if(this.definitionConsumer){this.definitionConsumer.add(_4c8);}},onActionRemoved:function(_4c9){if(this.definitionConsumer){this.definitionConsumer.remove(_4c9.name);}},onActionPropertyChanged:function(_4ca,_4cb,_4cc){if(this.definitionConsumer){this.definitionConsumer.setItemProperty(_4ca.name,_4cb,_4cc);}},_populateActions:function(){if(this.definitionConsumer){this.definitionConsumer.add(this.getActions());}}});});},"epi/shell/widget/_ActionConsumer":function(){define(["dojo","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_4cd,_4ce){return dojo.declare(_4ce,{_actionProviders:null,constructor:function(args){_4cd.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(typeof (args)!=="undefined"||args!=null&&dojo.isArray(args.actionProviders)){dojo.forEach(args.actionProviders,function(_4cf){this.addProvider(_4cf);},this);}},isProviderRegistered:function(_4d0){if(typeof (_4d0)==="undefined"||_4d0==null){return false;}return dojo.some(this._actionProviders,function(_4d1){return _4d1.provider===_4d0;});},addProvider:function(_4d2){if(typeof (_4d2)==="undefined"||_4d2==null||this.isProviderRegistered(_4d2)){return;}this._actionProviders.push({provider:_4d2,connects:[dojo.connect(_4d2,"onActionAdded",this,"onActionAdded"),dojo.connect(_4d2,"onActionRemoved",this,"onActionRemoved"),dojo.connect(_4d2,"onActionPropertyChanged",this,"onActionPropertyChanged")]});},removeProvider:function(_4d3){if(typeof (_4d3)==="undefined"||_4d3==null||!this.isProviderRegistered(_4d3)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider==_4d3){var _4d4=this._actionProviders.splice(i,1);dojo.forEach(_4d4.connects,dojo.disconnect);break;}}},getActions:function(){var _4d5=[];dojo.forEach(this._actionProviders,function(_4d6,_4d7){_4d5=_4d5.concat(this._getProviderActions(_4d6.provider));},this);return _4d5;},_getProviderActions:function(_4d8){if(typeof (_4d8)!=="undefined"&&_4d8!=null&&typeof (_4d8.getActions)=="function"){return _4d8.getActions();}else{return [];}}});});},"epi/shell/widget/_ActionProviderBase":function(){define(["epi","dojo"],function(epi,dojo){return dojo.declare(null,{getActions:function(){return [];},onActionAdded:function(_4d9){},onActionRemoved:function(_4da){},onActionPropertyChanged:function(_4db,_4dc,_4dd){}});});},"epi/shell/widget/Toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Toolbar","epi/shell/DestroyableByKey"],function(_4de,lang,_4df,_4e0){return _4de([_4df,_4e0],{_originalTabIndex:null,_focusable:null,_firstFocusableItem:null,postCreate:function(){this.inherited(arguments);this._originalTabIndex=this.get("tabIndex");this._correctTabIndex();},addChild:function(_4e1){this.inherited(arguments);if(_4e1.firstFocusable){this.set("_firstFocusableItem",_4e1);}this.destroyByKey(_4e1);this.ownByKey(_4e1,_4e1.watch("itemVisibility",lang.hitch(this,function(){this._correctTabIndex();})));this._correctTabIndex();},removeChild:function(_4e2){this.destroyByKey(_4e2);this.inherited(arguments);this._correctTabIndex();},_correctTabIndex:function(){this._focusable=(this._getFirstFocusableChild()!==null);this.set("tabIndex",this._focusable?this._originalTabIndex:-1);},_getFirstFocusableChild:function(){return this._firstFocusableItem||this.inherited(arguments);},_startupChild:function(_4e3){_4e3.set("tabIndex","-1");},_onChildBlur:function(_4e4){_4e4.set("tabIndex","-1");}});});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_4e5,_4e6,has,keys,_4e7,_4e8,_4e9,_4ea){if(has("dijit-legacy-requires")){_4e7(0,function(){var _4eb=["dijit/ToolbarSeparator"];_4e5(_4eb);});}return _4e6("dijit.Toolbar",[_4e8,_4ea,_4e9],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_4ec,_4ed,_4ee,_4ef,keys,_4f0,_4f1,_4f2,lang){return _4f0("dijit._KeyNavContainer",[_4ee,_4ed],{tabIndex:"0",connectKeyNavHandlers:function(_4f3,_4f4){var _4f5=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_4ef.forEach(_4f3,function(code){_4f5[code]=prev;});_4ef.forEach(_4f4,function(code){_4f5[code]=next;});_4f5[keys.HOME]=lang.hitch(this,"focusFirstChild");_4f5[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_4ec.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_4ef.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_4f6,_4f7){this.inherited(arguments);this._startupChild(_4f6);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_4f8,last){if(!_4f8){return;}if(this.focusedChild&&_4f8!==this.focusedChild){this._onChildBlur(this.focusedChild);}_4f8.set("tabIndex",this.tabIndex);_4f8.focus(last?"end":"start");this._set("focusedChild",_4f8);},_startupChild:function(_4f9){_4f9.set("tabIndex","-1");this.connect(_4f9,"_onFocus",function(){_4f9.set("tabIndex",this.tabIndex);});this.connect(_4f9,"_onBlur",function(){_4f9.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_4f2.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_4f2.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_4f1.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_4fa,dir){if(_4fa){_4fa=this._getSiblingOfChild(_4fa,dir);}var _4fb=this.getChildren();for(var i=0;i<_4fb.length;i++){if(!_4fa){_4fa=_4fb[(dir>0)?0:(_4fb.length-1)];}if(_4fa.isFocusable()){return _4fa;}_4fa=this._getSiblingOfChild(_4fa,dir);}return null;}});});},"epi/shell/DestroyableByKey":function(){define("epi/shell/DestroyableByKey",["dojo/_base/array","dojo/_base/declare","dijit/Destroyable"],function(_4fc,_4fd,_4fe){return _4fd([_4fe],{_ownedByKey:null,constructor:function(){this._ownedByKey=[];},destroy:function(){var item;while(item=this._ownedByKey.pop()){item.handler.destroy();}this.inherited(arguments);},ownByKey:function(key,_4ff){var i;var _500=this._findOwnedByKey(key);if(!_500){_500={"key":key,"handler":new _4fe()};this._ownedByKey.push(_500);}for(i=1;i<arguments.length;i++){_500.handler.own(arguments[i]);}return this;},destroyByKey:function(key){var _501=this._findOwnedByKey(key);var _502;if(!_501){return;}_501.handler.destroy();_502=_4fc.indexOf(this._ownedByKey,_501);this._ownedByKey.splice(_502,1);},_findOwnedByKey:function(key){var _503;_4fc.some(this._ownedByKey,function(item){if(item.key===key){_503=item;return false;}});return _503;}});});},"epi/shell/widget/ToolbarSet":function(){define(["dojo/_base/declare","dijit/_WidgetBase","epi/shell/layout/ToolbarContainer","epi/shell/widget/_AddByDefinition"],function(_504,_505,_506,_507){return _504([_505,_507],{_layoutContainer:null,layoutContainerClass:null,postMixInProperties:function(){this.inherited(arguments);this.layoutContainerClass=this.layoutContainerClass||_506;},buildRendering:function(){this.inherited(arguments);this._layoutContainer=new this.layoutContainerClass();this._layoutContainer.placeAt(this.domNode);this.own(this._layoutContainer);},addChild:function(_508){return this._layoutContainer.addChild(_508);},_getLayoutContainerAttr:function(){return this._layoutContainer;}});});},"epi/shell/layout/ToolbarContainer":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/_Container","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(_509,_50a,_50b,_50c,_50d){return _509([_50d,_50c,_50b],{cssClasses:{container:"epi-toolbarGroupContainer",leading:"epi-toolbarGroup epi-toolbarLeading",center:"epi-toolbarGroup epi-toolbarCenter",trailing:"epi-toolbarGroup epi-toolbarTrailing"},templateString:"<div class='${cssClasses.container}'>                            <div data-dojo-attach-point='leadingNode' class='${cssClasses.leading}'></div>                            <div data-dojo-attach-point='centerNode' class='${cssClasses.center}'></div>                            <div data-dojo-attach-point='trailingNode' class='${cssClasses.trailing}'></div>                        </div>",addChild:function(_50e){_50e.region=_50e.region||"center";var _50f;switch(_50e.region){case "leading":_50f=this.leadingNode;break;case "center":_50f=this.centerNode;break;case "trailing":_50f=this.trailingNode;break;}_50e.placeAt(_50f);}});});},"epi/shell/widget/_AddByDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/when","dijit","dijit/_Widget","dijit/ToolbarSeparator","dijit/Menu","dijit/MenuSeparator","epi/shell/widget/WidgetFactory","dijit/CheckedMenuItem","dijit/MenuItem","dijit/form/Button","dijit/form/ComboButton","dijit/form/DropDownButton","dijit/form/RadioButton","epi/shell/widget/PopupMenuItem","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarDropDownButton"],function(_510,_511,lang,_512,dom,_513,_514,when,_515,_516,_517,Menu,_518,_519){return _511(null,{_widgetTypeTemplates:{checkedmenuitem:{widgetType:"dijit.CheckedMenuItem"},menu:{widgetType:"dijit.Menu"},menuitem:{widgetType:"dijit.MenuItem"},popupmenu:{widgetType:"epi.shell.widget.PopupMenuItem"},button:{widgetType:"dijit.form.Button"},combo:{widgetType:"dijit.form.ComboButton"},dropdown:{widgetType:"epi.shell.widget.ToolbarDropDownButton"},radio:{widgetType:"dijit.form.RadioButton"},toolbargroup:{widgetType:"epi.shell.widget.Toolbar"},label:{widgetType:"epi.shell.widget.ToolbarLabel"}},constructor:function(){this._widgetFactory=new _519();this._widgetMap={};},postMixInProperties:function(){this.connect(this._widgetFactory,"onWidgetHierarchyCreated",lang.hitch(this,function(_51a,_51b){this._widgetMap[_51b.name]=_51a;if(_51b.firstChildIsContainer){_51a.containerWidget=_51a.getChildren()[0];}}));var _51c=function(_51d,_51e){var _51f=_51d.get("dropDown");if(!_51f){_51f=new Menu();_51d.set("dropDown",_51f);}_51f.addChild(_51e);if(!_51e.separator){_51e.set("separator","dijit.MenuSeparator");}};this._widgetFactory.addHandler("dijit.form.ComboButton",_51c);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},_toComponentDefinition:function(_520){var _521=this._getComponentDefinitionTemplate(_520);_521.name=_520.name;_521.settings=lang.mixin({label:_520.label||"",showLabel:_520.label,title:_520.title||"",disabled:_520.disabled||false},_520.settings);if(_520.iconClass){_521.settings.iconClass=_520.iconClass;}var _522={onClick:_520.action};_521.connections=lang.mixin(_522,_520.connections);return _521;},_getComponentDefinitionTemplate:function(_523){var _524=lang.mixin({},this._widgetTypeTemplates[_523.type]||this._widgetTypeTemplates["button"]);if(_523.widgetType){_524.widgetType=_523.widgetType;}return _524;},_getWidget:function(name){return this._widgetMap[name];},_addSingle:function(_525){if(this._getWidget(_525.name)){return;}var _526=this._getWidget(_525.parent)||this;var _527=this._toComponentDefinition(_525);var def=new _512();when(this._widgetFactory.createWidgets(_526,_527),lang.hitch(this,function(_528){var _529=_528[0];if(_525.tooltip){var html=_525.tooltip;var show=function(e){_515.showTooltip(html,e.target);};var hide=function(e){_515.hideTooltip(e.target);};this.connect(_529.domNode,"onmouseenter",show);this.connect(_529.domNode,"onmouseleave",hide);}this._addSeparators(_529);def.resolve();}),function(e){console.error(e.stack||e);def.reject(e);});return def.promise;},_addSeparators:function(_52a){var _52b=_52a.getParent();if(!_52b){return;}var _52c=_52b.getChildren();var i=_510.indexOf(_52c,_52a);var _52d=(i>0)?_52c[i-1]:null;if(_52d&&!this._isSeparator(_52d)){if(_52a.separate){this.addSeparator(_52a,"before");}else{if(_52d.separate){this.addSeparator(_52d,"after");}}}var next=(_52c.length>i)?_52c[i+1]:null;if(next&&!this._isSeparator(next)&&(_52a.separate||next.separate)){this.addSeparator(_52a,"after");}},_getSiblingOfWidget:function(_52e,dir){var node=_52e.domNode;do{node=node[dir];}while(node&&(node.nodeType!=1||!_515.byNode(node)));return node&&_515.byNode(node);},add:function(_52f){var self=this;var _530=function(_531){var item=_531.shift();if(!item){return null;}return when(self._addSingle(item),function(){return _530(_531);});};if(lang.isArray(_52f)){return _530(_52f);}else{this._addSingle(_52f);}},addSeparator:function(_532,_533){var _534=function(){if(_532.separator){var _535=_532.separator.replace(/\./g,"/"),_536=new _512();require([_535],function(_537){_536.resolve(new _537());});return _536.promise;}return new _517();};when(_534(),lang.hitch(this,function(_538){var _539=_532?_532.domNode:this.domNode;_513.place(_538.domNode,_539,_533);}));},_removeSingle:function(name){var _53a=this._widgetMap[name];delete this._widgetMap[name];if(_53a){this._removeSeparators(_53a);_53a.destroy();}},_removeSeparators:function(_53b){if(!_53b.domNode){return;}var _53c=_53b.getParent();if(!_53c){return;}var _53d;var _53e=_53c.getChildren();var i=_510.indexOf(_53e,_53b);var next=(_53e.length>i)?_53e[i+1]:null;var _53f=(i>0)?_53e[i-1]:null;if(next&&this._isSeparator(next)&&_53e.length>=i+2){_53d=next;next=_53e[i+2];if(next.separate&&i>0){if(_53f&&this._isSeparator(_53f)){_53f.destroy();return;}}else{_53d.destroy();}}if(_53f&&this._isSeparator(_53f)&&i-2>=0){_53d=_53f;_53f=_53e[i-2];if(!_53f.separate){_53d.destroy();}}},_isSeparator:function(_540){return _540 instanceof _515.ToolbarSeparator||_540 instanceof _515.MenuSeparator;},remove:function(_541){if(lang.isArray(_541)){_510.forEach(_541,lang.hitch(this,this._removeSingle));}else{this._removeSingle(_541);}},clear:function(){for(var name in this._widgetMap){this._removeSingle(name);}},destroy:function(){this.clear();this.inherited(arguments);},setItemProperty:function(_542,_543,_544){if(lang.isArray(_542)){_510.forEach(_542,function(name){this._setInternal(name,_543,_544);});}else{this._setInternal(_542,_543,_544);}},setItemVisibility:function(name,_545){var _546=this._widgetMap[name];if(_546){_514.set(_546.domNode,{display:(_545?"":"none")});_546.set("itemVisibility",_545);}},_setInternal:function(name,_547,_548){var _549=this._widgetMap[name];if(_549){_549.set(_547,_548);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_54a,dom,_54b,_54c){return _54a("dijit.ToolbarSeparator",[_54b,_54c],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_54d,_54e,_54f,_550,dom,_551,_552,_553,keys,lang,on,has,win,_554,pm,_555,_556){if(has("dijit-legacy-requires")){_556(0,function(){var _557=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_54d(_557);});}return _54f("dijit.Menu",_555,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_54e.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_558){return _554.get(this._iframeContentDocument(_558))||this._iframeContentDocument(_558)["__parent__"]||(_558.name&&win.doc.frames[_558.name])||null;},_iframeContentDocument:function(_559){return _559.contentDocument||(_559.contentWindow&&_559.contentWindow.document)||(_559.name&&win.doc.frames[_559.name]&&win.doc.frames[_559.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _55a=node,_55b=this._iframeContentWindow(_55a);cn=win.body(_55b.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _55c={node:node,iframe:_55a};_551.set(node,"_dijitMenu"+this.id,this._bindings.push(_55c));var _55d=lang.hitch(this,function(cn){var _55e=this.selector,_55f=_55e?function(_560){return on.selector(_55e,_560);}:function(_561){return _561;},self=this;return [on(cn,_55f(this.leftClickToOpen?"click":"contextmenu"),function(evt){_550.stop(evt);if((new Date()).getTime()<this._lastKeyDown+500){return;}self._scheduleOpen(this,_55a,{x:evt.pageX,y:evt.pageY},evt.target);}),on(cn,_55f("keydown"),function(evt){if(evt.keyCode==93||(evt.shiftKey&&evt.keyCode==keys.F10)||(this.leftClickToOpen&&evt.keyCode==keys.SPACE)){_550.stop(evt);self._scheduleOpen(this,_55a,null,evt.target);this._lastKeyDown=(new Date()).getTime();}})];});_55c.connects=cn?_55d(cn):[];if(_55a){_55c.onloadHandler=lang.hitch(this,function(){var _562=this._iframeContentWindow(_55a);cn=win.body(_562.document);_55c.connects=_55d(cn);});if(_55a.addEventListener){_55a.addEventListener("load",_55c.onloadHandler,false);}else{_55a.attachEvent("onload",_55c.onloadHandler);}}},unBindDomNode:function(_563){var node;try{node=dom.byId(_563,this.ownerDocument);}catch(e){return;}var _564="_dijitMenu"+this.id;if(node&&_551.has(node,_564)){var bid=_551.get(node,_564)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _565=b.iframe;if(_565){if(_565.removeEventListener){_565.removeEventListener("load",b.onloadHandler,false);}else{_565.detachEvent("onload",b.onloadHandler);}}_551.remove(node,_564);delete this._bindings[bid];}},_scheduleOpen:function(_566,_567,_568,_569){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_569,delegatedTarget:_566,iframe:_567,coords:_568});},1);}},_openMyself:function(args){var _56a=args.target,_56b=args.iframe,_56c=args.coords;this.currentTarget=args.delegatedTarget;if(_56c){if(_56b){var ifc=_552.position(_56b,true),_56d=this._iframeContentWindow(_56b),_56e=_552.docScroll(_56d.document);var cs=_553.getComputedStyle(_56b),tp=_553.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_56b,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_56b,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_56b,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_56b,cs.borderTopWidth):0);_56c.x+=ifc.x+left-_56e.x;_56c.y+=ifc.y+top-_56e.y;}}else{_56c=_552.position(_56a,true);_56c.x+=10;_56c.y+=10;}var self=this;var _56f=this._focusManager.get("prevNode");var _570=this._focusManager.get("curNode");var _571=!_570||(dom.isDescendant(_570,this.domNode))?_56f:_570;function _572(){if(self.refocus&&_571){_571.focus();}pm.close(self);};pm.open({popup:this,x:_56c.x,y:_56c.y,onExecute:_572,onCancel:_572,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_54e.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./main"],function(_573,_574,_575,_576,dom,_577,_578,_579,_57a,_57b,has,keys,lang,on,_57c,_57d,_57e){function _57f(){if(this._popupWrapper){_578.destroy(this._popupWrapper);delete this._popupWrapper;}};var _580=_576(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_581){var _582=_581._popupWrapper,node=_581.domNode;if(!_582){_582=_578.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_581["aria-label"]||_581.label||_581.name||_581.id},_581.ownerDocumentBody);_582.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_581._popupWrapper=_582;_574.after(_581,"destroy",_57f,true);}return _582;},moveOffScreen:function(_583){var _584=this._createWrapper(_583);_57a.set(_584,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_585){var _586=this._createWrapper(_585);_57a.set(_586,"display","none");},getTopPopup:function(){var _587=this._stack;for(var pi=_587.length-1;pi>0&&_587[pi].parent===_587[pi-1].widget;pi--){}return _587[pi];},open:function(args){var _588=this._stack,_589=args.popup,_58a=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_579.isBodyLtr(_589.ownerDocument),_58b=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_588.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_588[_588.length-1].widget.domNode))){this.close(_588[_588.length-1].widget);}var _58c=this._createWrapper(_589);_577.set(_58c,{id:id,style:{zIndex:this._beginZIndex+_588.length},"class":"dijitPopup "+(_589.baseClass||_589["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("bgIframe")&&!_589.bgIframe){_589.bgIframe=new _57d(_58c);}var best=_58b?_57c.around(_58c,_58b,_58a,ltr,_589.orient?lang.hitch(_589,"orient"):null):_57c.at(_58c,args,_58a=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_58c.style.display="";_58c.style.visibility="visible";_589.domNode.style.visibility="visible";var _58d=[];_58d.push(on(_58c,_575._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_57b.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_57b.stop(evt);var _58e=this.getTopPopup();if(_58e&&_58e.onCancel){_58e.onCancel();}}}})));if(_589.onCancel&&args.onCancel){_58d.push(_589.on("cancel",args.onCancel));}_58d.push(_589.on(_589.onExecute?"execute":"change",lang.hitch(this,function(){var _58f=this.getTopPopup();if(_58f&&_58f.onExecute){_58f.onExecute();}})));_588.push({widget:_589,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_58d});if(_589.onOpen){_589.onOpen(best);}return best;},close:function(_590){var _591=this._stack;while((_590&&_573.some(_591,function(elem){return elem.widget==_590;}))||(!_590&&_591.length)){var top=_591.pop(),_592=top.widget,_593=top.onClose;if(_592.onClose){_592.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_592&&_592.domNode){this.hide(_592);}if(_593){_593();}}}});return (_57e.popup=new _580());});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_594,_595,_596,_597,win,_598,_599){function _59a(node,_59b,_59c,_59d){var view=_598.getEffectiveBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_594.some(_59b,function(_59e){var _59f=_59e.corner;var pos=_59e.pos;var _5a0=0;var _5a1={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_59f.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_59f.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_59c){var res=_59c(node,_59e.aroundCorner,_59f,_5a1,_59d);_5a0=typeof res=="undefined"?0:res;}var _5a2=node.style;var _5a3=_5a2.display;var _5a4=_5a2.visibility;if(_5a2.display=="none"){_5a2.visibility="hidden";_5a2.display="";}var bb=_595.position(node);_5a2.display=_5a3;_5a2.visibility=_5a4;var _5a5={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_59f.charAt(1)],_5a6={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_59f.charAt(0)],_5a7=Math.max(view.l,_5a5),_5a8=Math.max(view.t,_5a6),endX=Math.min(view.l+view.w,_5a5+bb.w),endY=Math.min(view.t+view.h,_5a6+bb.h),_5a9=endX-_5a7,_5aa=endY-_5a8;_5a0+=(bb.w-_5a9)+(bb.h-_5aa);if(best==null||_5a0<best.overflow){best={corner:_59f,aroundCorner:_59e.aroundCorner,x:_5a7,y:_5a8,w:_5a9,h:_5aa,overflow:_5a0,spaceAvailable:_5a1};}return !_5a0;});if(best.overflow&&_59c){_59c(node,best.aroundCorner,best.corner,best.spaceAvailable,_59d);}var s=node.style;s.top=best.y+"px";s.left=best.x+"px";s.right="auto";return best;};var _5ab={at:function(node,pos,_5ac,_5ad){var _5ae=_594.map(_5ac,function(_5af){var c={corner:_5af,pos:{x:pos.x,y:pos.y}};if(_5ad){c.pos.x+=_5af.charAt(1)=="L"?_5ad.x:-_5ad.x;c.pos.y+=_5af.charAt(0)=="T"?_5ad.y:-_5ad.y;}return c;});return _59a(node,_5ae);},around:function(node,_5b0,_5b1,_5b2,_5b3){var _5b4=(typeof _5b0=="string"||"offsetWidth" in _5b0||"ownerSVGElement" in _5b0)?_595.position(_5b0,true):_5b0;if(_5b0.parentNode){var _5b5=_596.getComputedStyle(_5b0).position=="absolute";var _5b6=_5b0.parentNode;while(_5b6&&_5b6.nodeType==1&&_5b6.nodeName!="BODY"){var _5b7=_595.position(_5b6,true),pcs=_596.getComputedStyle(_5b6);if(/relative|absolute/.test(pcs.position)){_5b5=false;}if(!_5b5&&/hidden|auto|scroll/.test(pcs.overflow)){var _5b8=Math.min(_5b4.y+_5b4.h,_5b7.y+_5b7.h);var _5b9=Math.min(_5b4.x+_5b4.w,_5b7.x+_5b7.w);_5b4.x=Math.max(_5b4.x,_5b7.x);_5b4.y=Math.max(_5b4.y,_5b7.y);_5b4.h=_5b8-_5b4.y;_5b4.w=_5b9-_5b4.x;}if(pcs.position=="absolute"){_5b5=true;}_5b6=_5b6.parentNode;}}var x=_5b4.x,y=_5b4.y,_5ba="w" in _5b4?_5b4.w:(_5b4.w=_5b4.width),_5bb="h" in _5b4?_5b4.h:(_597.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_5b4.height+", width:"+_5ba+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_5b4.height+", w:"+_5ba+" }","","2.0"),_5b4.h=_5b4.height);var _5bc=[];function push(_5bd,_5be){_5bc.push({aroundCorner:_5bd,corner:_5be,pos:{x:{"L":x,"R":x+_5ba,"M":x+(_5ba>>1)}[_5bd.charAt(1)],y:{"T":y,"B":y+_5bb,"M":y+(_5bb>>1)}[_5bd.charAt(0)]}});};_594.forEach(_5b1,function(pos){var ltr=_5b2;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _5bf=_59a(node,_5bc,_5b3,{w:_5ba,h:_5bb});_5bf.aroundNodePos=_5b4;return _5bf;}};return _599.place=_5ab;});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_5c0,_5c1,keys,_5c2,_5c3,_5c4){return _5c0("dijit.DropDownMenu",[_5c4,_5c3],{templateString:_5c2,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_5c1.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_5c1.stop(evt);}break;}}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5c5,_5c6,dom,_5c7,_5c8,lang,_5c9,on,_5ca,_5cb,pm,_5cc,_5cd,_5ce,_5cf){return _5c6("dijit._MenuBase",[_5cd,_5cf,_5ce],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(node){var _5d0=_5cc.byNode(node);return node.parentNode==this.containerNode&&_5d0&&_5d0.focus;},postCreate:function(){var self=this,_5d1=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_5d1,_5c9.enter),function(){self.onItemHover(_5cc.byNode(this));}),on(this.containerNode,on.selector(_5d1,_5c9.leave),function(){self.onItemUnhover(_5cc.byNode(this));}),on(this.containerNode,on.selector(_5d1,_5cb),function(evt){self.onItemClick(_5cc.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _5d2=this._getTopMenu();if(_5d2&&_5d2._isMenuBar){_5d2.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _5d3=this.currentPopup.parentMenu;if(_5d3.focusedChild){_5d3.focusedChild._setSelected(false);}_5d3.focusedChild=this.currentPopup.from_item;_5d3.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;item._set("hovering",true);},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _5d4=item.popup;if(_5d4){this._stopPendingCloseTimer(_5d4);_5d4._pendingClose_timer=this.defer(function(){_5d4._pendingClose_timer=null;if(_5d4.parentMenu){_5d4.parentMenu.currentPopup=null;}pm.close(_5d4);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_5d5){if(_5d5._pendingClose_timer){_5d5._pendingClose_timer=_5d5._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openPopup:function(_5d6){this._stopPopupTimer();var _5d7=this.focusedChild;if(!_5d7){return;}var _5d8=_5d7.popup;if(!_5d8.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_5d8.parentMenu=this;_5d8.from_item=_5d7;var self=this;pm.open({parent:this,popup:_5d8,around:_5d7.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_5d7);self._cleanUp();_5d7._setSelected(true);self.focusedChild=_5d7;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_5d8;if(this.popupHoverHandle){this.popupHoverHandle.remove();}this.own(this.popupHoverHandle=on.once(_5d8.domNode,"mouseover",lang.hitch(self,"_onPopupHover")));}if(_5d6&&_5d8.focus){_5d8._focus_timer=this.defer(lang.hitch(_5d8,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_5c8.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_5c8.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_5c5.indexOf(this._focusManager.activeStack,this.id)>=0){_5c7.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_5d9,dom,_5da,_5db,_5dc,_5dd){return _5d9("dijit.MenuSeparator",[_5da,_5db,_5dc],{templateString:_5dd,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_5de,_5df){return _5de("dijit._Contained",null,{_getSibling:function(_5e0){var node=this.domNode;do{node=node[_5e0+"Sibling"];}while(node&&node.nodeType!=1);return node&&_5df.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","epi/shell/widget/WidgetFactory":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/dom","dojo/promise/all","dojo/when","epi/string","epi/dependency","dijit/_Widget","dijit/_Container","dojox/layout/GridContainerLite","epi/shell/widget/ToolbarDropDownButton","epi/shell/widget/ToolbarSet"],function(_5e1,_5e2,_5e3,lang,win,dom,all,when,_5e4,_5e5){return _5e3(null,{_domNodeName:"[domnode]",_handlers:null,moduleManager:null,messageService:undefined,onWidgetHierarchyCreated:null,onWidgetCreated:null,constructor:function(_5e6){_5e3.safeMixin(this,_5e6);this._handlers=[];this._addDefaultHandlers();this.messageService=this.messageService||_5e5.resolve("epi.shell.MessageService");this.moduleManager=this.moduleManager||_5e5.resolve("epi.ModuleManager");},createWidgets:function(root,_5e7,_5e8){var _5e9,_5ea,_5eb=[],_5ec=[],_5ed=new _5e2(),_5ee;_5e8===false?_5e8=false:_5e8=true;if(typeof (root)==="string"){root=dom.byId(root);}if(_5e7&&!lang.isArray(_5e7)){_5e7=[_5e7];}if(this.getHandler(root).type===this._domNodeName){_5e9=win.doc.createDocumentFragment();_5e9.tagName="documentFragment";}_5ea=lang.hitch(this,function(_5ef){if(_5ef instanceof Array){for(var i in _5ef){_5ea(_5ef[i]);}}if(_5ef.components instanceof Array){_5ea(_5ef.components);}if(_5ef.moduleName){_5ec.push(this.moduleManager.startModules(_5ef.moduleName));}if(_5ef.widgetPackage){_5eb.push(_5e4.slashName(_5ef.widgetPackage));}else{if(_5ef.widgetType){_5eb.push(_5e4.slashName(_5ef.widgetType));}}});_5ea(_5e7);_5ee=require.on("error",function(_5f0){console.error(_5f0.stack||_5f0);_5ee.remove();_5ed.reject(_5f0);});all(_5ec).then(lang.hitch(this,function(){require(_5eb,lang.hitch(this,function(){_5ee.remove();this._createWidgets(_5e9||root,_5e7).then(function(_5f1){try{_5e9&&root.appendChild(_5e9);if(_5e8){_5e1.forEach(_5f1,function(w){!w._started&&w.startup&&w.startup();});}_5ed.resolve(_5f1);}catch(err){_5ed.reject(err);}},_5ed.reject);}));}));return _5ed;},_createWidgets:function(root,_5f2){var dfd=new _5e2(),_5f3=[],_5f4=this.getHandler(root),_5f5;if(!_5f4||!lang.isArray(_5f2)){dfd.resolve(_5f3);return dfd;}_5f5=_5e1.map(_5f2,lang.hitch(this,function(_5f6){var done=new _5e2(),_5f7=this._createInternal(root,_5f6,_5f4);_5f7.then(function(_5f8){if(_5f8){_5f3.push(_5f8);}done.resolve(_5f8);},function(e){console.error(e.stack||e);done.reject(e);});return done;}));all(_5f5).then(function(){dfd.resolve(_5f3);},function(_5f9){console.error("WidgetFactory: Could not resolve one or more widgets");dfd.reject(_5f9);});return dfd;},_createInternal:function(root,_5fa,_5fb){var _5fc=new _5e2();when(_5fb.instantiateWidgetFunction(_5fa),lang.hitch(this,function(_5fd){if(_5fd){try{if(typeof this.onWidgetCreated=="function"){this.onWidgetCreated(_5fd,_5fa);}_5fb.addWidgetToRootFunction(root,_5fd);}catch(e){_5fc.reject(e);return;}var _5fe=new _5e2();if(_5fa.components&&lang.isArray(_5fa.components)&&_5fa.components.length>0){_5fe=this._createWidgets(_5fd,_5fa.components);}else{_5fe.resolve();}_5fe.then(lang.hitch(this,function(){try{if(typeof this.onWidgetHierarchyCreated=="function"){this.onWidgetHierarchyCreated(_5fd,_5fa);}_5fc.resolve(_5fd);}catch(e){_5fc.reject(e);}}),_5fc.reject);}else{_5fc.reject();}}),function(_5ff){console.error(_5ff.stack||_5ff);_5fc.reject(_5ff);});return _5fc;},defaultWidgetInstantiator:function(_600){var def=new _5e2();var _601=lang.mixin({},_600.settings,{componentId:_600.id});var _602=_5e4.slashName(_600.widgetType);var _603=_600.widgetPackage&&lang.getObject(_600.widgetType);var _604=require.on("error",function(_605){console.error(_605.stack||_605);_604.remove();def.reject(_605);});function _606(ctor){var _607=new ctor(_601);if(_600.connections){for(var evt in _600.connections){if(_600.connections[evt]){_607.connect(_607,evt,_600.connections[evt]);}}}_604.remove();def.resolve(_607);};if(_603){_606(_603);}else{require([_602],lang.hitch(this,_606));}return def;},_notifyError:function(msg){if(this.messageService){this.messageService.put("error",msg);}},_addDefaultHandlers:function(){this.addHandler(this._domNodeName,function(_608,_609){_609.placeAt(_608);},null,function(){return true;});this.addHandler("dijit/_Widget",function(_60a,_60b){_60a.set("content",_60b);});this.addHandler("dijit/_Container",function(_60c,_60d){_60c.addChild(_60d);});this.addHandler("dojox/layout/GridContainerLite",function(_60e,_60f){_60e.addChild(_60f,_60f.params.column);});this.addHandler("epi/shell/widget/ToolbarDropDownButton",function(_610,_611){_610.addChild(_611);});this.addHandler("epi/shell/widget/ToolbarSet",function(_612,_613){_612.addChild(_613);});},addHandler:function(_614,_615,_616,_617){var _618=function(_619,_61a){return _61a&&lang.isFunction(_619.isInstanceOf)&&_619.isInstanceOf(_61a);};var _61b=lang.hitch(this,function(type){var _61c=this.getHandlerByTypeName(_614);var _61d=_617||_618;var _61e=_61c?true:false;if(!_61e){_61c={};}var _61f=_616||lang.hitch(this,this.defaultWidgetInstantiator);_61c.type=_614;_61c.instantiateWidgetFunction=_61f;_61c.addWidgetToRootFunction=_615;_61c.widgetConstructor=type;_61c.canHandle=_61d;if(!_61e){this._handlers.push(_61c);}});if(_614!=this._domNodeName){require([_5e4.slashName(_614)],_61b);}else{_61b();}},getHandler:function(root){var _620=this._handlers;for(var i=_620.length-1;i>=0;i--){if(_620[i].canHandle(root,_620[i].widgetConstructor)){return _620[i];}}return null;},getHandlerByTypeName:function(_621){var _622=this._handlers;for(var i=0;i<_622.length;i++){if(_622[i].type===_621){return _622[i];}}return null;},removeHandler:function(_623){var _624=this._handlers;for(var i=0;i<_624.length;i++){if(_624[i].type===_623){_624.splice(i,1);}}},listHandlers:function(){var _625=this._handlers;return _5e1.map(_625,function(_626){return _626.type;});}});});},"epi/string":function(){define("epi/string",["dojo/_base/lang","dojo/dom-construct","dojox/html/entities"],function(lang,_627,_628){return {pascalToCamel:function(_629){var _62a=_629.split(".");var _62b=this._toCamelCase(_62a[0]);for(var i=1;i<_62a.length;i++){_62b+="."+this._toCamelCase(_62a[i]);}return _62b;},_toCamelCase:function(_62c){if(!_62c){return "";}if(_62c[0]===_62c[0].toLowerCase()){return _62c;}var _62d="";for(var i=0;i<_62c.length;i++){var _62e=(i+1<_62c.length);if((i===0||!_62e)||_62c[i+1]===_62c[i+1].toUpperCase()){_62d+=_62c[i].toLowerCase();}else{_62d+=_62c.substring(i);break;}}return _62d;},stripHtmlTags:function(_62f){if(this.isNullOrEmpty(_62f)){return "";}var dom=_627.toDom(_62f.replace(/&/gim,"&amp;"));return this.removeAllCarriageReturns(dom.textContent||dom.innerText);},removeAllCarriageReturns:function(_630){if(this.isNullOrEmpty(_630)){return "";}var _631=_630.replace(/\t|\r|\n/gim,"");return _631.replace(/ {2,}/gim," ");},encodeForWebString:function(_632,_633){if(this.isNullOrEmpty(_632)){return "";}var _634=_628.encode(_632);if(_633==null||_633.length===0){return _634;}var _635=new RegExp("&lt;(/?("+_633.join("|")+")/?\\s*)&gt;","gim");return _634.replace(_635,"<$1>");},isNullOrEmpty:function(_636){return !_636||(/^\s*$/).test(_636);},toHTML:function(_637){if(this.isNullOrEmpty(_637)){return "";}return _637.replace(/\r\n|\n|\r|\\n/g,"<br/>");},toTooltipText:function(_638){if(this.isNullOrEmpty(_638)){return "";}return _638.replace(/\\n/gim,"\n");},slashName:function(name){return name.replace(/\./g,"/");},appendTrailingSlash:function(url){return url.replace(/\/?$/,"/");},truncateMiddle:function(_639,_63a,_63b){if(typeof _639==="string"){_639=_639.split(/\s+/g);}else{_639=_639.concat();}if(_639.join("").length<=_63a){return _639;}var _63c=function(_63d,_63e,_63f){if(_63f){return _63c(_63d.reverse(),_63e).reverse();}var _640=0;return _63d.filter(function(word){_640+=word.length;return _640<=_63e;});};var _641=Math.ceil(_63a/2);var _642=Math.floor(_63a/2);var _643=_63c(_639,_641);_63b=_63b||"&hellip;";_643.push(_63b);return _643.concat(_63c(_639,_642,true));}};});},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _644=function(str,map){var _645,_646;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_645=map._encCache.mapper;_646=map._encCache.regexp;}else{_645={};_646=["["];var i;for(i=0;i<map.length;i++){_645[map[i][0]]="&"+map[i][1]+";";_646.push(map[i][0]);}_646.push("]");_646=new RegExp(_646.join(""),"g");map._encCache={mapper:_645,regexp:_646,length:map.length};}str=str.replace(_646,function(c){return _645[c];});return str;};var _647=function(str,map){var _648,_649;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_648=map._decCache.mapper;_649=map._decCache.regexp;}else{_648={};_649=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_649.push("|");}_648[e]=map[i][0];_649.push(e);}_649.push(")");_649=new RegExp(_649.join(""),"g");map._decCache={mapper:_648,regexp:_649,length:map.length};}str=str.replace(_649,function(c){return _648[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_644(str,dhe.html);str=_644(str,dhe.latin);}else{str=_644(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_647(str,dhe.html);str=_647(str,dhe.latin);}else{str=_647(str,m);}}return str;};return dhe;});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>"}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_64a,_64b,_64c,has,_64d,_64e,geom,_64f,_650,_651,lang,_652,keys,_653,_654,_655,_656,_657,_658,_659,_65a){var gcl=_64b("dojox.layout.GridContainerLite",[_659,_658],{autoRefresh:true,templateString:_64a,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_65b,node){this.acceptTypes=(_65b||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_64e.set(this.domNode,"overflowY","hidden");_64e.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_651.forEach(this.getChildren(),function(_65c){_65c.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_65d,_65e){if(this._disabled){return false;}if(_654.getEnclosingWidget(_65d.node)==this){var _65f=_654.byNode(node);if(_65f.resize&&lang.isFunction(_65f.resize)){_65f.resize();}_65f.set("column",node.parentNode.cellIndex);if(this.doLayout){var _660=this._contentBox.h,_661=geom.getContentBox(this.gridContainerDiv).h;if(_661>=_660){_64e.set(this.gridContainerTable,"height",(_660-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_662,_663){if(this._disabled){return false;}if(_654.getEnclosingWidget(_662.node)==this){this._draggedNode=node;if(this.doLayout){geom.getMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _664=new _65a();_651.forEach(this._grid,function(_665){_64c("> [widgetId]",_665.node).map(_654.byNode).forEach(function(item){_664.push(item);});});return _664;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_64d.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _666=this._contentBox;geom.getMarginBox(this.gridContainerTable,{h:_666.h-this._border.h});geom.getContentBox(this.domNode,{w:_666.w-this._border.w});}_651.forEach(this.getChildren(),function(_667){if(_667.resize&&lang.isFunction(_667.resize)){_667.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _668=this.acceptTypes.join(","),i=0;var _669=this.colWidths||[];var _66a=[];var _66b;var _66c=0;for(i=0;i<this.nbZones;i++){if(_66a.length<_669.length){_66c+=_669[i];_66a.push(_669[i]);}else{if(!_66b){_66b=(100-_66c)/(this.nbZones-i);}_66a.push(_66b);}}i=0;while(i<this.nbZones){this._grid.push({node:_64f.create("td",{"class":"gridContainerZone",accept:_668,id:this.id+"_dz"+i,style:{"width":_66a[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _64c(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_651.forEach(this._grid,function(_66d){m.registerByNode(_66d.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_651.forEach(this._grid,function(_66e){m.unregister(_66e.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _66f=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _670=this.nbZones,_671=Math.floor(_66f.length/_670),mod=_66f.length%_670,i=0;for(var z=0;z<_670;z++){for(var r=0;r<_671;r++){this._insertChild(_66f[i],z);i++;}if(mod>0){try{this._insertChild(_66f[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_671===0){break;}}}},_organizeChildrenManually:function(){var _672=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_673=_672.length,_674;for(var i=0;i<_673;i++){_674=_672[i];try{this._insertChild(_674,_674.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_675,_676,p){var zone=this._grid[_676].node,_677=zone.childNodes.length;if(typeof p==="undefined"||p>_677){p=_677;}if(this._disabled){_64f.place(_675.domNode,zone,p);_650.set(_675.domNode,"tabIndex","0");}else{if(!_675.dragRestriction){this._dragManager.addDragItem(zone,_675.domNode,p,true);}else{_64f.place(_675.domNode,zone,p);_650.set(_675.domNode,"tabIndex","0");}}_675.set("column",_676);return _675;},removeChild:function(_678){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_678.domNode.parentNode,_678.domNode);}},addService:function(_679,_67a,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_679,_67a,p);},addChild:function(_67b,_67c,p){_67b.domNode.id=_67b.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_67b,0);if(_67c<0||_67c==undefined){_67c=0;}if(p<=0){p=0;}try{return this._insertChild(_67b,_67c,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_67d){this.colWidths=lang.isString(_67d)?_67d.split(","):(lang.isArray(_67d)?_67d:[_67d]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_67e){var _67f=this._grid.length;var _680=this.colWidths||[];var _681=[];var _682;var _683=0;var i;for(i=0;i<_67f;i++){if(_681.length<_680.length){_683+=_680[i]*1;_681.push(_680[i]);}else{if(!_682){_682=(100-_683)/(this.nbZones-i);if(_682<0){_682=100/this.nbZones;}}_681.push(_682);_683+=_682*1;}}if(_683>100){var _684=100/_683;for(i=0;i<_681.length;i++){_681[i]*=_684;}}for(i=0;i<_67f;i++){this._grid[i].node.style.width=_681[i]+"%";}},_selectFocus:function(_685){if(this._disabled){return;}var key=_685.keyCode,k=keys,zone=null,_686=_656.getFocus(),_687=_686.node,m=this._dragManager,_688,i,j,r,_689,area,_68a;if(_687==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_688=false;for(i=0;i<area.length;i++){_689=area[i].childNodes;for(j=0;j<_689.length;j++){zone=_689[j];if(zone!=null&&zone.style.display!="none"){_655.focus(zone);_652.stop(_685);_688=true;break;}}if(_688){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_688=false;for(i=area.length-1;i>=0;i--){_689=area[i].childNodes;for(j=_689.length;j>=0;j--){zone=_689[j];if(zone!=null&&zone.style.display!="none"){_655.focus(zone);_652.stop(_685);_688=true;break;}}if(_688){break;}}break;}}else{if(_687.parentNode.parentNode==this.gridNode){var _68b=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_652.stop(_685);_688=false;var _68c=_687;while(!_688){_689=_68c.parentNode.childNodes;var num=0;for(i=0;i<_689.length;i++){if(_689[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_68c[pos]==null){zone=_68c.parentNode[_68b];}else{zone=_68c[pos];}if(zone.style.display==="none"){_68c=zone;}else{_688=true;}}if(_685.shiftKey){var _68d=_687.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_68d==this.gridNode.childNodes[i]){break;}}_689=this.gridNode.childNodes[i].childNodes;for(j=0;j<_689.length;j++){if(zone==_689[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_68a=_654.byNode(_687);if(!_68a.dragRestriction){r=m.removeDragItem(_68d,_687);this.addChild(_68a,i,j);_650.set(_687,"tabIndex","0");_655.focus(_687);}else{_653.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_655.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_652.stop(_685);if(_685.shiftKey){var z=0;if(_687.parentNode[pos]==null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_687.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_687.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_68a=_654.byNode(_687);var _68e=_687.getAttribute("dndtype");if(_68e==null){if(_68a&&_68a.dndType){_68e=_68a.dndType.split(/\s*,\s*/);}else{_68e=["text"];}}else{_68e=_68e.split(/\s*,\s*/);}var _68f=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_68e.length;j++){if(_68e[j]==this.acceptTypes[i]){_68f=true;break;}}}if(_68f&&!_68a.dragRestriction){var _690=_687.parentNode,_691=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_691=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_690,_687);this.addChild(_68a,z,_691);_650.set(r,"tabIndex","0");_655.focus(r);}else{_653.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_687.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_68b];if(zone&&zone.style.display=="none"){_689=zone.parentNode.childNodes;var _692=null;if(pos=="previousSibling"){for(i=_689.length-1;i>=0;i--){if(_689[i].style.display!="none"){_692=_689[i];break;}}}else{for(i=0;i<_689.length;i++){if(_689[i].style.display!="none"){_692=_689[i];break;}}}if(!_692){_687=zone;node=_687.parentNode;zone=null;}else{zone=_692;}}}_655.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_651.forEach(this._grid,function(_693){m.unregister(_693.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_657,gcl.ChildWidgetProperties);return gcl;});},"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_694,dom,lang,_695,win,_696,_697){var _698={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _697.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_696.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{console.warn("No idea how to store the current selection for this browser!");}}return bm;},moveToBookmark:function(_699){var _69a=win.doc,mark=_699.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{console.warn("No idea how to restore selection for this browser!");}}else{if(_69a.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_69a.body.createControlRange();_694.forEach(mark,function(n){rg.addElement(n);});}else{rg=_69a.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_69b){var node=!_696.curNode||(menu&&dom.isDescendant(_696.curNode,menu.domNode))?_697._prevFocus:_696.curNode;return {node:node,bookmark:node&&(node==_696.curNode)&&win.withGlobal(_69b||win.global,_697.getBookmark),openedForWindow:_69b};},_activeStack:[],registerIframe:function(_69c){return _696.registerIframe(_69c);},unregisterIframe:function(_69d){_69d&&_69d.remove();},registerWin:function(_69e,_69f){return _696.registerWin(_69e,_69f);},unregisterWin:function(_6a0){_6a0&&_6a0.remove();}};_696.focus=function(_6a1){if(!_6a1){return;}var node="node" in _6a1?_6a1.node:_6a1,_6a2=_6a1.bookmark,_6a3=_6a1.openedForWindow,_6a4=_6a2?_6a2.isCollapsed:false;if(node){var _6a5=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_6a5&&_6a5.focus){try{_6a5.focus();}catch(e){}}_696._onFocusNode(node);}if(_6a2&&win.withGlobal(_6a3||win.global,_697.isCollapsed)&&!_6a4){if(_6a3){_6a3.focus();}try{win.withGlobal(_6a3||win.global,_697.moveToBookmark,null,[_6a2]);}catch(e2){}}};_696.watch("curNode",function(name,_6a6,_6a7){_697._curFocus=_6a7;_697._prevFocus=_6a6;if(_6a7){_695.publish("focusNode",_6a7);}});_696.watch("activeStack",function(name,_6a8,_6a9){_697._activeStack=_6a9;});_696.on("widget-blur",function(_6aa,by){_695.publish("widgetBlur",_6aa,by);});_696.on("widget-focus",function(_6ab,by){_695.publish("widgetFocus",_6ab,by);});lang.mixin(_697,_698);return _697;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_6ac,_6ad,_6ae,_6af,_6b0,_6b1,_6b2,_6b3){return _6b0("dijit.layout._LayoutWidget",[_6ac,_6ad,_6ae],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_6b1.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _6b4=this.getParent&&this.getParent();if(!(_6b4&&_6b4.isLayoutContainer)){this.resize();this.own(_6af.on("resize",lang.hitch(this,"resize")));}},resize:function(_6b5,_6b6){var node=this.domNode;if(_6b5){_6b2.setMarginBox(node,_6b5);}var mb=_6b6||{};lang.mixin(mb,_6b5||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_6b2.getMarginBox(node),mb);}var cs=_6b3.getComputedStyle(node);var me=_6b2.getMarginExtents(node,cs);var be=_6b2.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_6b2.getPadExtents(node,cs);this._contentBox={l:_6b3.toPixelValue(node,cs.paddingLeft),t:_6b3.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_6b7){var cls=this.baseClass+"-child "+(_6b7.baseClass?this.baseClass+"-"+_6b7.baseClass:"");_6b1.add(_6b7.domNode,cls);},addChild:function(_6b8,_6b9){this.inherited(arguments);if(this._started){this._setupChild(_6b8);}},removeChild:function(_6ba){var cls=this.baseClass+"-child"+(_6ba.baseClass?" "+this.baseClass+"-"+_6ba.baseClass:"");_6b1.remove(_6ba.domNode,cls);this.inherited(arguments);}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_6bb,_6bc,win,_6bd,_6be,lang,_6bf,_6c0,_6c1,geom,_6c2,_6c3,_6c4,_6c5){var am=_6bb("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_6bc.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_6c6){var _6c7=this._getIndexArea(area);if(area&&_6c7==-1){var _6c8=area.getAttribute("accept");var _6c9=(_6c8)?_6c8.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_6c9,"initItems":false};_6bd.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_6c6){this._dropMode.updateAreas(this._areaList);}_6bc.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_6bf("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _6ca=this._getIndexArea(area);if(_6ca!=-1){_6bd.forEach(this._areaList[_6ca].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_6ca,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _6cb=this._searchDragHandle(node);var _6cc=new _6c5({"handle":_6cb,"skip":true},node);_6c1.add(_6cb||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_6cc,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_6bc.connect(_6cc,"onDragStart",this,"onDragStart")]};if(_6c3&&_6c3.byNode){var _6cd=_6c3.byNode(node);if(_6cd){item.type=_6cd.dndType?_6cd.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_6bc.connect(_6cd,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_6cc.node);}));}}return item;},_deleteMoveableItem:function(_6ce){_6bd.forEach(_6ce.handlers,function(_6cf){_6bc.disconnect(_6cf);});var node=_6ce.item.node,_6d0=this._searchDragHandle(node);_6c1.remove(_6d0||node,"dragHandle");_6ce.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _6d1=this.dragHandleClass.split(" "),_6d2=_6d1.length,_6d3="";_6bd.forEach(_6d1,function(css,i){_6d3+="."+css;if(i!=_6d2-1){_6d3+=", ";}});return _6bf(_6d3,node)[0];}},addDragItem:function(area,node,_6d4,_6d5){var add=true;if(!_6d5){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _6d6=this._getIndexArea(area);if(_6d6!==-1){var item=this._addMoveableItem(node),_6d7=this._areaList[_6d6].items;if(0<=_6d4&&_6d4<_6d7.length){var _6d8=_6d7.slice(0,_6d4),_6d9=_6d7.slice(_6d4,_6d7.length);_6d8[_6d8.length]=item;this._areaList[_6d6].items=_6d8.concat(_6d9);area.insertBefore(node,_6d7[_6d4].item.node);}else{this._areaList[_6d6].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_6d6],node);this._areaList[_6d6].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _6da=this._getIndexArea(area);if(area&&_6da!==-1){var _6db=this._areaList[_6da].items;for(var j=0;j<_6db.length;j++){if(_6db[j].item.node===node){this._deleteMoveableItem(_6db[j]);_6db.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _6dc=[];_6bd.forEach(area.childNodes,function(_6dd){if(_6dd.nodeType==1){if(_6c3&&_6c3.byNode){var _6de=_6c3.byNode(_6dd);if(_6de){if(!_6de.dragRestriction){_6dc.push(_6dd);}}else{_6dc.push(_6dd);}}else{_6dc.push(_6dd);}}});return _6dc;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_6df,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_6df,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_6df,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_6df,size);}}return this._currentIndexArea;},_isAccepted:function(type,_6e0){this._accept=false;for(var i=0;i<_6e0.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_6e0[i]){this._accept=true;break;}}}},onDragStart:function(node,_6e1,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _6e2=(_6be("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_6c2.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_6c1.add(this._cover2,"dndCover2");}var h=_6e2.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_6bc.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _6e3=this._areaList[this._sourceIndexArea];var _6e4=_6e3.items;for(var i=0;i<_6e4.length;i++){if(_6e4[i].item.node==node){this._dragItem=_6e4[i];this._dragItem.handlers.push(_6bc.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_6bc.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_6e4.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _6e5=null;if(this._sourceDropIndex!==_6e3.items.length){_6e5=_6e3.items[this._sourceDropIndex].item.node;}if(_6be("ie")>7){this._eventsIE7=[_6bc.connect(this._cover,"onmouseover",dojo,"stopEvent"),_6bc.connect(this._cover,"onmouseout",dojo,"stopEvent"),_6bc.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_6bc.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_6e1.x+"px";s.top=_6e1.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_6e3.node,_6e5,size);_6c1.add(node,"dragNode");this._accept=true;_6bc.publish("/dojox/mdnd/drag/start",[node,_6e3,this._sourceDropIndex]);},onDragEnter:function(_6e6,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_6e7,size){this._accept=false;},onDrag:function(node,_6e8,size,_6e9){var _6ea=this._dropMode.getDragPoint(_6e8,size,_6e9);this.findCurrentIndexArea(_6ea,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_6ea,size);}},placeDropIndicator:function(_6eb,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_6eb);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _6ec=this._areaList[this._lastValidIndexArea];var _6ed=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_6ec,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_6ed.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_6ed.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_6ed,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _6ee=this._getIndexArea(this._dropIndicator.node.parentNode);if(_6ee!=-1){this._currentIndexArea=_6ee;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _6ef=this._areaList[this._currentIndexArea];_6c1.remove(node,"dragNode");var _6f0=node.style;_6f0.position="relative";_6f0.left="0";_6f0.top="0";_6f0.width="auto";if(_6ef.node==this._dropIndicator.node.parentNode){_6ef.node.insertBefore(node,this._dropIndicator.node);}else{_6ef.node.appendChild(node);this._currentDropIndex=_6ef.items.length;}var _6f1=this._currentDropIndex;if(_6f1==-1){_6f1=_6ef.items.length;}var _6f2=_6ef.items;var _6f3=_6f2.slice(0,_6f1);var _6f4=_6f2.slice(_6f1,_6f2.length);_6f3[_6f3.length]=this._dragItem;_6ef.items=_6f3.concat(_6f4);this._setMarginArea(_6ef,node);_6bd.forEach(this._areaList,function(obj){obj.initItems=false;});_6bc.disconnect(this._dragItem.handlers.pop());_6bc.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_6bc.publish("/dojox/mdnd/drop",[node,_6ef,_6f1]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_6bc.disconnect(this._dragStartHandler);}if(_6be("ie")>7){_6bd.forEach(this._eventsIE7,_6bc.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_6bc.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_6bc.unsubscribe(this.refreshListener);}if(this._cover){_6c2.destroy(this._cover);_6c2.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_6c4){lang.extend(_6c4,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_6f5,_6f6,_6f7,_6f8,_6f9,dom,geom,_6fa){return _6f5("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_6fb,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_6fb){_6fb={};}this.handle=_6fb.handle?dom.byId(_6fb.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_6fb.skip;this.events=[_6f7.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _6fc=(e.which||e.button)==1;if(!_6fc){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_6f7.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_6f7.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_6f7.connect(dojo.body(),"onselectstart",_6f8.stop);this._firstX=e.clientX;this._firstY=e.clientY;_6f8.stop(e);},onFirstMove:function(e){_6f8.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_6f7.disconnect(this.events.pop());_6fa.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_6f7.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _6fd=geom.position(this.node,true);this.offsetDrag.l=_6fd.x-this.offsetDrag.l;this.offsetDrag.t=_6fd.y-this.offsetDrag.t;var _6fe={"x":_6fd.x,"y":_6fd.y};this.size={"w":_6fd.w,"h":_6fd.h};this.onDragStart(this.node,_6fe,this.size);},onMove:function(e){_6f8.stop(e);if(_6f9("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _6ff={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_6ff.x+"px";s.top=_6ff.y+"px";this.onDrag(this.node,_6ff,this.size,{"x":e.pageX,"y":e.pageY});if(_6f9("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_6f8.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_6f7.disconnect(this.events.pop());_6f7.disconnect(this.events.pop());},onDragStart:function(node,_700,size){},onDragEnd:function(node){},onDrag:function(node,_701,size,_702){},destroy:function(){_6f6.forEach(this.events,_6f7.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_703,_704,_705){var di=_703("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _706=document.createElement("div");var _707=document.createElement("div");_706.appendChild(_707);_704.add(_706,"dropIndicator");this.node=_706;},place:function(area,_708,size){if(size){this.node.style.height=size.h+"px";}try{if(_708){area.insertBefore(this.node,_708);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_705.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_709,_70a,_70b,geom){var odm=_709("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_70a.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_70c,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_70d,_70e){var _70f=_70d.length,_710=geom.position(_70e.node,true);_70e.coords={"x":_710.x,"y":_710.y};if(_70f==0){_70d.push(_70e);}else{var x=_70e.coords.x;for(var i=0;i<_70f;i++){if(x<_70d[i].coords.x){for(var j=_70f-1;j>=i;j--){_70d[j+1]=_70d[j];}_70d[i]=_70e;break;}}if(i==_70f){_70d.push(_70e);}}return _70d;},updateAreas:function(_711){var _712=_711.length;for(var i=0;i<_712;i++){this._updateArea(_711[i]);}},_updateArea:function(area){var _713=geom.position(area.node,true);area.coords.x=_713.x;area.coords.x2=_713.x+_713.w;area.coords.y=_713.y;},initItems:function(area){_70b.forEach(area.items,function(obj){var node=obj.item.node;var _714=geom.position(node,true);var y=_714.y+_714.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_715,size,_716){if(_715==-1){return;}else{if(area&&size&&size.h){var _717=size.h;if(area.margin){_717+=area.margin.t;}var _718=area.items.length;for(var i=_715;i<_718;i++){var item=area.items[i];if(_716){item.y+=_717;}else{item.y-=_717;}}}}},getDragPoint:function(_719,size,_71a){return {"x":_71a.x,"y":_71a.y};},getTargetArea:function(_71b,_71c,_71d){var _71e=0;var x=_71c.x;var y=_71c.y;var end=_71b.length;var _71f=0,_720="right",_721=false;if(_71d==-1||arguments.length<3){_721=true;}else{if(this._checkInterval(_71b,_71d,x,y)){_71e=_71d;}else{if(this._oldXPoint<x){_71f=_71d+1;}else{_71f=_71d-1;end=0;_720="left";}_721=true;}}if(_721){if(_720==="right"){for(var i=_71f;i<end;i++){if(this._checkInterval(_71b,i,x,y)){_71e=i;break;}}if(i==end){_71e=-1;}}else{for(var i=_71f;i>=end;i--){if(this._checkInterval(_71b,i,x,y)){_71e=i;break;}}if(i==end-1){_71e=-1;}}}this._oldXPoint=x;return _71e;},_checkInterval:function(_722,_723,x,y){var area=_722[_723];var node=area.node;var _724=area.coords;var _725=_724.x;var endX=_724.x2;var _726=_724.y;var endY=_726+node.offsetHeight;if(_725<=x&&x<=endX&&_726<=y&&y<=endY){return true;}return false;},getDropIndex:function(_727,_728){var _729=_727.items.length;var _72a=_727.coords;var y=_728.y;if(_729>0){for(var i=0;i<_729;i++){if(y<_727.items[i].y){return i;}else{if(i==_729-1){return -1;}}}}return -1;},destroy:function(){_70b.forEach(this._dragHandler,_70a.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_72b,lang,_72c,_72d,_72e){var as=_72b("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_72c.connect(dojo.global,"onresize",this,function(){this.getViewport();});_72e(lang.hitch(this,"init"));},init:function(){this._html=(_72d("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_72c.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"epi/shell/widget/ToolbarDropDownButton":function(){define(["dojo","dojo/dom-style","dijit/form/DropDownButton","dijit/Menu"],function(dojo,_72f,_730,Menu){return dojo.declare([_730],{constructor:function(){this.dropDown=new Menu();},buildRendering:function(){this.inherited(arguments);this._setVisibility();},addChild:function(_731,_732){if(!_731.separator){_731.set("separator","dijit.MenuSeparator");}var _733=this.dropDown.addChild(_731,_732);this._setVisibility();return _733;},getChildren:function(){return this.dropDown.getChildren();},removeChild:function(_734){var _735=this.dropDown.removeChild(_734);this._setVisibility();return _735;},_setVisibility:function(){if(this.hasChildren()){_72f.set(this.domNode,"display","");}else{_72f.set(this.domNode,"display","none");}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_736,lang,_737,_738,_739,_73a,_73b,_73c,_73d){return _736("dijit.form.DropDownButton",[_73a,_73b,_73c],{baseClass:"dijitDropDownButton",templateString:_73d,_fillContent:function(){if(this.srcNodeRef){var _73e=_737("*",this.srcNodeRef);this.inherited(arguments,[_73e[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _73f=_737("[widgetId]",this.dropDownContainer)[0];this.dropDown=_738.byNode(_73f);delete this.dropDownContainer;}if(this.dropDown){_739.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _740=this.dropDown;return (!!_740&&(!_740.href||_740.isLoaded));},loadDropDown:function(_741){var _742=this.dropDown;var _743=_742.on("load",lang.hitch(this,function(){_743.remove();_741();}));_742.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./registry","./focus","./popup","./_FocusMixin","./Viewport"],function(_744,_745,_746,dom,_747,_748,_749,_74a,has,keys,lang,on,_74b,_74c,_74d,_74e,_74f){return _744("dijit._HasDropDown",_74e,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}if(e.type!="MSPointerDown"&&e.type!="pointerdown"){e.preventDefault();}this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _750=this.dropDown,_751=false;if(e&&this._opened){var c=_749.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_751){if(_748.contains(t,"dijitPopup")){_751=true;}else{t=t.parentNode;}}if(_751){t=e.target;if(_750.onItemClick){var _752;while(t&&!(_752=_74b.byNode(t))){t=t.parentNode;}if(_752&&_752.onClick&&_752.getParent){_752.getParent().onItemClick(_752,e);}}return;}}}if(this._opened){if(_750.focus&&(_750.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){this._focusDropDownTimer=this.defer(function(){_750.focus();delete this._focusDropDownTimer;});}}else{if(this.focus){this.defer("focus");}}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_746.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _753={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_748.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_753+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _754=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_754,"keydown",lang.hitch(this,"_onKey")),on(_754,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_755=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_746.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_746.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_755.tagName||"").toLowerCase()!=="input"||(_755.type&&_755.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_746.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _756=_74c.curNode&&this.dropDown&&dom.isDescendant(_74c.curNode,this.dropDown.domNode);this.closeDropDown(_756);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_757){_757();},loadAndOpenDropDown:function(){var d=new _745(),_758=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_758);}else{_758();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _759=this.dropDown,_75a=_759.domNode,_75b=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_75a.style.width){this._explicitDDWidth=true;}if(_75a.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _75c={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_75c.width="";}if(!this._explicitDDHeight){_75c.height="";}_74a.set(_75a,_75c);var _75d=this.maxHeight;if(_75d==-1){var _75e=_74f.getEffectiveBox(this.ownerDocument),_75f=_749.position(_75b,false);_75d=Math.floor(Math.max(_75f.y,_75e.h-(_75f.y+_75f.h)));}_74d.moveOffScreen(_759);if(_759.startup&&!_759._started){_759.startup();}var mb=_749.getMarginSize(_75a);var _760=(_75d&&mb.h>_75d);_74a.set(_75a,{overflow:_760?"auto":"visible"});if(_760){mb.h=_75d;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_75b.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_75b.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_759.resize)){_759.resize(mb);}else{_749.setMarginBox(_75a,mb);}}var _761=_74d.open({parent:this,popup:_759,around:_75b,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_747.set(self._popupStateNode,"popupActive",false);_748.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_747.set(this._popupStateNode,"popupActive","true");_748.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",_759.id);if(_75a.getAttribute("role")!=="presentation"&&!_75a.getAttribute("aria-labelledby")){_75a.setAttribute("aria-labelledby",this.id);}return _761;},closeDropDown:function(_762){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this._popupStateNode.setAttribute("aria-expanded","false");if(_762){this.focus();}_74d.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_763,_764,_765,_766){return _763("dijit.CheckedMenuItem",_765,{templateString:_766,checked:false,_setCheckedAttr:function(_767){_764.toggle(this.domNode,"dijitCheckedMenuItemChecked",_767);this.domNode.setAttribute("aria-checked",_767?"true":"false");this._set("checked",_767);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_768,dom,_769,_76a,_76b,has,_76c,_76d,_76e,_76f,_770){return _768("dijit.MenuItem",[_76c,_76d,_76e,_76f],{templateString:_770,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_771){if(_771&&!("label" in this.params)){this.set("label",_771.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _772=this.id+"_text";_769.set(this.containerNode,"id",_772);if(this.accelKeyNode){_769.set(this.accelKeyNode,"id",this.id+"_accel");_772+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_772);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_773){_76a.toggle(this.domNode,"dijitMenuItemSelected",_773);},setLabel:function(_774){_76b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_774);},setDisabled:function(_775){_76b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_775);},_setDisabledAttr:function(_776){this.focusNode.setAttribute("aria-disabled",_776?"true":"false");this._set("disabled",_776);},_setAccelKeyAttr:function(_777){this.accelKeyNode.style.display=_777?"":"none";this.accelKeyNode.innerHTML=_777;_769.set(this.containerNode,"colSpan",_777?"1":"2");this._set("accelKey",_777);},_setTextDirAttr:function(_778){if(!this._created||this.textDir!=_778){this._set("textDir",_778);this.applyTextDir(this.focusNode,this.label);}}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_779,_77a,keys,_77b,_77c,_77d){return _779("dijit.form.ComboButton",_77c,{templateString:_77d,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_77b.focus(this._popupStateNode);_77a.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_77b.focus(this.titleNode);_77a.stop(evt);}},focus:function(_77e){if(!this.disabled){_77b.focus(_77e=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_77f,_780,_781){return _77f("dijit.form.RadioButton",[_780,_781],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_782,_783,_784,has,_785,_786,_787,_788,_789){if(has("dijit-legacy-requires")){_786(0,function(){var _78a=["dijit/form/RadioButton"];_782(_78a);});}return _783("dijit.form.CheckBox",[_787,_788],{templateString:_789,baseClass:"dijitCheckBox",_setValueAttr:function(_78b,_78c){if(typeof _78b=="string"){this.inherited(arguments);_78b=true;}if(this._created){this.set("checked",_78b,_78c);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting="";},_fillContent:function(){},_onFocus:function(){if(this.id){_785("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_785("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_78d,_78e,_78f,_790){return _78d("dijit.form.ToggleButton",[_78f,_790],{baseClass:"dijitToggleButton",setChecked:function(_791){_78e.deprecated("setChecked("+_791+") is deprecated. Use set('checked',"+_791+") instead.","","2.0");this.set("checked",_791);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_792,_793){return _792("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _794=this.checked;this._set("checked",!_794);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_794);return ret;},_setCheckedAttr:function(_795,_796){this._set("checked",_795);var node=this.focusNode||this.domNode;if(this._created){if(_793.get(node,"checked")!=!!_795){_793.set(node,"checked",!!_795);}}node.setAttribute(this._aria_attr,String(_795));this._handleOnChange(_795,_796);},postCreate:function(){this.inherited(arguments);var node=this.focusNode||this.domNode;if(this.checked){node.setAttribute("checked","checked");}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.checked;}},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_797,_798,_799){return _797("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_79a){this._set("readOnly",_79a);_798.set(this.focusNode,"readOnly",_79a);},_setLabelAttr:undefined,_getSubmitValue:function(_79b){return (_79b==null||_79b==="")?"on":_79b;},_setValueAttr:function(_79c){_79c=this._getSubmitValue(_79c);this._set("value",_79c);_798.set(this.focusNode,"value",_79c);},reset:function(){this.inherited(arguments);this._set("value",this._getSubmitValue(this.params.value));_798.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_799.stop(e);return false;}return this.inherited(arguments);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_79d,_79e,_79f,_7a0,lang,_7a1,_7a2){return _79e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_7a1("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_7a3){if(_7a3.name==this.name&&_7a3.form==this.focusNode.form){var _7a4=_7a2.getEnclosingWidget(_7a3);if(_7a4){ary.push(_7a4);}}}));return ary;},_setCheckedAttr:function(_7a5){this.inherited(arguments);if(!this._created){return;}if(_7a5){_79d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_7a6){if(_7a6!=this&&_7a6.checked){_7a6.set("checked",false);}}));}},_getSubmitValue:function(_7a7){return _7a7==null?"on":_7a7;},_onClick:function(e){if(this.checked||this.disabled){_7a0.stop(e);return false;}if(this.readOnly){_7a0.stop(e);_79d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_7a8){_79f.set(this.focusNode||this.domNode,"checked",_7a8.checked);}));return false;}return this.inherited(arguments);}});});},"epi/shell/widget/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/_Container","dijit/Menu","dijit/PopupMenuItem"],function(_7a9,_7aa,Menu,_7ab){return _7a9([_7ab,_7aa],{constructor:function(){this.popup=new Menu();},addChild:function(_7ac,_7ad){return this.popup.addChild(_7ac,_7ad);},getChildren:function(){return this.popup.getChildren();},removeChild:function(_7ae){return this.popup.removeChild(_7ae);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_7af,_7b0,_7b1,_7b2,_7b3){return _7af("dijit.PopupMenuItem",_7b3,{_fillContent:function(){if(this.srcNodeRef){var _7b4=_7b1("*",this.srcNodeRef);this.inherited(arguments,[_7b4[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_7b1("[widgetId]",this.dropDownContainer)[0];this.popup=_7b2.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_7b0.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_7b5){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_7b5);}delete this.popup;}this.inherited(arguments);}});});},"epi/shell/widget/ToolbarLabel":function(){define(["dojo","dojo/dom-construct","dijit/_WidgetBase"],function(dojo,_7b6,_7b7){return dojo.declare([_7b7],{baseClass:"epi-breadCrumbsCurrentItem dijitInline",label:null,buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_7b6.create("h1");}this.inherited(arguments);},_setLabelAttr:{node:"domNode",type:"innerText"}});});},"epi/UriParser":function(){define("epi/UriParser",["dojo","epi"],function(dojo,epi){return dojo.declare(null,{constructor:function(uri){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=uri.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}},getModuleArea:function(){return this.scheme.split(".")[1];},getStoreName:function(){return this.scheme.split(".")[2];},getType:function(){return this.scheme;},getId:function(){return this.path.substr(1);},toString:function(){return this.scheme+"://"+this.authority+this.path;}});});},"epi/shell/conversion/ObjectConverterRegistry":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_7b8,lang){return {_converterMappings:{},clear:function(){this._converterMappings={};},registerConverter:function(_7b9,_7ba,_7bb){var _7bc=this._converterMappings[_7b9];if(!_7bc){_7bc={};this._converterMappings[_7b9]=_7bc;}_7bc[_7ba]=_7bb;},getConverters:function(_7bd){var _7be;if(lang.isArray(_7bd)){_7be=_7b8.map(_7bd,function(name){if(name in this._converterMappings){return this._converterMappings[name];}},this);_7be=_7b8.filter(_7be,function(item){return item!==undefined;},this);return _7be;}else{if(this._converterMappings[_7bd]===undefined){return undefined;}return [this._converterMappings[_7bd]];}},getConverter:function(_7bf,_7c0){var _7c1=this.getConverters(_7bf);var _7c2;if(_7c1===undefined){return null;}_7b8.some(_7c1,function(item,i){if((item[_7c0])){_7c2=item[_7c0];return true;}});return _7c2;}};});},"epi/shell/dnd/Target":function(){define(["dojo/_base/declare","dojo/dom-class","./Source"],function(_7c3,_7c4,_7c5){return _7c3([_7c5],{constructor:function(node,_7c6){this.isSource=false;_7c4.remove(this.node,"dojoDndSource");}});});},"epi/shell/dnd/Source":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/dnd/Source","./_DndDataMixin","epi/shell/TypeDescriptorManager"],function(_7c7,_7c8,lang,_7c9,_7ca,_7cb,_7cc,_7cd){return _7c8([_7cb,_7cc],{alwaysCopy:true,createItemOnDrop:true,singular:true,generateText:false,_dummyDropItemContainer:null,readOnly:null,postscript:function(){this.inherited(arguments);if(!this.createItemOnDrop){this.parent=this._dummyDropItemContainer=_7ca.create("div");}var _7ce=this.reject;if(_7ce){var _7cf=[];for(var key in this.accept){_7cf.push(key);}this.accept={};_7cf=_7cd.removeIntersectingTypes(_7cf,this.reject);_7c7.forEach(_7cf,function(_7d0){this.accept[_7d0]=1;},this);for(var i=0;i<_7ce.length;++i){this.accept[_7ce[i]]=0;}}},destroy:function(){if(this._dummyDropItemContainer){_7ca.destroy(this._dummyDropItemContainer);this._dummyDropItemContainer=null;}this.inherited(arguments);},checkAcceptance:function(_7d1,_7d2){if(this.readOnly){return false;}var _7d3=_7c7.map(_7d2,function(node){return _7d1.getItem(node.id);});return this._checkAcceptanceForItems(_7d3,this.accept);},getOrderedItems:function(){return _7c7.map(this.getAllNodes(),function(node){return this.getItem(node.id);},this);},onDndItemRemoved:function(_7d4,_7d5,_7d6,copy,_7d7){},onDropData:function(_7d8,_7d9,_7da,copy){},onDrop:function(_7db,_7dc,copy){var _7dd=_7c7.map(_7dc,function(node){return this._getDndData(_7db.getItem(node.id),this.accept,this===_7db);},this);this.inherited(arguments,[_7db,_7dc,this.alwaysCopy||copy]);if(!this.createItemOnDrop){_7ca.empty(this._dummyDropItemContainer);}this.onDropData(_7dd,_7db,_7dc,this.alwaysCopy||copy);_7c9.publish("/epi/dnd/dropdata",_7dd,_7db,_7dc,this.alwaysCopy||copy);}});});},"epi/shell/dnd/_DndDataMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/dependency","epi/shell/conversion/ObjectConverterRegistry"],function(_7de,_7df,_7e0,_7e1){return _7df(null,{_checkAcceptanceForItems:function(_7e2,_7e3){return _7de.every(_7e2,function(item){return this._acceptsTypeWithoutConversion(item.type,_7e3)||this._converterExistsForAnyType(item.type,_7e3);},this);},_acceptsTypeWithoutConversion:function(_7e4,_7e5){var flag=false;for(var j=0;j<_7e4.length;++j){if(_7e4[j] in _7e5){flag=!!_7e5[_7e4[j]];break;}}return flag;},_converterExistsForAnyType:function(_7e6,_7e7){for(var j=0;j<_7e6.length;++j){for(var type in _7e7){if(_7e1.getConverter(_7e6[j],type)){return !!_7e7[type];}}}return false;},_getDndData:function(item,_7e8,_7e9){if(!item||!item.data){return null;}var _7ea=null;var data=item.data.dndData||item.data;var _7eb=null;if(this._acceptsTypeWithoutConversion(item.type,_7e8)){_7eb={type:item.type,data:data,options:item.options};_7ea=_7eb;}else{for(var type in _7e8){var _7ec=_7e1.getConverter(item.type,type);if(_7ec){_7eb={type:[type]};_7eb.data=_7ec.convert(item.type,type,data);_7eb.options=item.options;_7ea=_7eb;break;}}}if(!_7e9){item.data.getNormalizedData=function(){return _7eb;};}return _7ea;}});});},"epi/shell/TypeDescriptorManager":function(){define("epi/shell/TypeDescriptorManager",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/when","epi/dependency","epi/i18n!epi/shell/ui/nls/contenttypes"],function(dojo,_7ed,_7ee,lang,all,when,_7ef,_7f0){return {_uiDescriptors:{},resources:_7f0,store:null,initialize:function(){this.store=this.store||_7ef.resolve("epi.storeregistry").get("epi.shell.uidescriptor");return when(this.store.query()).then(lang.hitch(this,function(_7f1){return this.registerTypeSettings(_7f1);}));},clear:function(){this._uiDescriptors={};},registerTypeSettings:function(_7f2){var _7f3=this._uiDescriptors={},_7f4=[];function _7f5(_7f6){if(_7f6&&!(_7f6 instanceof Array)){_7f6=[_7f6];}return _7f6?_7f6.map(function(_7f7){return _7f8(_7f3[_7f7]);}):[];};function _7f8(type){var _7f9=type.descriptor,_7fa=_7f9.baseTypes||_7f9.baseTypeIdentifier;return type.ctor||all(_7f5(_7fa)).then(function(_7fb){type.ctor=_7ee(_7fb,_7f9);type.instance=new type.ctor();return type.ctor;});};_7f2.forEach(lang.hitch(this,function(_7fc){this._prepareDescriptor(_7fc);_7f3[_7fc.typeIdentifier]={instance:null,ctor:null,descriptor:_7fc};}));Object.keys(_7f3).forEach(function(key){var type=_7f3[key];_7f4.push(_7f8(type));});return all(_7f4).then(function(){return true;});},registerTypeSetting:function(name,_7fd){_7fd.typeIdentifier=name;this.registerTypeSettings([_7fd]);},getValue:function(type,_7fe){var _7ff=this._uiDescriptors[type];return _7ff?_7ff.instance[_7fe]:undefined;},getResourceValue:function(type,_800,_801){var _802=this._uiDescriptors[type];return _802?_802.instance.getResource(_800,_801):undefined;},getAndConcatenateValues:function(type,_803){var _804=[],_805=this._uiDescriptors[type];_805&&_805.instance.getRecursive(_803,_804);return _804;},getInheritanceChain:function(type){var _806=[],_807=this._uiDescriptors[type];if(!_807){return _806;}_807.instance.constructor._meta.bases.forEach(function(base){_806.push(base._meta.hidden.typeIdentifier);});return _806;},isBaseTypeIdentifier:function(_808,_809){_808=this._uiDescriptors[_808];_809=this._uiDescriptors[_809];if(!_808||!_809){return false;}return _808.instance.isInstanceOf(_809.ctor);},removeIntersectingTypes:function(_80a,_80b){var _80c=[];if(_80a){_80a.forEach(function(_80d){if(_7ed.indexOf(_80b,_80d)===-1&&_7ed.some(_80b,function(_80e){return this.isBaseTypeIdentifier(_80d,_80e);},this)===false){_80c.push(_80d);}},this);}return _80c;},getValidAcceptedTypes:function(_80f,_810,_811){var _812=_810||[];var _813=_811||[];var _814=_80f||[];if(_812.length===0&&_813.length===0){return _814;}var _815=function(_816,_817){return _7ed.some(_817,function(_818){return this.isBaseTypeIdentifier(_816,_818);},this);};var _819=_7ed.filter(_814,function(_81a){return (!(_815.call(this,_81a,_813))&&_815.call(this,_81a,_812));},this);return _819;},_prepareDescriptor:function(_81b){var _81c,_81d=_81b.languageKey;Object.keys(_81b).forEach(function(key){var prop=_81b[key];if(prop===null||prop===undefined){delete _81b[key];}});if(_81d){_81c=this.resources[_81d];}lang.mixin(_81b,{getRecursive:function(key,_81e){var _81f=_81b[key];if(_81f){if(_81f instanceof Array){_81f.forEach(function(v){_81e.push(v);});}else{_81e.push(_81f);}}this.inherited(arguments);},getResource:function(key,_820){var _821=_81b.resource,_81c;if(_821){if(!_820||(_820&&_81b.isPrimaryType)){_81c=lang.getObject(key,false,_821);if(_81c!==undefined){return _81c;}}}return this.inherited(arguments);},resource:_81c});}};});},"epi/shell/form/AutoCompleteSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/FilteringSelect"],function(_822,_823,_824){return _822([_824],{required:false,postMixInProperties:function(){var _825=new _823({target:this.storeurl});this.set("store",_825);this.inherited(arguments);},destroy:function(){this.displayMessage();this.inherited(arguments);}});});},"epi/shell/store/JsonRest":function(){define(["dojo/_base/declare","dojo/_base/json","dojo/_base/lang","dojo/io-query","dojo/store/JsonRest","dojo/store/util/QueryResults","epi/shell/XhrWrapper"],function(_826,json,lang,_827,_828,_829,_82a){return _826([_828],{xhrHandler:null,idAttribute:"id",preventCache:false,defaultRequestParams:null,constructor:function(_82b){this.defaultRequestParams=_82b&&_82b.defaultRequestParams;if(!this.xhrHandler){this.xhrHandler=new _82a({preventLocalizationHeader:_82b&&_82b.preventLocalizationHeader});}},get:function(id,_82c){var _82d=_82c||{};_82d.Accept="application/javascript, application/json";var _82e=typeof id!="undefined";var _82f={url:_82e?this.target+id:this.target,handleAs:"json",headers:_82d,preventCache:this.preventCache};return this.xhrHandler.xhrGet(this._mixinDefaultParams(_82f));},put:function(_830,_831){_831=_831||{};var _832={"Content-Type":"application/json","If-Match":_831.overwrite===true?"*":null,"If-None-Match":_831.overwrite===false?"*":null,"Accept":"application/javascript, application/json"};var id=("id" in _831)?_831.id:this.getIdentity(_830);var _833=typeof id!="undefined";if(_833&&!_831.incremental){_832["X-Http-Method-Override"]="PUT";}var _834={url:_833?this.target+id:this.target,postData:json.toJson(_830),handleAs:"json",headers:_832,xsrfProtection:true};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_834));},patch:function(_835,_836){var _837=_836||{};_837.Accept="application/javascript, application/json";_837["X-Http-Method-Override"]="PATCH";_837["Content-Type"]="application/json";var id=("id" in _836)?_836.id:this.getIdentity(_835);var _838=typeof id!="undefined";var _839={url:_838?this.target+id:this.target,postData:json.toJson(_835),handleAs:"json",headers:_837,xsrfProtection:true};return this.xhrHandler.xhr("POST",this._mixinDefaultParams(_839));},remove:function(id,_83a){var _83b={};_83b.Accept="application/javascript, application/json";_83b["Content-Type"]="application/json";_83b["X-Http-Method-Override"]="DELETE";_83a=_83a||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_83b,postData:json.toJson(_83a),handleAs:"json",xsrfProtection:true}));},query:function(_83c,_83d){var _83e={Accept:"application/javascript, application/json"};var _83f;_83d=_83d||{};if(_83d.start>=0||_83d.count>=0){_83e.Range="items="+(_83d.start||"0")+"-"+(("count" in _83d&&_83d.count!=Infinity)?(_83d.count+(_83d.start||0)-1):"");}if(lang.isObject(_83c)){_83c=lang.mixin({},_83c);if(_83c[this.idAttribute]){_83f=_83c[this.idAttribute];_83c[this.idAttribute]=null;}_83c=_827.objectToQuery(_83c);_83c=_83c?"?"+_83c:"";}if(_83d&&_83d.sort){_83c+=(_83c?"&":"?")+"sort(";for(var i=0;i<_83d.sort.length;i++){var sort=_83d.sort[i];_83c+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}_83c+=")";}var _840=this.xhrHandler.xhrGet(this._mixinDefaultParams({url:this.target+(_83f||"")+(_83c||""),handleAs:"json",headers:_83e,preventCache:this.preventCache}));_840.total=_840.then(function(){var _841=_840.ioArgs.xhr.getResponseHeader("Content-Range");return _841&&(_841=_841.match(/\/(.*)/))&&+_841[1];});return _829(_840);},move:function(id,_842,_843){return this._send("MOVE",id,_842,_843);},copy:function(id,_844,_845){return this._send("COPY",id,_844,_845);},executeMethod:function(_846,id,data,_847){var _848=_847||{};_848.Accept="application/javascript, application/json";_848["Content-Type"]="application/json";_848["X-Http-Method-Override"]=_846;data=data||{};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_848,postData:json.toJson(data),handleAs:"json",xsrfProtection:true}));},_send:function(_849,id,_84a,_84b){var _84c=_84b||{};_84c.Accept="application/javascript, application/json";_84c["X-Http-Method-Override"]=_849;var _84d=lang.isObject(_84a)?_84a:{targetId:_84a};return this.xhrHandler.xhr("POST",this._mixinDefaultParams({url:this.target+id,headers:_84c,content:_84d,handleAs:"json",xsrfProtection:true}));},_mixinDefaultParams:function(_84e){return lang.mixin({},this.defaultRequestParams,_84e);}});});},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_84f,_850){var base=null;return _84f("dojo.store.JsonRest",base,{constructor:function(_851){this.headers={};_84f.safeMixin(this,_851);},headers:{},target:"",idProperty:"id",get:function(id,_852){_852=_852||{};var _853=lang.mixin({Accept:this.accepts},this.headers,_852.headers||_852);return xhr("GET",{url:this.target+id,handleAs:"json",headers:_853});},accepts:"application/javascript, application/json",getIdentity:function(_854){return _854[this.idProperty];},put:function(_855,_856){_856=_856||{};var id=("id" in _856)?_856.id:this.getIdentity(_855);var _857=typeof id!="undefined";return xhr(_857&&!_856.incremental?"PUT":"POST",{url:_857?this.target+id:this.target,postData:JSON.stringify(_855),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_856.overwrite===true?"*":null,"If-None-Match":_856.overwrite===false?"*":null},this.headers,_856.headers)});},add:function(_858,_859){_859=_859||{};_859.overwrite=false;return this.put(_858,_859);},remove:function(id,_85a){_85a=_85a||{};return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_85a.headers)});},query:function(_85b,_85c){_85c=_85c||{};var _85d=lang.mixin({Accept:this.accepts},this.headers,_85c.headers);if(_85c.start>=0||_85c.count>=0){_85d.Range=_85d["X-Range"]="items="+(_85c.start||"0")+"-"+(("count" in _85c&&_85c.count!=Infinity)?(_85c.count+(_85c.start||0)-1):"");}var _85e=this.target.indexOf("?")>-1;if(_85b&&typeof _85b=="object"){_85b=xhr.objectToQuery(_85b);_85b=_85b?(_85e?"&":"?")+_85b:"";}if(_85c&&_85c.sort){var _85f=this.sortParam;_85b+=(_85b||_85e?"&":"?")+(_85f?_85f+"=":"sort(");for(var i=0;i<_85c.sort.length;i++){var sort=_85c.sort[i];_85b+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}if(!_85f){_85b+=")";}}var _860=xhr("GET",{url:this.target+(_85b||""),handleAs:"json",headers:_85d});_860.total=_860.then(function(){var _861=_860.ioArgs.xhr.getResponseHeader("Content-Range");return _861&&(_861=_861.match(/\/(.*)/))&&+_861[1];});return _850(_860);}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_862,lang,_863){var _864=function(_865){if(!_865){return _865;}var _866=!!_865.then;if(_866){_865=lang.delegate(_865);}function _867(_868){_865[_868]=function(){var args=arguments;var _869=_863.when(_865,function(_86a){Array.prototype.unshift.call(args,_86a);return _864(_862[_868].apply(_862,args));});if(_868!=="forEach"||_866){return _869;}};};_867("forEach");_867("filter");_867("map");if(_865.total==null){_865.total=_863.when(_865,function(_86b){return _86b.length;});}return _865;};lang.setObject("dojo.store.util.QueryResults",_864);return _864;});},"epi/shell/XhrWrapper":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/when","epi","epi/shell/request/xhr","epi/shell/widget/dialog/Dialog","epi/shell/widget/LoginForm"],function(_86c,_86d,_86e,lang,_86f,when,epi,xhr,_870,_871){var _872;var cls=_86e(null,{xhrHandler:null,_headerKeys:{validation:"X-EpiRestAntiForgeryToken",loginScreen:"X-EPiLogOnScreen",postUrl:"X-EPiLogOnScreen-PostUrl"},constructor:function(_873){_86e.safeMixin(this,_873);if(!this.xhrHandler){this.xhrHandler=xhr;}},xhr:function(_874,args,_875){var _876=arguments;args.headers=args.headers||{};if(args.xsrfProtection){var _877=new _86f();when(this._getXsrfHeader(args.url),lang.hitch(this,function(_878){args.headers=lang.mixin({},args.headers,_878);when(this._xhr.apply(this,_876),_877.resolve,_877.reject);}),_877.reject);return _877;}else{return this._xhr.apply(this,_876);}},xhrDelete:function(args){return this.xhr("DELETE",args);},xhrGet:function(args){return this.xhr("GET",args);},xhrPost:function(args){return this.xhr("POST",args,true);},xhrPut:function(args){return this.xhr("PUT",args,true);},_getXsrfHeader:function(_879){if(cls.sharedXsrfHeader){return cls.sharedXsrfHeader;}var _87a={url:_879,handleAs:"json",headers:{}};_87a.headers[this._headerKeys.validation]="_CreateToken_";var _87b=new _86f();this.xhrGet(_87a).then(lang.hitch(this,function(){_87b.resolve(cls.sharedXsrfHeader);}),_87b.reject);return _87b;},_xhr:function(_87c,args,_87d){var _87e=arguments;var _87f=lang.delegate({method:_87c,data:args.content||args.postData},args);var _880=this.xhrHandler(_87f.url,_87f,true);var _881=new _86f();_881.ioArgs=_880.ioArgs;when(_880,lang.hitch(this,function(data){var _882=_880.ioArgs.xhr.getResponseHeader(this._headerKeys.validation);if(_882){if(!cls.sharedXsrfHeader){cls.sharedXsrfHeader={};}cls.sharedXsrfHeader[this._headerKeys.validation]=_882;}_881.ioArgs=_880.ioArgs;_881.resolve(data);}),lang.hitch(this,function(err){var _883=_880.ioArgs.xhr.getResponseHeader(this._headerKeys.loginScreen);if(_883==="true"||_880.ioArgs.xhr.status=="401"){var _884={postUrl:_880.ioArgs.xhr.getResponseHeader(this._headerKeys.postUrl)};cls.sharedXsrfHeader=undefined;var _885=this._showLogin(_884);when(_885,lang.hitch(this,function(){when(this.xhr.apply(this,_87e),_881.resolve,_881.reject);}),function(){_881.reject(err);});}else{_881.reject(err);}}));return _881;},_showLogin:function(_886){if(!_872){_872=new _86f();var form=new _871();var _887=new _870({title:epi.resources.action.login,confirmActionText:epi.resources.action.login,content:form,dialogClass:"",destroyOnHide:true,_onAfterShow:function(){}});var _888=[];var _889=function(_88a){_86c.forEach(_888,_86d.disconnect);form.destroyRecursive();_887.hide();if(_88a){_872.resolve();}else{_872.reject();}_872=null;};_887.addValidator(lang.hitch(this,function(){var _88b=new _86f();var _88c=form.serializeForm();var _88d=this.xhr("POST",{url:_886.postUrl,content:_88c,xsrfProtection:false,handleAs:"json"},true);when(_88d,function(data){if(data.authenticationSuccessful){_889(true);_88b.resolve();}else{form.authenticationFailed();_88b.reject();}},function(){_889(false);_88b.reject();});return _88b;}));_887.show();_888.push(_86d.connect(_887,"onCancel",function(){_889(false);}));}return _872;}});cls.sharedXsrfHeader=undefined;return cls;});},"epi/shell/request/xhr":function(){define(["dojo/_base/xhr","dojo/request/util","./Extender","./mutators"],function(_88e,util,_88f,_890){var _891=new _88f(_88e,_890);var xhr=function(url,_892){return _891.xhr.apply(_891,arguments);};util.addCommonMethods(xhr);return xhr;});},"epi/shell/request/Extender":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred"],function(_893,lang,_894){return _893([],{_mutators:null,_request:null,constructor:function(_895,_896){this._request=_895;this._mutators=_896;},xhr:function(url,_897,_898){var _899=new _894(),_89a=this._mutators;_897=_897||{};_897.headers=_897.headers||{};_89a.execute("beforeSend",{url:url,options:_897}).then(lang.hitch(this,function(_89b){var _89c=this._sendRequest(_89b);_899.response=_89c.response||this._response(_89c.ioArgs);_899.ioArgs=_89c.ioArgs;return _89c.promise;})).then(function(data){return _89a.execute("afterReceive",{response:_899.response,data:data});}).then(function(_89d){_899.resolve(_89d.data);}).otherwise(_899.reject);return _898?_899:_899.promise;},_sendRequest:function(_89e){var _89f=_89e.options;_89f.url=_89e.url;return this._request(_89f.method,_89f);},_response:function(_8a0){return {getHeader:function getHeader(name){return this.xhr.getResponseHeader(name);},options:_8a0.args,url:_8a0.url,xhr:_8a0.xhr};}});});},"epi/shell/request/mutators":function(){define(["dojo/when"],function(when){var _8a1=[];var _8a2=function(){return _8a1.concat();};_8a2.add=function(_8a3){_8a1.push(_8a3);};_8a2.remove=function(_8a4){var _8a5=_8a1.indexOf(_8a4);if(_8a5!==-1){return _8a1.splice(_8a5,1)[0];}return null;};_8a2.execute=function(_8a6,data){var _8a7=when(data);_8a1.forEach(function(_8a8){var _8a9=_8a8[_8a6];_8a7=_8a9?_8a7.then(_8a9.bind(_8a8)):_8a7;});return _8a7;};return _8a2;});},"epi/shell/widget/LoginForm":function(){define(["epi","dojo","dojo/keys","dojo/text!./templates/LoginForm.htm","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ValidationTextBox","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.LoginForm"],function(epi,dojo,keys,_8aa,_8ab,_8ac,_8ad,_8ae,_8af){return dojo.declare([_8ab,_8ac,_8ad],{templateString:_8aa,postMixInProperties:function(){this.inherited(arguments);this.resources=dojo.mixin(epi.resources.action,_8af);this.connect(this.passwordNode,"onkeydown",this._onKeyDown);},serializeForm:function(){return {username:this.usernameNode.get("value"),password:this.passwordNode.get("value")};},authenticationFailed:function(){this.passwordNode.set("value","");this.passwordNode.focus();this.passwordNode.displayMessage(this.resources.loginfailed);},_onKeyDown:function(e){if(e.keyCode==keys.ENTER&&!(e.ctrlKey||e.altKey||e.metaKey)){this.onSubmit(e);}},onSubmit:function(){}});});},"url:epi/shell/widget/templates/LoginForm.htm":"<div class=\"epi-form\">\r\n    <ul class=\"dijitReset\" data-dojo-attach-point=\"containerNode\">\r\n        <li>${resources.loggedout}</li>\r\n        <li>\r\n            <label>${resources.username}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"usernameNode\" name=\"username\" />\r\n        </li>\r\n        <li>\r\n            <label>${resources.password}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"passwordNode\" name=\"password\" type=\"password\" />\r\n        </li>\r\n    </ul>\r\n</div>\r\n","dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_8b0,_8b1,i18n,_8b2,_8b3,_8b4){var _8b5;return _8b5=_8b0("dijit.form.ValidationTextBox",_8b2,{templateString:_8b4,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_8b6){if(_8b6!=_8b5.prototype[attr]){_8b1.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_8b6);}},_setRegExpGenAttr:function(_8b7){this._deprecateRegExp("regExpGen",_8b7);this.regExpGen=this._getPatternAttr;},_setRegExpAttr:function(_8b8){this._deprecateRegExp("regExp",_8b8);},_setValueAttr:function(){this.inherited(arguments);this._refreshState();},validator:function(_8b9,_8ba){return (new RegExp("^(?:"+this._getPatternAttr(_8ba)+")"+(this.required?"":"?")+"$")).test(_8b9)&&(!this.required||!this._isEmpty(_8b9))&&(this._isEmpty(_8b9)||this.parse(_8b9,_8ba)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_8bb){return (this.trim?/^\s*$/:/^$/).test(_8bb);},getErrorMessage:function(){var _8bc=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _8bd=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_8bc:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_8bd:_8bc;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_8be){var _8bf="";var _8c0=this.disabled||this.isValid(_8be);if(_8c0){this._maskValidSubsetError=true;}var _8c1=this._isEmpty(this.textbox.value);var _8c2=!_8c0&&_8be&&this._isValidSubset();this._set("state",_8c0?"":(((((!this._hasBeenBlurred||_8be)&&_8c1)||_8c2)&&(this._maskValidSubsetError||(_8c2&&!this._hasBeenBlurred&&_8be)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_8c0?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_8be&&_8c2;_8bf=this.getErrorMessage(_8be);}else{if(this.state=="Incomplete"){_8bf=this.getPromptMessage(_8be);this._maskValidSubsetError=!this._hasBeenBlurred||_8be;}else{if(_8c1){_8bf=this.getPromptMessage(_8be);}}}this.set("message",_8bf);return _8c0;},displayMessage:function(_8c3){if(_8c3&&this.focused){_8b3.show(_8c3,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_8b3.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_8c4){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_8c5){if(!_8c5.locale&&this.lang){_8c5.locale=this.lang;}this._set("constraints",_8c5);this._refreshState();},_setPatternAttr:function(_8c6){this._set("pattern",_8c6);this._refreshState();},_getPatternAttr:function(_8c7){var p=this.pattern;var type=(typeof p).toLowerCase();if(type=="function"){p=this.pattern(_8c7||this.constraints);}if(p!=this._lastRegExp){var _8c8="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_8c8+=re;break;case ")":_8c8+="|$)";break;default:_8c8+="(?:"+re+"|$)";break;}});}try{"".search(_8c8);}catch(e){_8c8=this.pattern;console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);}this._partialre="^(?:"+_8c8+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_8c9){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_8ca){this._set("required",_8ca);this.focusNode.setAttribute("aria-required",_8ca);this._refreshState();},_setMessageAttr:function(_8cb){this._set("message",_8cb);this.displayMessage(_8cb);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_8cc,_8cd,fx,dom,_8ce,_8cf,_8d0,lang,_8d1,on,has,_8d2,_8d3,_8d4,_8d5,_8d6,_8d7,_8d8){var _8d9=_8cd("dijit._MasterTooltip",[_8d4,_8d5],{duration:_8d2.defaultDuration,templateString:_8d7,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _8d6(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_8da,_8db,_8dc,rtl,_8dd){if(this.aroundNode&&this.aroundNode===_8db&&this.containerNode.innerHTML==_8da){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_8da;if(_8dd){this.set("textDir",_8dd);}this.containerNode.align=rtl?"right":"left";var pos=_8d3.around(this.domNode,_8db,_8dc&&_8dc.length?_8dc:_8de.defaultPosition,!rtl,lang.hitch(this,"orient"));var _8df=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_8df.y+((_8df.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_8df.x+((_8df.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_8d0.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_8db;},orient:function(node,_8e0,_8e1,_8e2,_8e3){this.connectorNode.style.top="";var _8e4=_8e2.h,_8e5=_8e2.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_8e0+"-"+_8e1];this.domNode.style.width="auto";var size=_8cf.position(this.domNode);if(has("ie")||has("trident")){size.w+=2;}var _8e6=Math.min((Math.max(_8e5,1)),size.w);_8cf.setMarginBox(this.domNode,{w:_8e6});if(_8e1.charAt(0)=="B"&&_8e0.charAt(0)=="B"){var bb=_8cf.position(node);var _8e7=this.connectorNode.offsetHeight;if(bb.h>_8e4){var _8e8=_8e4-((_8e3.h+_8e7)>>1);this.connectorNode.style.top=_8e8+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_8e3.h/2-_8e7/2,0),bb.h-_8e7)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_8e5);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_8e9){if(this._onDeck&&this._onDeck[1]==_8e9){this._onDeck=null;}else{if(this.aroundNode===_8e9){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_8cc.forEach(node.children,function(_8ea){this._setAutoTextDir(_8ea);},this);},_setTextDirAttr:function(_8eb){this._set("textDir",_8eb);if(_8eb=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_8d8.showTooltip=function(_8ec,_8ed,_8ee,rtl,_8ef){if(_8ee){_8ee=_8cc.map(_8ee,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_8de._masterTT){_8d8._masterTT=_8de._masterTT=new _8d9();}return _8de._masterTT.show(_8ec,_8ed,_8ee,rtl,_8ef);};_8d8.hideTooltip=function(_8f0){return _8de._masterTT&&_8de._masterTT.hide(_8f0);};var _8de=_8cd("dijit.Tooltip",_8d4,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_8f1){_8cc.forEach(this._connections||[],function(_8f2){_8cc.forEach(_8f2,function(_8f3){_8f3.remove();});},this);this._connectIds=_8cc.filter(lang.isArrayLike(_8f1)?_8f1:(_8f1?[_8f1]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_8cc.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_8f4=this.selector,_8f5=_8f4?function(_8f6){return on.selector(_8f4,_8f6);}:function(_8f7){return _8f7;},self=this;return [on(node,_8f5(_8d1.enter),function(){self._onHover(this);}),on(node,_8f5("focusin"),function(){self._onHover(this);}),on(node,_8f5(_8d1.leave),lang.hitch(self,"_onUnHover")),on(node,_8f5("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_8f1);},addTarget:function(node){var id=node.id||node;if(_8cc.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_8cc.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_8ce.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_8cc.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_8f8){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_8f8);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_8f9){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _8fa=this.getContent(_8f9);if(!_8fa){return;}_8de.show(_8fa,_8f9,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_8f9;this.onShow(_8f9,this.position);},close:function(){if(this._connectNode){_8de.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_8cc.forEach(this._connections||[],function(_8fb){_8cc.forEach(_8fb,function(_8fc){_8fc.remove();});},this);this.inherited(arguments);}});_8de._MasterTooltip=_8d9;_8de.show=_8d8.showTooltip;_8de.hide=_8d8.hideTooltip;_8de.defaultPosition=["after-centered","before-centered"];return _8de;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dijit/form/FilteringSelect":function(){define("dijit/form/FilteringSelect",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_8fd,_8fe,lang,when,_8ff,_900){return _8fe("dijit.form.FilteringSelect",[_8ff,_900],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened;},isValid:function(){return !!this.item||(!this.required&&this.get("displayedValue")=="");},_refreshState:function(){if(!this.searchTimer){this.inherited(arguments);}},_callbackSetLabel:function(_901,_902,_903,_904){if((_902&&_902[this.searchAttr]!==this._lastQuery)||(!_902&&_901.length&&this.store.getIdentity(_901[0])!=this._lastQuery)){return;}if(!_901.length){this.set("value","",_904||(_904===undefined&&!this.focused),this.textbox.value,null);}else{this.set("item",_901[0],_904);}},_openResultList:function(_905,_906,_907){if(_906[this.searchAttr]!==this._lastQuery){return;}this.inherited(arguments);if(this.item===undefined){this.validate(true);}},_getValueAttr:function(){return this.valueNode.value;},_getValueField:function(){return "value";},_setValueAttr:function(_908,_909,_90a,item){if(!this._onChangeActive){_909=null;}if(item===undefined){if(_908===null||_908===""){_908="";if(!lang.isString(_90a)){this._setDisplayedValueAttr(_90a||"",_909);return;}}var self=this;this._lastQuery=_908;when(this.store.get(_908),function(item){self._callbackSetLabel(item?[item]:[],undefined,undefined,_909);});}else{this.valueNode.value=_908;this.inherited(arguments);}},_setItemAttr:function(item,_90b,_90c){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value;},_getDisplayQueryString:function(text){return text.replace(/([\\\*\?])/g,"\\$1");},_setDisplayedValueAttr:function(_90d,_90e){if(_90d==null){_90d="";}if(!this._created){if(!("displayedValue" in this.params)){return;}_90e=false;}if(this.store){this.closeDropDown();var _90f=lang.clone(this.query);var qs=this._getDisplayQueryString(_90d),q;if(this.store._oldAPI){q=qs;}else{q=_8fd.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_90f[this.searchAttr]=q;this.textbox.value=_90d;this._lastDisplayedValue=_90d;this._set("displayedValue",_90d);var _910=this;var _911={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};lang.mixin(_911,this.fetchProperties);this._fetchHandle=this.store.query(_90f,_911);when(this._fetchHandle,function(_912){_910._fetchHandle=null;_910._callbackSetLabel(_912||[],_90f,_911,_90e);},function(err){_910._fetchHandle=null;if(!_910._cancelingQuery){console.error("dijit.form.FilteringSelect: "+err.toString());}});}},undo:function(){this.set("displayedValue",this._lastDisplayedValue);}});});},"dojo/data/util/filter":function(){define("dojo/data/util/filter",["../../_base/lang"],function(lang){var _913={};lang.setObject("dojo.data.util.filter",_913);_913.patternToRegExp=function(_914,_915){var rxp="^";var c=null;for(var i=0;i<_914.length;i++){c=_914.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_914.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_915){return new RegExp(rxp,"mi");}else{return new RegExp(rxp,"m");}};return _913;});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_916,_917,_918){return _916("dijit.form.MappedTextBox",_918,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_917.place("<input type='hidden'"+(this.name?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"dijit/form/ComboBoxMixin":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/ComboBoxMixin",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_919,_91a,_91b,lang,_91c,_91d,_91e,_91f,_920){return _919("dijit.form.ComboBoxMixin",[_91f,_91d],{dropDownClass:_91e,hasDownArrow:true,templateString:_920,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){this._set("hasDownArrow",val);this._buttonNode.style.display=val?"":"none";},_showResultList:function(){this.displayMessage("");this.inherited(arguments);},_setStoreAttr:function(_921){if(!_921.get){lang.mixin(_921,{_oldAPI:true,get:function(id){var _922=new _91a();this.fetchItemByIdentity({identity:id,onItem:function(_923){_922.resolve(_923);},onError:function(_924){_922.reject(_924);}});return _922.promise;},query:function(_925,_926){var _927=new _91a(function(){_928.abort&&_928.abort();});_927.total=new _91a();var _928=this.fetch(lang.mixin({query:_925,onBegin:function(_929){_927.total.resolve(_929);},onComplete:function(_92a){_927.resolve(_92a);},onError:function(_92b){_927.reject(_92b);}},_926));return _91c(_927);}});}this._set("store",_921);},postMixInProperties:function(){var _92c=this.params.store||this.store;if(_92c){this._setStoreAttr(_92c);}this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var _92d=this.declaredClass;lang.mixin(this.store,{getValue:function(item,attr){_91b.deprecated(_92d+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return item[attr];},getLabel:function(item){_91b.deprecated(_92d+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return item.name;},fetch:function(args){_91b.deprecated(_92d+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");var shim=["dojo/data/ObjectStore"];require(shim,lang.hitch(this,function(_92e){new _92e({objectStore:this}).fetch(args);}));}});}}});});},"dijit/form/_AutoCompleterMixin":function(){define("dijit/form/_AutoCompleterMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","dojo/string","./DataList","../registry","./_TextBoxMixin","./_SearchMixin"],function(_92f,_930,_931,_932,keys,lang,_933,_934,has,_935,_936,_937,_938,_939){return _930("dijit.form._AutoCompleterMixin",_939,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_93a){var pos=0;if(typeof (_93a.selectionStart)=="number"){pos=_93a.selectionStart;}else{if(has("ie")){var tr=_93a.ownerDocument.selection.createRange().duplicate();var ntr=_93a.createTextRange();tr.move("character",0);ntr.move("character",0);try{ntr.setEndPoint("EndToEnd",tr);pos=String(ntr.text).replace(/\r/g,"").length;}catch(e){}}}return pos;},_setCaretPos:function(_93b,_93c){_93c=parseInt(_93c);_938.selectInputText(_93b,_93c,_93c);},_setDisabledAttr:function(_93d){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",_93d?"true":"false");},_onKey:function(evt){if(evt.charCode>=32){return;}var key=evt.charCode||evt.keyCode;if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){return;}var pw=this.dropDown;var _93e=null;this._abortQuery();this.inherited(arguments);if(evt.altKey||evt.ctrlKey||evt.metaKey){return;}if(this._opened){_93e=pw.getHighlightedOption();}switch(key){case keys.PAGE_DOWN:case keys.DOWN_ARROW:case keys.PAGE_UP:case keys.UP_ARROW:if(this._opened){this._announceOption(_93e);}_932.stop(evt);break;case keys.ENTER:if(_93e){if(_93e==pw.nextButton){this._nextSearch(1);_932.stop(evt);break;}else{if(_93e==pw.previousButton){this._nextSearch(-1);_932.stop(evt);break;}}_932.stop(evt);}else{this._setBlurValue();this._setCaretPos(this.focusNode,this.focusNode.value.length);}case keys.TAB:var _93f=this.get("displayedValue");if(pw&&(_93f==pw._messages["previousMessage"]||_93f==pw._messages["nextMessage"])){break;}if(_93e){this._selectOption(_93e);}case keys.ESCAPE:if(this._opened){this._lastQuery=null;this.closeDropDown();}break;}},_autoCompleteText:function(text){var fn=this.focusNode;_938.selectInputText(fn,fn.value.length);var _940=this.ignoreCase?"toLowerCase":"substr";if(text[_940](0).indexOf(this.focusNode.value[_940](0))==0){var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;if((cpos+1)>fn.value.length){fn.value=text;_938.selectInputText(fn,cpos);}}else{fn.value=text;_938.selectInputText(fn);}},_openResultList:function(_941,_942,_943){var _944=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();if(!_941.length&&_943.start==0){this.closeDropDown();return;}this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_945){_941.nextPage(_945!==-1);this.focus();});this.dropDown.createOptions(_941,_943,lang.hitch(this,"_getMenuLabelFromItem"));this._showResultList();if("direction" in _943){if(_943.direction){this.dropDown.highlightFirstOption();}else{if(!_943.direction){this.dropDown.highlightLastOption();}}if(_944){this._announceOption(this.dropDown.getHighlightedOption());}}else{if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_942[this.searchAttr].toString())){this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);}}},_showResultList:function(){this.closeDropDown(true);this.openDropDown();this.domNode.setAttribute("aria-expanded","true");},loadDropDown:function(){this._startSearchAll();},isLoaded:function(){return false;},closeDropDown:function(){this._abortQuery();if(this._opened){this.inherited(arguments);this.domNode.setAttribute("aria-expanded","false");}},_setBlurValue:function(){var _946=this.get("displayedValue");var pw=this.dropDown;if(pw&&(_946==pw._messages["previousMessage"]||_946==pw._messages["nextMessage"])){this._setValueAttr(this._lastValueReported,true);}else{if(typeof this.item=="undefined"){this.item=null;this.set("displayedValue",_946);}else{if(this.value!=this._lastValueReported){this._handleOnChange(this.value,true);}this._refreshState();}}this.focusNode.removeAttribute("aria-activedescendant");},_setItemAttr:function(item,_947,_948){var _949="";if(item){if(!_948){_948=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];}_949=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_948;}this.set("value",_949,_947,_948,item);},_announceOption:function(node){if(!node){return;}var _94a;if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){_94a=node.innerHTML;this.item=undefined;this.value="";}else{var item=this.dropDown.items[node.getAttribute("item")];_94a=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();this.set("item",item,false,_94a);}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",_931.get(node,"id"));this._autoCompleteText(_94a);},_selectOption:function(_94b){this.closeDropDown();if(_94b){this._announceOption(_94b);}this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,true);this.focusNode.removeAttribute("aria-activedescendant");},_startSearchAll:function(){this._startSearch("");},_startSearchFromInput:function(){this.item=undefined;this.inherited(arguments);},_startSearch:function(key){if(!this.dropDown){var _94c=this.id+"_popup",_94d=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;this.dropDown=new _94d({onChange:lang.hitch(this,this._selectOption),id:_94c,dir:this.dir,textDir:this.textDir});}this._lastInput=key;this.inherited(arguments);},_getValueField:function(){return this.searchAttr;},postMixInProperties:function(){this.inherited(arguments);if(!this.store){var _94e=this.srcNodeRef;this.store=new _936({},_94e);if(!("value" in this.params)){var item=(this.item=this.store.fetchSelectedItem());if(item){var _94f=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(item,_94f):item[_94f];}}}},postCreate:function(){var _950=_933("label[for=\""+this.id+"\"]");if(_950.length){if(!_950[0].id){_950[0].id=this.id+"_label";}this.domNode.setAttribute("aria-labelledby",_950[0].id);}this.inherited(arguments);this.connect(this,"onSearch","_openResultList");},_getMenuLabelFromItem:function(item){var _951=this.labelFunc(item,this.store),_952=this.labelType;if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){_951=this.doHighlight(_951,this._lastInput);_952="html";}return {html:_952=="html",label:_951};},doHighlight:function(_953,find){var _954=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");find=_934.escapeString(find);return this._escapeHtml(_953.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_954),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");},_escapeHtml:function(str){str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");return str;},reset:function(){this.item=null;this.inherited(arguments);},labelFunc:function(item,_955){return (_955._oldAPI?_955.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();},_setValueAttr:function(_956,_957,_958,item){this._set("item",item||null);if(_956==null){_956="";}this.inherited(arguments);},_setTextDirAttr:function(_959){this.inherited(arguments);if(this.dropDown){this.dropDown._set("textDir",_959);}}});});},"dijit/form/DataList":function(){define("dijit/form/DataList",["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_95a,dom,lang,_95b,_95c,_95d){function _95e(_95f){return {id:_95f.value,value:_95f.value,name:lang.trim(_95f.innerText||_95f.textContent||"")};};return _95a("dijit.form.DataList",_95c,{constructor:function(_960,_961){this.domNode=dom.byId(_961);lang.mixin(this,_960);if(this.id){_95d.add(this);}this.domNode.style.display="none";this.inherited(arguments,[{data:_95b("option",this.domNode).map(_95e)}]);},destroy:function(){_95d.remove(this.id);},fetchSelectedItem:function(){var _962=_95b("> option[selected]",this.domNode)[0]||_95b("> option",this.domNode)[0];return _962&&_95e(_962);}});});},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_963,_964,_965){var base=null;return _963("dojo.store.Memory",base,{constructor:function(_966){for(var i in _966){this[i]=_966[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_965,get:function(id){return this.data[this.index[id]];},getIdentity:function(_967){return _967[this.idProperty];},put:function(_968,_969){var data=this.data,_96a=this.index,_96b=this.idProperty;var id=_968[_96b]=(_969&&"id" in _969)?_969.id:_96b in _968?_968[_96b]:Math.random();if(id in _96a){if(_969&&_969.overwrite===false){throw new Error("Object already exists");}data[_96a[id]]=_968;}else{_96a[id]=data.push(_968)-1;}return id;},add:function(_96c,_96d){(_96d=_96d||{}).overwrite=false;return this.put(_96c,_96d);},remove:function(id){var _96e=this.index;var data=this.data;if(id in _96e){data.splice(_96e[id],1);this.setData(data);return true;}},query:function(_96f,_970){return _964(this.queryEngine(_96f,_970)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier||this.idProperty;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_971){return function(_972,_973){switch(typeof _972){default:throw new Error("Can not query with a "+typeof _972);case "object":case "undefined":var _974=_972;_972=function(_975){for(var key in _974){var _976=_974[key];if(_976&&_976.test){if(!_976.test(_975[key],_975)){return false;}}else{if(_976!=_975[key]){return false;}}}return true;};break;case "string":if(!this[_972]){throw new Error("No filter function "+_972+" was found in store");}_972=this[_972];case "function":}function _977(_978){var _979=_971.filter(_978,_972);var _97a=_973&&_973.sort;if(_97a){_979.sort(typeof _97a=="function"?_97a:function(a,b){for(var sort,i=0;sort=_97a[i];i++){var _97b=a[sort.attribute];var _97c=b[sort.attribute];_97b=_97b!=null?_97b.valueOf():_97b;_97c=_97c!=null?_97c.valueOf():_97c;if(_97b!=_97c){return !!sort.descending==(_97b==null||_97b>_97c)?-1:1;}}return 0;});}if(_973&&(_973.start||_973.count)){var _97d=_979.length;_979=_979.slice(_973.start||0,(_973.start||0)+(_973.count||Infinity));_979.total=_97d;}return _979;};_977.matches=_972;return _977;};});},"dijit/form/_SearchMixin":function(){define("dijit/form/_SearchMixin",["dojo/data/util/filter","dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/query","dojo/sniff","dojo/string","dojo/when","../registry"],function(_97e,_97f,_980,keys,lang,_981,has,_982,when,_983){return _97f("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},list:"",_setListAttr:function(list){this._set("list",list);},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_abortQuery:function(){if(this.searchTimer){this.searchTimer=this.searchTimer.remove();}if(this._queryDeferHandle){this._queryDeferHandle=this._queryDeferHandle.remove();}if(this._fetchHandle){if(this._fetchHandle.abort){this._cancelingQuery=true;this._fetchHandle.abort();this._cancelingQuery=false;}if(this._fetchHandle.cancel){this._cancelingQuery=true;this._fetchHandle.cancel();this._cancelingQuery=false;}this._fetchHandle=null;}},_processInput:function(evt){if(this.disabled||this.readOnly){return;}var key=evt.charOrCode;if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){return;}var _984=false;this._prev_key_backspace=false;switch(key){case keys.DELETE:case keys.BACKSPACE:this._prev_key_backspace=true;this._maskValidSubsetError=true;_984=true;break;default:_984=typeof key=="string"||key==229;}if(_984){if(!this.store){this.onSearch();}else{this.searchTimer=this.defer("_startSearchFromInput",1);}}},onSearch:function(){},_startSearchFromInput:function(){this._startSearch(this.focusNode.value);},_startSearch:function(text){this._abortQuery();var _985=this,_981=lang.clone(this.query),_986={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_982.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_987=function(){var _988=_985._fetchHandle=_985.store.query(_981,_986);if(_985.disabled||_985.readOnly||(q!==_985._lastQuery)){return;}when(_988,function(res){_985._fetchHandle=null;if(!_985.disabled&&!_985.readOnly&&(q===_985._lastQuery)){when(_988.total,function(_989){res.total=_989;var _98a=_985.pageSize;if(isNaN(_98a)||_98a>res.total){_98a=res.total;}res.nextPage=function(_98b){_986.direction=_98b=_98b!==false;_986.count=_98a;if(_98b){_986.start+=res.length;if(_986.start>=res.total){_986.count=0;}}else{_986.start-=_98a;if(_986.start<0){_986.count=Math.max(_98a+_986.start,0);_986.start=0;}}if(_986.count<=0){res.length=0;_985.onSearch(res,_981,_986);}else{_987();}};_985.onSearch(res,_981,_986);});}},function(err){_985._fetchHandle=null;if(!_985._cancelingQuery){console.error(_985.declaredClass+" "+err.toString());}});};lang.mixin(_986,this.fetchProperties);if(this.store._oldAPI){q=qs;}else{q=_97e.patternToRegExp(qs,this.ignoreCase);q.toString=function(){return qs;};}this._lastQuery=_981[this.searchAttr]=q;this._queryDeferHandle=this.defer(_987,this.searchDelay);},constructor:function(){this.query={};this.fetchProperties={};},postMixInProperties:function(){if(!this.store){var list=this.list;if(list){this.store=_983.byId(list);}}this.inherited(arguments);}});});},"dijit/form/_ComboBoxMenu":function(){define("dijit/form/_ComboBoxMenu",["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_98c,_98d,_98e,keys,_98f,_990,_991,_992){return _98c("dijit.form._ComboBoxMenu",[_98f,_990,_992,_991],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);if(!this.isLeftToRight()){_98d.add(this.previousButton,"dijitMenuItemRtl");_98d.add(this.nextButton,"dijitMenuItemRtl");}this.containerNode.setAttribute("role","listbox");},_createMenuItem:function(){var item=this.ownerDocument.createElement("div");item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");item.setAttribute("role","option");return item;},onHover:function(node){_98d.add(node,"dijitMenuItemHover");},onUnhover:function(node){_98d.remove(node,"dijitMenuItemHover");},onSelect:function(node){_98d.add(node,"dijitMenuItemSelected");},onDeselect:function(node){_98d.remove(node,"dijitMenuItemSelected");},_page:function(up){var _993=0;var _994=this.domNode.scrollTop;var _995=_98e.get(this.domNode,"height");if(!this.getHighlightedOption()){this.selectNextNode();}while(_993<_995){var _996=this.getHighlightedOption();if(up){if(!_996.previousSibling||_996.previousSibling.style.display=="none"){break;}this.selectPreviousNode();}else{if(!_996.nextSibling||_996.nextSibling.style.display=="none"){break;}this.selectNextNode();}var _997=this.domNode.scrollTop;_993+=(_997-_994)*(up?-1:1);_994=_997;}},handleKey:function(evt){switch(evt.keyCode){case keys.DOWN_ARROW:this.selectNextNode();return false;case keys.PAGE_DOWN:this._page(false);return false;case keys.UP_ARROW:this.selectPreviousNode();return false;case keys.PAGE_UP:this._page(true);return false;default:return true;}}});});},"dijit/form/_ComboBoxMenuMixin":function(){define("dijit/form/_ComboBoxMenuMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(_998,_999,_99a,i18n){return _999("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages["previousMessage"];this.nextButton.innerHTML=this._messages["nextMessage"];},_setValueAttr:function(_99b){this.value=_99b;this.onChange(_99b);},onClick:function(node){if(node==this.previousButton){this._setSelectedAttr(null);this.onPage(-1);}else{if(node==this.nextButton){this._setSelectedAttr(null);this.onPage(1);}else{this.onChange(node);}}},onChange:function(){},onPage:function(){},onClose:function(){this._setSelectedAttr(null);},_createOption:function(item,_99c){var _99d=this._createMenuItem();var _99e=_99c(item);if(_99e.html){_99d.innerHTML=_99e.label;}else{_99d.appendChild(_99d.ownerDocument.createTextNode(_99e.label));}if(_99d.innerHTML==""){_99d.innerHTML="&#160;";}this.applyTextDir(_99d,(_99d.innerText||_99d.textContent||""));return _99d;},createOptions:function(_99f,_9a0,_9a1){this.items=_99f;this.previousButton.style.display=(_9a0.start==0)?"none":"";_99a.set(this.previousButton,"id",this.id+"_prev");_998.forEach(_99f,function(item,i){var _9a2=this._createOption(item,_9a1);_9a2.setAttribute("item",i);_99a.set(_9a2,"id",this.id+i);this.nextButton.parentNode.insertBefore(_9a2,this.nextButton);},this);var _9a3=false;if(_99f.total&&!_99f.total.then&&_99f.total!=-1){if((_9a0.start+_9a0.count)<_99f.total){_9a3=true;}else{if((_9a0.start+_9a0.count)>_99f.total&&_9a0.count==_99f.length){_9a3=true;}}}else{if(_9a0.count==_99f.length){_9a3=true;}}this.nextButton.style.display=_9a3?"":"none";_99a.set(this.nextButton,"id",this.id+"_next");},clearResultList:function(){var _9a4=this.containerNode;while(_9a4.childNodes.length>2){_9a4.removeChild(_9a4.childNodes[_9a4.childNodes.length-2]);}this._setSelectedAttr(null);},highlightFirstOption:function(){this.selectFirstNode();},highlightLastOption:function(){this.selectLastNode();},selectFirstNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.previousButton){this.selectNextNode();}},selectLastNode:function(){this.inherited(arguments);if(this.getHighlightedOption()==this.nextButton){this.selectPreviousNode();}},getHighlightedOption:function(){return this.selected;}});});},"dijit/form/_ListMouseMixin":function(){define("dijit/form/_ListMouseMixin",["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(_9a5,_9a6,on,_9a7,_9a8){return _9a5("dijit.form._ListMouseMixin",_9a8,{postCreate:function(){this.inherited(arguments);this._listConnect("click","_onClick");this._listConnect("mousedown","_onMouseDown");this._listConnect("mouseup","_onMouseUp");this._listConnect("mouseover","_onMouseOver");this._listConnect("mouseout","_onMouseOut");},_onClick:function(evt,_9a9){this._setSelectedAttr(_9a9,false);if(this._deferredClick){this._deferredClick.remove();}this._deferredClick=this.defer(function(){this._deferredClick=null;this.onClick(_9a9);});},_onMouseDown:function(evt,_9aa){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}this._isDragging=true;this._setSelectedAttr(_9aa,false);},_onMouseUp:function(evt,_9ab){this._isDragging=false;var _9ac=this.selected;var _9ad=this._hoveredNode;if(_9ac&&_9ab==_9ac){this.defer(function(){this._onClick(evt,_9ac);});}else{if(_9ad){this.defer(function(){this._onClick(evt,_9ad);});}}},_onMouseOut:function(evt,_9ae){if(this._hoveredNode){this.onUnhover(this._hoveredNode);this._hoveredNode=null;}if(this._isDragging){this._cancelDrag=(new Date()).getTime()+1000;}},_onMouseOver:function(evt,_9af){if(this._cancelDrag){var time=(new Date()).getTime();if(time>this._cancelDrag){this._isDragging=false;}this._cancelDrag=null;}this._hoveredNode=_9af;this.onHover(_9af);if(this._isDragging){this._setSelectedAttr(_9af,false);}}});});},"dijit/form/_ListBase":function(){define("dijit/form/_ListBase",["dojo/_base/declare","dojo/on","dojo/window"],function(_9b0,on,_9b1){return _9b0("dijit.form._ListBase",null,{selected:null,_listConnect:function(_9b2,_9b3){var self=this;return self.own(on(self.containerNode,on.selector(function(_9b4,_9b5,_9b6){return _9b4.parentNode==_9b6;},_9b2),function(evt){self[_9b3](evt,this);}));},selectFirstNode:function(){var _9b7=this.containerNode.firstChild;while(_9b7&&_9b7.style.display=="none"){_9b7=_9b7.nextSibling;}this._setSelectedAttr(_9b7,true);},selectLastNode:function(){var last=this.containerNode.lastChild;while(last&&last.style.display=="none"){last=last.previousSibling;}this._setSelectedAttr(last,true);},selectNextNode:function(){var _9b8=this.selected;if(!_9b8){this.selectFirstNode();}else{var next=_9b8.nextSibling;while(next&&next.style.display=="none"){next=next.nextSibling;}if(!next){this.selectFirstNode();}else{this._setSelectedAttr(next,true);}}},selectPreviousNode:function(){var _9b9=this.selected;if(!_9b9){this.selectLastNode();}else{var prev=_9b9.previousSibling;while(prev&&prev.style.display=="none"){prev=prev.previousSibling;}if(!prev){this.selectLastNode();}else{this._setSelectedAttr(prev,true);}}},_setSelectedAttr:function(node,_9ba){if(this.selected!=node){var _9bb=this.selected;if(_9bb){this.onDeselect(_9bb);this.selected=null;}if(node){this.selected=node;if(_9ba){_9b1.scrollIntoView(node);}this.onSelect(node);}}else{if(node){this.onSelect(node);}}}});});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","epi/shell/form/SuggestionSelectionEditor":function(){define(["dojo/_base/declare","epi/shell/store/JsonRest","dijit/form/ComboBox"],function(_9bc,_9bd,_9be){return _9bc([_9be],{postMixInProperties:function(){var _9bf=new _9bd({target:this.storeurl});this.set("store",_9bf);this.inherited(arguments);}});});},"dijit/form/ComboBox":function(){define("dijit/form/ComboBox",["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_9c0,_9c1,_9c2){return _9c0("dijit.form.ComboBox",[_9c1,_9c2],{});});},"epi/shell/HashWrapper":function(){define("epi/shell/HashWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/io-query","dojo/hash","dojo/Stateful","epi/epi"],function(_9c3,_9c4,lang,_9c5,io,hash,_9c6,epi){return _9c4([_9c6],{encodeEnabled:false,_requestContext:true,_hashChanged:true,constructor:function(_9c7){if(_9c7){this.encodeEnabled=_9c7.encodeEnabled;}_9c3.subscribe("/dojo/hashchange",this,"_onHashChanged");},getHash:function(){var _9c8=hash();if(!_9c8){var _9c9=_9c5("epihash");if(_9c9){_9c8=hash(_9c9);}_9c5("epihash",null,{expires:-1,path:"/"});}return io.queryToObject(decodeURIComponent(_9c8));},setHash:function(_9ca){hash(this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_9ca))):decodeURIComponent(io.objectToQuery(_9ca)));},hashEmpty:function(){return epi.isEmpty(this.getHash());},onHashChanged:function(ctx){},_hashAreEqual:function(_9cb,_9cc){if(!_9cb&&!_9cc){return true;}if(_9cb&&_9cc){return (_9cb.context===_9cc.context);}return false;},onContextChange:function(ctx,_9cd){this._onContextChange(ctx,_9cd);},extractHash:function(ctx,_9ce){var _9cf=this.getHash();var _9d0=this._getNewHash(ctx);var _9d1=this.hashEmpty()?_9d0:lang.mixin(_9cf,_9d0);return this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_9d1))):decodeURIComponent(io.objectToQuery(_9d1));},_onContextChange:function(ctx,_9d2){var _9d3=this.getHash();var _9d4=this._getNewHash(ctx);if(!this._hashAreEqual(_9d3,_9d4)){if(!_9d2||_9d2.sender!=this){this._requestContext=false;hash(this.extractHash(ctx,_9d2));}this.onHashChanged(ctx);}else{if(this._hashChanged){this.onHashChanged(ctx);}}this._hashChanged=false;},_getNewHash:function(ctx){return {context:ctx.requestedUri||ctx.versionAgnosticUri||ctx.uri};},_onHashChanged:function(_9d5){if(this._requestContext){this._hashChanged=true;var _9d6=io.queryToObject(decodeURIComponent(_9d5));if(_9d6&&_9d6.context){var _9d7={uri:_9d6.context};_9c3.publish("/epi/shell/context/request",[_9d7,{sender:this}]);}}this._requestContext=true;}});});},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_9d8){dojo.cookie=function(name,_9d9,_9da){var c=document.cookie,ret;if(arguments.length==1){var _9db=c.match(new RegExp("(?:^|; )"+_9d8.escapeString(name)+"=([^;]*)"));ret=_9db?decodeURIComponent(_9db[1]):undefined;}else{_9da=_9da||{};var exp=_9da.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_9da.expires=d;}if(exp&&exp.toUTCString){_9da.expires=exp.toUTCString();}_9d9=encodeURIComponent(_9d9);var _9dc=name+"="+_9d9,_9dd;for(_9dd in _9da){_9dc+="; "+_9dd;var _9de=_9da[_9dd];if(_9de!==true){_9dc+="="+_9de;}}document.cookie=_9dc;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/hash":function(){define("dojo/hash",["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(dojo,_9df,_9e0,_9e1,lang,_9e2,has){dojo.hash=function(hash,_9e3){if(!arguments.length){return _9e4();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_9e3){_9e5(hash);}else{location.href="#"+hash;}return hash;};var _9e6,_9e7,_9e8,_9e9=_9e0.hashPollFrequency||100;function _9ea(str,_9eb){var i=str.indexOf(_9eb);return (i>=0)?str.substring(i+1):"";};function _9e4(){return _9ea(location.href,"#");};function _9ec(){_9e1.publish("/dojo/hashchange",[_9e4()]);};function _9ed(){if(_9e4()===_9e6){return;}_9e6=_9e4();_9ec();};function _9e5(hash){if(_9e7){if(_9e7.isTransitioning()){setTimeout(lang.hitch(null,_9e5,hash),_9e9);return;}var href=_9e7.iframe.location.href;var _9ee=href.indexOf("?");_9e7.iframe.location.replace(href.substring(0,_9ee)+"?"+hash);return;}location.replace("#"+hash);!_9e8&&_9ed();};function _9ef(){var ifr=document.createElement("iframe"),_9f0="dojo-hash-iframe",_9f1=_9e0.dojoBlankHtmlUrl||_9df.toUrl("./resources/blank.html");if(_9e0.useXDomain&&!_9e0.dojoBlankHtmlUrl){console.warn("dojo.hash: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set djConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}ifr.id=_9f0;ifr.src=_9f1+"?"+_9e4();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_9f0];var _9f2,_9f3,_9f4,_9f5,_9f6,_9f7=this.iframe.location;function _9f8(){_9e6=_9e4();_9f2=_9f6?_9e6:_9ea(_9f7.href,"?");_9f3=false;_9f4=null;};this.isTransitioning=function(){return _9f3;};this.pollLocation=function(){if(!_9f6){try{var _9f9=_9ea(_9f7.href,"?");if(document.title!=_9f5){_9f5=this.iframe.document.title=document.title;}}catch(e){_9f6=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var hash=_9e4();if(_9f3&&_9e6===hash){if(_9f6||_9f9===_9f4){_9f8();_9ec();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_9e6===hash&&(_9f6||_9f2===_9f9)){}else{if(_9e6!==hash){_9e6=hash;_9f3=true;_9f4=hash;ifr.src=_9f1+"?"+_9f4;_9f6=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_9f6){location.href="#"+_9f7.search.substring(1);_9f8();_9ec();}}}}setTimeout(lang.hitch(this,this.pollLocation),_9e9);};_9f8();setTimeout(lang.hitch(this,this.pollLocation),_9e9);};_9e2(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_9e8=_9e1.connect(dojo.global,"onhashchange",_9ec);}else{if(document.addEventListener){_9e6=_9e4();setInterval(_9ed,_9e9);}else{if(document.attachEvent){_9e7=new _9ef();}}}});return dojo.hash;});},"epi/shell/layout/GroupContainer":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./SimpleContainer"],function(_9fa,_9fb,_9fc,_9fd){return _9fa([_9fd],{labelNode:null,templateString:"<fieldset><ul class=\"epi-form-container__section\" data-dojo-attach-point=\"containerNode\"></ul></fieldset>",_setTitleAttr:function(_9fe){var _9ff,node;if(_9fe){_9ff=this.labelNode?"replace":"first";node=this.labelNode||this.domNode;this.labelNode=_9fc.create("legend",{innerHTML:_9fe},node,_9ff);}else{if(this.labelNode){_9fc.destroy(this.labelNode);}}}});});},"epi/shell/layout/SimpleContainer":function(){define(["dojo/_base/declare","dojo/dom-construct","../form/formFieldRegistry","../form/Field","../form/HiddenField","../form/Group","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget"],function(_a00,_a01,_a02,_a03,_a04,_a05,_a06,_a07){var _a08=_a00([_a07,_a06],{templateString:"<ul class=\"epi-form-container__section\"></ul>",_FieldItem:_a03,_HiddenFieldItem:_a04,_ParentItem:_a05,_GroupItem:_a05,addChild:function(_a09){var _a0a,_a0b=_a02.get(_a09._type,_a09._hint);if(_a0b){this.own(_a0a=_a0b(_a09,this));this._addChildToWrapper(_a0a,_a09);!_a0b.preventAdd&&this.inherited(arguments,[_a0a]);}else{_a0a=_a01.create("li",{"class":"epi-form-container__section__row epi-form-container__section__row--"+_a09._type});_a0a.appendChild(_a09.domNode);_a01.place(_a0a,this.containerNode,"last");if(this._started&&!_a09._started){_a09.startup();}}},_addChildToWrapper:function(_a0c,_a0d){_a0c.addChild(_a0d);},layout:function(){var _a0e=this.getChildren();_a0e&&_a0e.forEach(function(_a0f){var _a10=_a0f.getChildren()[0];if(_a10&&_a10.resize){_a10.resize();}});},_setTitleAttr:function(_a11){this._set("title",_a11);}});return _a08;});},"epi/shell/form/formFieldRegistry":function(){define([],function(){var _a12={},_a13={type:{group:"group",parent:"parent",field:"field",hiddenField:"hiddenfield"},add:function(_a14){var _a15;function _a16(reg){var key=reg.type+reg.hint;_a12[key]?_a12[key].unshift(reg.factory):_a12[key]=[reg.factory];return {remove:function(){_a13.remove(reg);reg=null;}};};_a14 instanceof Array?_a15=_a14.map(_a16):_a15=_a16(_a14);return _a15;},remove:function(reg){var _a17=_a12[reg.type+reg.hint],_a18=_a17?_a17.indexOf(reg.factory):-1;if(_a18>-1){_a17.splice(_a18,1);}},get:function(type,hint){var _a19=_a12[type+(hint||"")];return (_a19&&_a19.length)?_a19[0]:null;},clear:function(){_a12={};}};return _a13;});},"epi/shell/form/Field":function(){define(["dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/Field.html"],function(_a1a,_a1b,_a1c,_a1d,_a1e,_a1f,_a20,_a21,_a22,_a23){var _a24=_a1a([_a1e,_a1f,_a20,_a21],{labelTarget:"",label:"",readonlyIconDisplay:null,hasFullWidthValue:false,templateString:_a23,addChild:function(_a25,_a26){if(_a25.checkbox){this._addCheckboxChild(_a25,this.labelNode);}else{this.inherited(arguments);}},_addCheckboxChild:function(_a27,_a28){_a1b.toggle(this.domNode,"epi-form-container__section__row--checkbox",true);_a1c.place(_a27.domNode,_a28,"before");if(this._started&&!_a27._started){_a27.startup();}},_setReadonlyIconDisplayAttr:function(_a29){this._set("readonlyIconDisplay",_a29);_a1d.set(this.readonlyIcon,"display",_a29===true?"":"none");},_setLabelAttr:function(_a2a){this._set("label",_a2a);this.labelNode.insertBefore(_a1c.toDom(_a2a),this.readonlyIcon);_a1b.toggle(this.labelNode,"dijitHidden",!_a2a);},_setLabelTargetAttr:{node:"labelNode",attribute:"for",type:"attribute"},_setTooltipAttr:{node:"labelNode",attribute:"title",type:"attribute"},_setHasFullWidthValueAttr:function(_a2b){_a2b&&_a1b.add(this.containerNode,"epi-form-container__section__row--full-width");}});_a22.add({type:_a22.type.field,hint:"",factory:function(_a2c,_a2d){var _a2e=new _a2d._FieldItem({labelTarget:_a2c.checkbox?_a2c.checkbox.id:_a2c.id,label:_a2c.label,tooltip:_a2c.tooltip,readonlyIconDisplay:_a2c.readOnly,hasFullWidthValue:_a2c.useFullWidth});_a2e.own(_a2c.watch("readOnly",function(name,_a2f,_a30){_a2e.set("readonlyIconDisplay",_a30);}));return _a2e;}});return _a24;});},"url:epi/shell/form/templates/Field.html":"<li class=\"epi-form-container__section__row epi-form-container__section__row--field\">\n    <label data-dojo-attach-point=\"labelNode\">\n        <span class=\"dijitInline dijitReset dijitIcon epi-iconPenDisabled\" data-dojo-attach-point=\"readonlyIcon\"></span>\n    </label>\n</li>","epi/shell/form/HiddenField":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","./formFieldRegistry","dojo/text!./templates/HiddenField.html"],function(_a31,_a32,_a33,_a34,_a35,_a36,_a37){var _a38=_a31([_a32,_a33,_a34,_a35],{templateString:_a37});_a36.add({type:_a36.type.hiddenField,hint:"",factory:function(_a39,_a3a){return new _a3a._HiddenFieldItem();}});return _a38;});},"url:epi/shell/form/templates/HiddenField.html":"<li class=\"epi-form-container__section__row dijitHidden\">\n</li>","epi/shell/form/Group":function(){define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","dojo/text!./templates/Group.html"],function(_a3b,_a3c,_a3d,_a3e,_a3f,_a40){return _a3b([_a3c,_a3d,_a3e,_a3f],{templateString:_a40});});},"url:epi/shell/form/templates/Group.html":"<li></li>","epi/shell/layout/ParentContainer":function(){define(["dojo/_base/declare","epi/shell/layout/GroupContainer"],function(_a41,_a42){return _a41([_a42],{});});},"epi/shell/layout/PinnablePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/topic","dojo/when","dojo/text!./templates/PinnablePane.html","dijit/_Contained","dijit/_Container","dijit/_TemplatedMixin","dijit/layout/ContentPane","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","epi/shell/layout/PinnablePaneSplitter","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/_ActionProvider","epi/shell/widget/ToolbarSet"],function(_a43,_a44,_a45,lang,win,_a46,_a47,_a48,_a49,when,_a4a,_a4b,_a4c,_a4d,_a4e,_a4f,_a50,_a51,_a52,_a53,_a54){return _a44([_a4e,_a4d,_a4b,_a4c,_a52],{pinned:false,visible:false,templateString:_a4a,baseClass:"epi-pinnable",postMixInProperties:function(){var _a55=_a4f.resolve("epi.shell.Profile");this.inherited(arguments);when(_a55.get(this.id),lang.hitch(this,function(_a56){if(_a56){this.pinned=_a56.pinned;this.visible=_a56.visible;this.size=_a56.size;}}));this._profile=_a55;},buildRendering:function(){this.inherited(arguments);var _a57=new _a54({baseClass:"epi-pinnableToolbar"},this.toolbarNode);this.own(_a57);this.set("definitionConsumer",_a57);_a48.set(this.containerNode,"width",(this.size||this.minSize)+"px");if(!this.pinned){this.set("pinned",this.pinned);}if(!this.visible){this.set("visible",this.visible);}},postCreate:function(){var _a58="",ltr=this.isLeftToRight(),_a59=function(){if(this.visible){this._dragging=true;}},_a5a=function(){this._dragging=false;};this.inherited(arguments);if(this.region){switch(this.region){case "trailing":case "right":_a58=ltr?"right":"left";break;case "leading":case "left":_a58=ltr?"left":"right";break;case "top":_a58="top";break;case "bottom":_a58="bottom";break;}_a46.add(this.domNode,this.baseClass+"-"+_a58);}this.subscribe("/epi/layout/pinnable/"+this.id+"/toggle",function(_a5b){if(typeof _a5b!=="boolean"){_a5b=!this.visible;}this.set("visible",_a5b);});this.subscribe("/dnd/start",_a59);this.subscribe("/dnd/drop",_a5a);this.subscribe("/dnd/cancel",_a5a);},startup:function(){var _a5c=this._splitterWidget;if(this._started){return;}_a43.forEach(this.getChildren(),function(_a5d){if(_a5d.isInstanceOf(_a53)){this.addProvider(_a5d);}},this);this.inherited(arguments);this._container=this.getParent();if(this.splitter&&_a5c){_a5c=_a51(_a5c);if(!this.visible){_a5c.hide();}this.connect(_a5c,"_stopDrag",this.persist);}this._refreshState();},resize:function(_a5e){var pos=this.region,_a5f=this.visible&&this.pinned,_a60=_a47.getMarginBox(this.domNode),_a61=_a47.getMarginBox(this.containerNode),_a62={},_a63={t:_a60.t},_a64=pos=="left"||pos=="leading",_a65=pos=="right"||pos=="trailing";if(!this._toolbarHeight){this._toolbarHeight=_a47.getMarginBox(this.definitionConsumer.domNode).h;}_a47.setMarginBox(this.domNode,{w:_a5f?_a61.w:0});if(_a5e){if(_a5e.w){_a62.w=_a61.w=_a5e.w;if(!this.pinned){delete _a5e.w;}}if(_a5e.h){_a60.h=_a5e.h;}}var _a66=this._computeMaxSize();if(this._visibilityChanged&&_a66<_a61.w){_a62.w=_a61.w=_a66;}_a62.h=_a60.h-this._toolbarHeight;_a47.setMarginBox(this.containerNode,_a62);if(_a64){_a63.l=_a60.l;}else{if(_a65){_a63.l=_a5f?0:0-_a61.w;}}_a47.setMarginBox(this.pinnableNode,_a63);if(this._splitterWidget){var _a67=_a47.getMarginBox(this._splitterWidget.domNode),_a68={t:_a60.t};if(_a64){_a68.l=_a61.w;}else{if(_a65){_a68.l=_a5f?_a60.l-_a67.w:_a60.l-_a61.w;}}_a47.setMarginBox(this._splitterWidget.domNode,_a68);}this.inherited(arguments);},persist:function(){var _a69={pinned:this.pinned,visible:this.visible,size:_a48.get(this.containerNode,"width")};this._profile.set(this.id,_a69);},getActions:function(){var _a6a=this.inherited(arguments),_a6b=/left|leading/.test(this.region),pin={name:"pin",widgetType:"dijit.form.ToggleButton",title:this._getPinTitle(),iconClass:"epi-iconPin",settings:{showLabel:false,"class":"epi-chromelessButton",checked:this.pinned,region:_a6b?"trailing":"leading"},action:lang.hitch(this,this._togglePinned)},_a6c={name:"settings",title:_a50.gadgetchrome.settingsmenutooltip,type:"dropdown",iconClass:"epi-iconSettings",settings:{showLabel:false,"class":"epi-chromelessButton",dropDownPosition:_a6b?["below-alt"]:["below"],region:_a6b?"trailing":"leading"}};_a6a.splice(0,0,_a6c);_a6a.splice(_a6b?_a6a.length:0,0,pin);return _a6a;},_setPinnedAttr:function(_a6d){this._set("pinned",_a6d);_a46.toggle(this.pinnableNode,this.baseClass+"-pinned",_a6d);_a46.toggle(this.pinnableNode,this.baseClass+"-unpinned",!_a6d);_a48.set(this.pinnableNode,"position",_a6d?"relative":"absolute");this.definitionConsumer.setItemProperty("pin","title",this._getPinTitle());if(this._started){this._refreshState();}if(!this.pinned){this.set("visible",false);}},_setVisibleAttr:function(_a6e){this._set("visible",_a6e);_a48.set(this.pinnableNode,"display",_a6e?"block":"none");if(this._splitterWidget){(_a6e)?this._splitterWidget.show():this._splitterWidget.hide();}if(this._started){this._visibilityChanged=true;this._refreshState();this._visibilityChanged=false;}},_togglePinned:function(){this.set("pinned",!this.pinned);},_refreshState:function(){this._disconnectUnpinnedEvents();if(this.visible&&!this.pinned){this._connectUnpinnedEvents();}this._container.layout();this.resize();this.persist();_a49.publish("/epi/layout/pinnable/"+this.id+"/visibilitychanged",this.visible);},_connectUnpinnedEvents:function(){this._unpinnedEvents=[this.connect(this.domNode,"onmousedown",function(e){e.stopPropagation();}),this.connect(this._container.domNode,"onmousedown",lang.hitch(this,this.set,"visible",false)),this.connect(win.global,"onresize",lang.hitch(this,this.set,"visible",false)),this.connect(this.domNode,"onmouseover",_a45.stop),this.connect(this._container.domNode,"onmouseover",function(){if(this._dragging){this.set("visible",false);}}),_a49.subscribe("/epi/shell/action/changeview",lang.hitch(this,this.set,"visible",false))];},_disconnectUnpinnedEvents:function(){_a43.forEach(this._unpinnedEvents,this.disconnect);},_computeMaxSize:function(){var _a6f=_a47.getMarginBox(this.domNode).w,_a70=_a43.filter(this._container.getChildren(),function(_a71){return _a71.region=="center";})[0],_a72=_a47.getMarginBox(_a70.domNode).w;return Math.min(this.maxSize,_a6f+_a72);},_getPinTitle:function(){return this.pinned?_a50.pinnablepane.unpin:_a50.pinnablepane.pin;}});});},"url:epi/shell/layout/templates/PinnablePane.html":"<div class=\"epi-pinnableDock\">\r\n    <div class=\"epi-pinnableFacade\">\r\n        <div class=\"epi-pinnablePane\" data-dojo-attach-point=\"pinnableNode\">\r\n            <div data-dojo-attach-point=\"toolbarNode\"></div>\r\n            <div class=\"epi-pinnableContentWrapper\">\r\n                <div class=\"epi-pinnableContent\" data-dojo-attach-point=\"containerNode\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/layout/PinnablePaneSplitter":function(){define(["dojo","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/touch"],function(dojo,_a73,_a74,_a75,_a76,on,_a77){return function(_a78){return dojo.mixin(_a78,{_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");_a73.add(this.cover,"dijitSplitterCover");_a74.place(this.cover,this.child.domNode,"after");}_a73.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_a74.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_a73.add(this.domNode,"dijitSplitterShadow");_a74.place(this.fake,this.domNode,"after");}_a73.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_a73.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _a79=this._factor,_a7a=this.horizontal,axis=_a7a?"pageY":"pageX",_a7b=e[axis],_a7c=this.domNode.style,dim=_a7a?"h":"w",_a7d=_a75.getMarginBox(this.child.containerNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_a7e=this.region,_a7f=_a7e=="top"||_a7e=="bottom"?"top":"left",_a80=parseInt(_a7c[_a7f],10),_a81=dojo.hitch(this.child,"resize"),_a82=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc,_a83=this.child.pinned;this._handlers=this._handlers.concat([on(de,_a77.move,this._drag=function(e,_a84){var _a85=e[axis]-_a7b,_a86=_a79*_a85+_a7d,_a87=Math.max(Math.min(_a86,max),min);if(this.live||_a84){_a83?_a82(_a87):_a81({w:_a87});}_a7c[_a7f]=_a85+_a80+_a79*(_a87-_a86)+"px";}),on(de,"dragstart",dojo.stopEvent),on(dojo.body(),"selectstart",dojo.stopEvent),on(de,_a77.release,dojo.hitch(this,"_stopDrag"))]);dojo.stopEvent(e);},show:function(){_a76.set(this.domNode,{display:"",margin:""});},hide:function(){_a76.set(this.domNode,{display:"none",margin:"0"});}});};});},"epi/shell/widget/_ActionProvider":function(){define(["dojo","dojo/_base/array","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_a88,_a89,_a8a){return dojo.declare([_a8a],{_actions:null,constructor:function(){_a89.deprecated("epi/shell/widget/_ActionProvider","use the command pattern with epi/shell/command/_CommandProviderMixin instead");this._actions=[];},getActions:function(){return this._actions.concat();},hasAction:function(_a8b){return _a88.some(this._actions,function(_a8c){return _a8c.name==_a8b;});},setActionProperty:function(_a8d,_a8e,_a8f){var _a90=typeof _a8d=="string"?_a8d:_a8d.name;for(var i=0;i<this._actions.length;i++){var _a91=this._actions[i];if(_a91.name===_a90){_a91[_a8e]=_a8f;this.onActionPropertyChanged(_a91,_a8e,_a8f);return;}}throw new Error("No action registered with the name: "+_a90);},addActions:function(_a92){if(dojo.isArray(_a92)){dojo.forEach(_a92,this._addAction,this);}else{this._addAction(_a92);}},removeActions:function(_a93){if(dojo.isArray(_a93)){dojo.forEach(_a93,this._removeAction,this);}else{this._removeAction(_a93);}},_removeAction:function(_a94){for(var i=0;i<this._actions.length;i++){if(this._actions[i].name==_a94.name){this.onActionRemoved(this._actions.splice(i,1)[0]);}}},_addAction:function(_a95){if(dojo.some(this._actions,function(_a96){return _a96.name===_a95.name;})){throw new Error("An action named '"+_a95.name+"' is already registered");}this._actions.push(_a95);this.onActionAdded(_a95);}});});},"epi/shell/layout/PositioningUtility":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/window"],function(_a97,lang,dom,_a98,_a99,win){return _a97(null,{_margin:10,userSetTransformId:-1,place:function(_a9a,_a9b){var node=this._getNode(_a9a),pos=this.findPosition(node,_a9b);_a99(node,{position:"absolute",top:pos.y+"px",left:pos.x+"px"});},findPosition:function(_a9c,_a9d){var _a9e=_a9d.blockViewport||_a9d.frame||this._getFramePosition(_a9d.snapTo,_a9c),_a9f=this._getVisiblePosition(this._getPosition(_a9d.snapTo),_a9e),_aa0=_a9d.dialogViewport||win.getBox(),_aa1=this._getPosition(_a9c);return this._executeTransformers(_aa1,_a9f,_aa0,_a9d.transformIndex);},_getVisiblePosition:function(_aa2,_aa3){var _aa4=lang.clone(_aa2);if(_aa3.w>0&&_aa4.x+_aa4.w>_aa3.w){_aa4.w=_aa3.w-_aa4.x;}if(_aa3.h>0&&_aa4.y+_aa4.h>_aa3.h){_aa4.h=_aa3.h-_aa4.y;}_aa4.x+=_aa3.x;_aa4.y+=_aa3.y;if(_aa4.y<_aa3.y){_aa4.h=_aa4.h-_aa3.y+_aa4.y;_aa4.y=_aa3.y;}if(_aa4.x<_aa3.x){_aa4.w=_aa4.w-_aa3.x+_aa4.x;_aa4.x=_aa3.x;}return _aa4;},_getFramePosition:function(_aa5,_aa6){var _aa7=_aa5.ownerDocument.defaultView.frameElement,_aa8;function _aa9(_aaa,_aab){var doc=_aaa.ownerDocument,pos=_a98.position(_aaa);if(!_aab){_aab=pos;}else{_aab.x+=pos.x;_aab.y+=pos.y;}if(doc===_aa6.ownerDocument){return _aab;}else{_aaa=doc.defaultView.frameElement;return _aa9(_aaa,_aab);}};if(!_aa7){_aa8=win.getBox(_aa5.ownerDocument);_aa8.x=_aa8.l;_aa8.y=_aa8.t;return _aa8;}return _aa9(_aa7);},_executeTransformers:function(pos,_aac,_aad,_aae){if(_aae==this.userSetTransformId){return this._moveIntoViewport(lang.mixin({id:this.userSetTransformId},pos),_aad);}var _aaf=null,_ab0=isNaN(_aae)?this._transformers:[this._transformers[_aae]];_ab0.some(lang.hitch(this,function(_ab1){_aaf=this._moveIntoViewport(_ab1.call(this,pos,_aac,_aad),_aad);return _ab0.length===1||this._isInside(_aaf,_aad)&&this._isOutside(_aaf,_aac);}));return _aaf;},_getNode:function(_ab2){if(_ab2&&(typeof _ab2==="string"||_ab2.nodeType)){return dom.byId(_ab2);}if(_ab2&&_ab2.domNode){return _ab2.domNode;}return null;},_getPosition:function(_ab3){var pos={x:0,y:0,w:0,h:0},node;if(typeof _ab3==="undefined"||_ab3===null){return pos;}if(typeof _ab3.x!=="undefined"&&typeof _ab3.y!=="undefined"){pos=_ab3;}if(node=this._getNode(_ab3)){pos=_a98.position(node,false);}return pos;},_moveIntoViewport:function(_ab4,_ab5){_ab4.x=Math.min(_ab5.w-_ab4.w,Math.max(0,_ab4.x));_ab4.y=Math.min(_ab5.h-_ab4.h,Math.max(0,_ab4.y));return _ab4;},_isInside:function(_ab6,_ab7){return _ab6.x>0&&_ab6.y>0&&_ab6.x+_ab6.w<_ab7.w&&_ab6.y+_ab6.h<_ab7.h;},_isOutside:function(_ab8,_ab9){return _ab8.x>_ab9.x+_ab9.w||_ab8.y>_ab9.y+_ab9.h||_ab8.x+_ab8.w<_ab9.x||_ab8.y+_ab8.h<_ab9.y;},_transformers:[function(_aba,_abb,_abc){return {x:_abb.x+_abb.w+this._margin,y:_abb.y,w:_aba.w,h:_aba.h,id:0};},function(_abd,_abe,_abf){return {x:_abe.x+(_abe.w/2-_abd.w/2),y:_abe.y+_abe.h+this._margin,w:_abd.w,h:_abd.h,id:1};},function(_ac0,_ac1,_ac2){return {x:_ac1.x-_ac0.w-this._margin,y:_ac1.y,w:_ac0.w,h:_ac0.h,id:2};},function(_ac3,_ac4,_ac5){return {x:_ac4.x+(_ac4.w/2-_ac3.w/2),y:_ac4.y-_ac3.h-this._margin,w:_ac3.w,h:_ac3.h,id:3};},function(_ac6,_ac7,_ac8){return {x:_ac8.w/2-_ac6.w/2,y:_ac8.h/2-_ac6.h/2,w:_ac6.w,h:_ac6.h,id:4};}]});});},"epi/shell/MessageService":function(){define("epi/shell/MessageService",["dojo","dojo/store/Memory","dojo/store/Observable"],function(dojo,_ac9,_aca){return dojo.declare(null,{_store:null,_idIndex:0,constructor:function(_acb){dojo.mixin(this,_acb);var _acc=new _ac9({idAttribute:"id",data:[]});this._store=new _aca(_acc);},put:function(_acd,_ace,_acf,_ad0,_ad1,_ad2){return this._store.put({id:++this._idIndex,typeName:_acd,message:_ace,contextTypeName:_acf,contextId:_ad0,externalItemId:_ad1,externalItemData:_ad2});},query:function(_ad3){return this._store.query(_ad3);},observe:function(_ad4,_ad5){return this.query(_ad4).observe(_ad5);},remove:function(_ad6){var _ad7=this.query(_ad6);_ad7.forEach(dojo.hitch(this,function(item){this._store.remove(item.id);}));return _ad7;}});});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_ad8,lang,_ad9,_ada){var _adb=function(_adc){var _add,_ade=[],_adf=0;_adc=lang.delegate(_adc);_adc.notify=function(_ae0,_ae1){_adf++;var _ae2=_ade.slice();for(var i=0,l=_ae2.length;i<l;i++){_ae2[i](_ae0,_ae1);}};var _ae3=_adc.query;_adc.query=function(_ae4,_ae5){_ae5=_ae5||{};var _ae6=_ae3.apply(this,arguments);if(_ae6&&_ae6.forEach){var _ae7=lang.mixin({},_ae5);delete _ae7.start;delete _ae7.count;var _ae8=_adc.queryEngine&&_adc.queryEngine(_ae4,_ae7);var _ae9=_adf;var _aea=[],_aeb;_ae6.observe=function(_aec,_aed){if(_aea.push(_aec)==1){_ade.push(_aeb=function(_aee,_aef){_ad9.when(_ae6,function(_af0){var _af1=_af0.length!=_ae5.count;var i,l,_aec;if(++_ae9!=_adf){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _af2,_af3=-1,_af4=-1;if(_aef!==_add){for(i=0,l=_af0.length;i<l;i++){var _af5=_af0[i];if(_adc.getIdentity(_af5)==_aef){_af2=_af5;_af3=i;if(_ae8||!_aee){_af0.splice(i,1);}break;}}}if(_ae8){if(_aee&&(_ae8.matches?_ae8.matches(_aee):_ae8([_aee]).length)){var _af6=_af3>-1?_af3:_af0.length;_af0.splice(_af6,0,_aee);_af4=_ada.indexOf(_ae8(_af0),_aee);_af0.splice(_af6,1);if((_ae5.start&&_af4==0)||(!_af1&&_af4==_af0.length)){_af4=-1;}else{_af0.splice(_af4,0,_aee);}}}else{if(_aee){if(_aef!==_add){_af4=_af3;}else{if(!_ae5.start){_af4=_adc.defaultIndex||0;_af0.splice(_af4,0,_aee);}}}}if((_af3>-1||_af4>-1)&&(_aed||!_ae8||(_af3!=_af4))){var _af7=_aea.slice();for(i=0;_aec=_af7[i];i++){_aec(_aee||_af2,_af3,_af4);}}});});}var _af8={};_af8.remove=_af8.cancel=function(){var _af9=_ada.indexOf(_aea,_aec);if(_af9>-1){_aea.splice(_af9,1);if(!_aea.length){_ade.splice(_ada.indexOf(_ade,_aeb),1);}}};return _af8;};}return _ae6;};var _afa;function _afb(_afc,_afd){var _afe=_adc[_afc];if(_afe){_adc[_afc]=function(_aff){if(_afa){return _afe.apply(this,arguments);}_afa=true;try{var _b00=_afe.apply(this,arguments);_ad9.when(_b00,function(_b01){_afd((typeof _b01=="object"&&_b01)||_aff);});return _b00;}finally{_afa=false;}};}};_afb("put",function(_b02){_adc.notify(_b02,_adc.getIdentity(_b02));});_afb("add",function(_b03){_adc.notify(_b03);});_afb("remove",function(id){_adc.notify(undefined,id);});return _adc;};lang.setObject("dojo.store.Observable",_adb);return _adb;});},"epi/shell/MetadataManager":function(){define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/json","dojo/Deferred","dojo/when","epi/dependency","./PropertyMetadata"],function(_b04,json,_b05,when,_b06,_b07){return _b04(null,{store:null,_setTypeMetadataStore:function(){var _b08=_b06.resolve("epi.storeregistry");this.store=_b08.get("epi.shell.metadata");},getMetadataForType:function(type,_b09){function _b0a(_b0b){return _b0b?new _b07(_b0b):_b0b;};if(this.store==null){this._setTypeMetadataStore();}if(_b09){var def=new _b05();when(this.store.query({id:type,modelAccessor:json.toJson(_b09)}),function(_b0c){if(_b0c&&_b0c.length){def.resolve(_b0a(_b0c[0]));}else{def.reject();}},function(){def.reject();});return def.promise;}else{return when(this.store.get(type),_b0a);}},_clear:function(){this.store=null;}});});},"epi/shell/PropertyMetadata":function(){define("epi/shell/PropertyMetadata",["dojo/_base/declare","dojo/_base/array"],function(_b0d,_b0e){var _b0f=_b0d([],{_propertyMap:null,constructor:function(_b10,_b11){_b0d.safeMixin(this,_b10);if(_b11&&_b11.getName()){this._fullName=_b11.getName()+"."+this.name;}else{this._fullName=this.name;}this._propertyMap={};_b0e.forEach(this.properties,function(prop){var _b12=new _b0f(prop,this);this._propertyMap[_b12.name.toLowerCase()]=_b12;},this);},hasSubProperties:function(){return (this.properties&&this.properties.length);},getPropertyMetadata:function(_b13){var _b14=_b13.toLowerCase().split(".");return this._getPropertyMetaData(_b14);},getName:function(){return this._fullName;},_getPropertyMetaData:function(_b15){var name=_b15.shift();var _b16=this._propertyMap[name]||this._propertyMap[this._getMappedName(name)];if(_b16&&_b15.length){return _b16._getPropertyMetaData(_b15);}return _b16;},_getMappedName:function(name){var _b17;_b0e.some(this.mappedProperties||[],function(_b18){return _b18.from.toLowerCase()===name&&(_b17=_b18);});return _b17?_b17.to.toLowerCase():name;}});return _b0f;});},"epi/shell/Profile":function(){define("epi/shell/Profile",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/Evented","dojo/Deferred","dojo/store/Cache","dojo/store/Memory","dojo/when","epi/routes","epi/shell/store/JsonRest","epi/shell/store/Throttle"],function(_b19,lang,json,_b1a,_b1b,_b1c,_b1d,when,_b1e,_b1f,_b20){return _b19([_b1a],{_store:null,constructor:function(_b21){_b19.safeMixin(this,_b21);if(!this._store){var _b22=new _b1f({target:_b1e.getRestPath({moduleArea:"shell",storeName:"profile"}),defaultRequestParams:{preventLocalizationHeader:true,isProfileRequest:true},preventCache:true});this._store=_b1c(_b20(_b22,"get"),new _b1d());}when(this._store.get("userName"),lang.hitch(this,function(data){this.userName=data.value;}));},get:function(name){var _b23=sessionStorage[name];if(!_b23){_b23=localStorage[name];}if(_b23){return json.parse(_b23);}if(name==="userName"){return this.userName;}return when(this._store.get(name),function(obj){return (obj&&obj.value)||null;},function(){return null;});},set:function(name,_b24,_b25){var _b26=json.stringify(_b24);if(_b25&&_b25.location){switch(_b25.location){case "session":sessionStorage[name]=_b26;this._emitChangedEvent(name,_b24);return _b26;case "server":var _b27=new _b1b();when(this._store.put({id:name,value:_b24}),lang.hitch(this,function(){this._emitChangedEvent(name,_b24);_b27.resolve();}),_b27.reject);return _b27;default:throw "You need to specify a valid location ('session' or 'server').";}}localStorage[name]=_b26;this._emitChangedEvent(name,_b24);return _b26;},_emitChangedEvent:function(name,_b28){this.emit("changed",{property:name,value:_b28});}});});},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(lang,_b29){var _b2a=function(_b2b,_b2c,_b2d){_b2d=_b2d||{};return lang.delegate(_b2b,{query:function(_b2e,_b2f){var _b30=_b2b.query(_b2e,_b2f);_b30.forEach(function(_b31){if(!_b2d.isLoaded||_b2d.isLoaded(_b31)){_b2c.put(_b31);}});return _b30;},queryEngine:_b2b.queryEngine||_b2c.queryEngine,get:function(id,_b32){return _b29.when(_b2c.get(id),function(_b33){return _b33||_b29.when(_b2b.get(id,_b32),function(_b34){if(_b34){_b2c.put(_b34,{id:id});}return _b34;});});},add:function(_b35,_b36){return _b29.when(_b2b.add(_b35,_b36),function(_b37){_b2c.add(typeof _b37=="object"?_b37:_b35,_b36);return _b37;});},put:function(_b38,_b39){_b2c.remove((_b39&&_b39.id)||this.getIdentity(_b38));return _b29.when(_b2b.put(_b38,_b39),function(_b3a){_b2c.put(typeof _b3a=="object"?_b3a:_b38,_b39);return _b3a;});},remove:function(id,_b3b){return _b29.when(_b2b.remove(id,_b3b),function(_b3c){return _b2c.remove(id,_b3b);});},evict:function(id){return _b2c.remove(id);}});};lang.setObject("dojo.store.Cache",_b2a);return _b2a;});},"epi/shell/store/Throttle":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/when","epi/epi"],function(_b3d,lang,_b3e,when,epi){return function(_b3f,_b40){var _b41=[];var _b42=function(_b43){for(var i=0;i<_b41.length;i++){if(_b41[i].deferred===_b43){return _b41.splice(i,1);}}return null;};var _b44=function(_b45,args){for(var i=0;i<_b41.length;i++){var _b46=_b41[i];if(_b46.method===_b45&&epi.areEqual(_b46.args,args)){return _b46;}}return null;};var _b47=function(_b48,args){var _b49=_b3d.map(args,function(item){return item;});var _b4a=_b44(_b48,_b49);if(_b4a){return _b4a.deferred;}var _b4b=_b3f[_b48].apply(_b3f,_b49);_b41.push({method:_b48,args:_b49,deferred:_b4b});when(_b4b,function(){_b42(_b4b);},function(){_b42(_b4b);});return _b4b;};var _b4c={};_b4c[_b40]=function(){return _b47(_b40,arguments);};return lang.delegate(_b3f,_b4c);};});},"epi/shell/ShellModule":function(){define("epi/shell/ShellModule",["epi/patch/patches","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/topic","dojo/when","dojo/dnd/Manager","epi","epi/_Module","epi/routes","epi/Url","epi/shell/store/Registry","epi/shell/widget/Application","epi/shell/Profile","epi/shell/layout/PositioningUtility","epi/shell/ContextService","epi/shell/ContextHistory","epi/shell/HashWrapper","epi/shell/ViewContextHistory","epi/shell/widget/ComponentController","epi/shell/command/GlobalCommandRegistry","epi/shell/dnd/Avatar","epi/shell/MetadataManager","epi/shell/widget/WidgetFactory","epi/shell/MessageService","epi/shell/customFocusIndicator","epi/shell/TypeDescriptorManager","epi/shell/ViewSettings"],function(_b4d,_b4e,lang,_b4f,_b50,when,_b51,epi,_b52,_b53,Url,_b54,_b55,_b56,_b57,_b58,_b59,_b5a,_b5b,_b5c,_b5d,_b5e,_b5f,_b60,_b61,_b62,_b63,_b64){return _b4e([_b52],{_settings:null,_initializeHandle:null,constructor:function(_b65){this._settings=_b65;},initialize:function(){return when(this.inherited(arguments),lang.hitch(this,function(){var _b66=new _b54();this._initializeStores(_b66);this.registerDependency("epi.storeregistry",_b66);this.registerDependency("epi.shell.Profile",new _b56());this.registerDependency("epi.shell.MetadataManager",_b5f);this.registerDependency("epi.shell.widget.WidgetFactory",_b60);this.registerDependency("epi.shell.MessageService",_b61);this.registerDependency("epi.shell.layout.PositioningUtility",_b57);this.registerDependency("epi.globalcommandregistry",_b5d);var _b67=new _b5a();var _b68=new _b5b();this.registerDependency("epi.shell.controller.Components",new _b5c({moduleArea:"Shell"}));this.registerDependency("epi.shell.ContextService",new _b58());this.registerDependency("epi.shell.ContextHistory",new _b59());this.registerDependency("epi.shell.HashWrapper",_b67);var _b69=_b51.manager();_b69.makeAvatar=function(){return new _b5e(this);};_b69.OFFSET_X=6;_b69.OFFSET_Y=6;_b4f.after(_b69,"stopDrag",function(_b6a){_b50.publish("/dnd/stop",null);return _b6a;});this._initializeHandle=_b50.subscribe("/epi/shell/application/initialized",lang.hitch(this,this._requestInitialContext,_b67,_b68));return _b63.initialize();}));},uninitialize:function(){if(this._requestFailedHandle){this._requestFailedHandle.remove();}this.inherited(arguments);},_initializeStores:function(_b6b){var _b6c=_b53.getRestPath({moduleArea:"shell",storeName:"metadata"}),_b6d=_b53.getRestPath({moduleArea:"shell",storeName:"context"}),_b6e=_b53.getRestPath({moduleArea:"shell",storeName:"searchproviders"}),_b6f=_b53.getRestPath({moduleArea:"shell",storeName:"searchresults"}),_b70=_b53.getRestPath({moduleArea:"shell",storeName:"componentcategory"}),_b71=_b53.getRestPath({moduleArea:"shell",storeName:"componentdefinition"}),_b72=_b53.getRestPath({moduleArea:"shell",storeName:"component"}),_b73=_b53.getRestPath({moduleArea:"shell",storeName:"componentsortorder"}),_b74=_b53.getRestPath({moduleArea:"shell",storeName:"licenseinformation"}),_b75=_b53.getRestPath({moduleArea:"shell",storeName:"uidescriptor"});_b6b.create("epi.shell.metadata",_b6c,{idProperty:"modelType"});_b6b.create("epi.shell.context",_b6d,{idProperty:"uri"});_b6b.create("epi.shell.searchproviders",_b6e);_b6b.create("epi.shell.searchresults",_b6f);_b6b.create("epi.shell.componentcategory",_b70,{idProperty:"name"});_b6b.create("epi.shell.componentdefinition",_b71);_b6b.create("epi.shell.component",_b72);_b6b.create("epi.shell.componentsortorder",_b73);_b6b.create("epi.shell.licenseinformation",_b74);_b6b.create("epi.shell.uidescriptor",_b75);},_requestInitialContext:function(_b76,_b77){if(this._initializeHandle){this._initializeHandle.remove();}var _b78=lang.hitch(this,function(_b79){var _b7a=_b79||_b64.settings.defaultContext;var _b7b=null;if(_b7a){this._requestFailedHandle=_b50.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,function(_b7c,_b7d,_b7e){if(_b7e&&_b7e.sender==this){this._requestFailedHandle.remove();_b78(null);}}));_b7b={uri:_b7a};}_b50.publish("/epi/shell/context/request",_b7b,{sender:this});});var hash=_b76.getHash();if(hash&&hash.context){_b78(hash.context);return;}when(_b77.getLastContextForView(),function(_b7f){var _b80=null;if(_b7f&&_b7f.fullHomeUrl){var url=new Url(_b7f.fullHomeUrl);if(url.authority.toLowerCase()===window.location.host.toLowerCase()){_b80=_b7f.versionAgnosticUri;}}_b78(_b80);});}});});},"epi/patch/patches":function(){define("epi/patch/patches",["./dijit/form/_FormMixin","./dijit/form/_Spinner","./dijit/form/NumberSpinner","./dijit/_HasDropDown","./dojox/form/uploader/plugins/HTML5","./dijit/tree/Tree","./dijit/Dialog","./dojo/dnd/Selector","./dojo/dnd/Moveable","./dojo/store/Observable","./dojo/cldr/nls/nb/gregorian"],function(){return {};});},"epi/patch/dijit/form/_FormMixin":function(){define("epi/patch/dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/lang","dijit/form/_FormMixin"],function(_b81,lang,_b82){lang.mixin(_b82.prototype,{_setValueAttr:function(obj){var map={};_b81.forEach(this._getDescendantFormWidgets(),function(_b83){if(!_b83.name){return;}var _b84=map[_b83.name]||(map[_b83.name]=[]);_b84.push(_b83);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _b85=map[name],_b86=lang.getObject(name,false,obj);if(_b86===undefined){continue;}if(!lang.isArray(_b86)){if(_b86===null&&_b85[0].multiple){_b86=null;}else{_b86=[_b86];}}if(typeof _b85[0].checked=="boolean"){_b81.forEach(_b85,function(w){w.set("value",_b81.indexOf(_b86,w.value)!=-1);});}else{if(_b85[0].multiple){_b85[0].set("value",_b86);}else{_b81.forEach(_b85,function(w,i){w.set("value",_b86[i]);});}}}}});_b82.prototype._setValueAttr.nom="_setValueAttr";});},"epi/patch/dijit/form/_Spinner":function(){define("epi/patch/dijit/form/_Spinner",["dojo/_base/lang","dijit/form/_Spinner"],function(lang,_b87){var base=_b87.prototype._mouseWheeled;lang.mixin(_b87.prototype,{_mouseWheeled:function(evt){if(!this.get("focused")){return;}return base.apply(this,arguments);}});_b87.prototype._mouseWheeled.nom="_mouseWheeled";});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_b88,_b89,keys,lang,has,_b8a,_b8b,_b8c,_b8d,_b8e){return _b88("dijit.form._Spinner",_b8c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_b8d,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_b8f,_b90,_b91){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_b90*_b91),false);_b8e.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_b92,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_b92==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_b89.stop(evt);var _b93=evt.wheelDelta/120;if(Math.floor(_b93)!=_b93){_b93=evt.wheelDelta>0?1:-1;}var _b94=evt.detail?(evt.detail*-1):_b93;if(_b94!==0){var node=this[(_b94>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_b94,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_b95){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_b96,_b97){this.focusNode.setAttribute("aria-valuenow",_b96);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_b8a.wheel,"_mouseWheeled");this.own(_b8b.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b8b.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b8b.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_b8b.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_b98,_b99,_b9a,_b9b,lang,on,has,_b9c){var _b9d=(_b9c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_b9e,node,_b9f,obj,_ba0,_ba1,_ba2){if(obj!=this._obj){this.stop();this._initialDelay=_ba1||500;this._subsequentDelay=_ba0||0.9;this._minDelay=_ba2||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_b9e,_b9f);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_ba3,_ba4,_ba5,_ba6,_ba7,_ba8){if(_ba3.keyCode){_ba3.charOrCode=_ba3.keyCode;_b9b.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_ba3.charCode){_ba3.charOrCode=String.fromCharCode(_ba3.charCode);_b9b.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _ba9=[on(node,_b99._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_ba3.charOrCode&&(_ba3.ctrlKey===undefined||_ba3.ctrlKey==evt.ctrlKey)&&(_ba3.altKey===undefined||_ba3.altKey==evt.altKey)&&(_ba3.metaKey===undefined||_ba3.metaKey==(evt.metaKey||false))&&(_ba3.shiftKey===undefined||_ba3.shiftKey==evt.shiftKey)){_b9a.stop(evt);_b9d.trigger(evt,_ba4,node,_ba5,_ba3,_ba6,_ba7,_ba8);}else{if(_b9d._obj==_ba3){_b9d.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_b9d._obj==_ba3){_b9d.stop();}}))];return {remove:function(){_b98.forEach(_ba9,function(h){h.remove();});}};},addMouseListener:function(node,_baa,_bab,_bac,_bad,_bae){var _baf=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_b9d.trigger(evt,_baa,node,_bab,node,_bac,_bad,_bae);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_b9d.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_b9d.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_b9d.trigger(evt,_baa,node,_bab,node,_bac,_bad,_bae);setTimeout(lang.hitch(this,_b9d.stop),50);}}))];return {remove:function(){_b98.forEach(_baf,function(h){h.remove();});}};},addListener:function(_bb0,_bb1,_bb2,_bb3,_bb4,_bb5,_bb6,_bb7){var _bb8=[this.addKeyListener(_bb1,_bb2,_bb3,_bb4,_bb5,_bb6,_bb7),this.addMouseListener(_bb0,_bb3,_bb4,_bb5,_bb6,_bb7)];return {remove:function(){_b98.forEach(_bb8,function(h){h.remove();});}};}});return _b9d;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_bb9,i18n,_bba){var _bbb=_bb9("dijit.form.RangeBoundTextBox",_bba,{rangeMessage:"",rangeCheck:function(_bbc,_bbd){return ("min" in _bbd?(this.compare(_bbc,_bbd.min)>=0):true)&&("max" in _bbd?(this.compare(_bbc,_bbd.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _bbe=false;if("min" in this.constraints){var min=this.constraints.min;_bbe=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_bbe&&("max" in this.constraints)){var max=this.constraints.max;_bbe=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _bbe;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_bbf){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_bbf));},getErrorMessage:function(_bc0){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_bc0)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},applyTextDir:function(){}});return _bbb;});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","epi/patch/dijit/form/NumberSpinner":function(){define("epi/patch/dijit/form/NumberSpinner",["dojo/_base/lang","dijit/form/NumberSpinner"],function(lang,_bc1){lang.mixin(_bc1.prototype,{adjust:function(val,_bc2){if(!this.focused){this.focus();}var tc=this.constraints,v=isNaN(val),_bc3=!isNaN(tc.max),_bc4=!isNaN(tc.min);if(v&&_bc2!=0){val=_bc2;}var _bc5=val+_bc2;if(v||isNaN(_bc5)){return val;}if(_bc3&&(_bc5>tc.max)){_bc5=tc.max;}if(_bc4&&(_bc5<tc.min)){_bc5=tc.min;}return _bc5;}});_bc1.prototype.adjust.nom="adjust";});},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_bc6,_bc7,keys,_bc8,_bc9){return _bc6("dijit.form.NumberSpinner",[_bc8,_bc9.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_bca){var tc=this.constraints,v=isNaN(val),_bcb=!isNaN(tc.max),_bcc=!isNaN(tc.min);if(v&&_bca!=0){val=(_bca>0)?_bcc?tc.min:_bcb?tc.max:0:_bcb?this.constraints.max:_bcc?tc.min:0;}var _bcd=val+_bca;if(v||isNaN(_bcd)){return val;}if(_bcb&&(_bcd>tc.max)){_bcd=tc.max;}if(_bcc&&(_bcd<tc.min)){_bcd=tc.min;}return _bcd;},_onKeyPress:function(e){if(this.disabled||this.readOnly){return;}if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _bce=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _bce=="number"){this._setValueAttr(_bce,false);}_bc7.stop(e);}}});});},"dijit/form/NumberTextBox":function(){define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_bcf,lang,_bd0,_bd1){var _bd2=_bcf("dijit.form.NumberTextBoxMixin",null,{pattern:_bd0.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:_bd0.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_bd3){var _bd4=typeof _bd3.places=="number"?_bd3.places:0;if(_bd4){_bd4++;}if(typeof _bd3.max!="number"){_bd3.max=9*Math.pow(10,15-_bd4);}if(typeof _bd3.min!="number"){_bd3.min=-9*Math.pow(10,15-_bd4);}this.inherited(arguments,[_bd3]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled||this.readOnly){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _bd5=this.format(val,this.constraints);if(_bd5!==undefined){this.textbox.value=_bd5;}}this.inherited(arguments);},format:function(_bd6,_bd7){var _bd8=String(_bd6);if(typeof _bd6!="number"){return _bd8;}if(isNaN(_bd6)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_bd6,_bd7))&&_bd7.exponent!==false&&/\de[-+]?\d/i.test(_bd8)){return _bd8;}if(this.editOptions&&this.focused){_bd7=lang.mixin({},_bd7,this.editOptions);}return this._formatter(_bd6,_bd7);},_parser:_bd0.parse,parse:function(_bd9,_bda){var v=this._parser(_bd9,lang.mixin({},_bda,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_bd9,_bda);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_bdb){return (_bdb==null||_bdb==="")?NaN:this.inherited(arguments);},serialize:function(_bdc,_bdd){return (typeof _bdc!="number"||isNaN(_bdc))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.mixin({},this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_bde,_bdf,_be0){if(_bde!==undefined&&_be0===undefined){_be0=String(_bde);if(typeof _bde=="number"){if(isNaN(_bde)){_be0="";}else{if(("rangeCheck" in this&&this.rangeCheck(_bde,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_be0)){_be0=undefined;}}}else{if(!_bde){_be0="";_bde=NaN;}else{_bde=undefined;}}}this.inherited(arguments,[_bde,_bdf,_be0]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_bd0._realNumberRegexp(lang.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_be1){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _be2=_bcf("dijit.form.NumberTextBox",[_bd1,_bd2],{baseClass:"dijitTextBox dijitNumberTextBox"});_be2.Mixin=_bd2;return _be2;});},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_be3,_be4,_be5){var _be6={};lang.setObject("dojo.number",_be6);_be6.format=function(_be7,_be8){_be8=lang.mixin({},_be8||{});var _be9=i18n.normalizeLocale(_be8.locale),_bea=i18n.getLocalization("dojo.cldr","number",_be9);_be8.customs=_bea;var _beb=_be8.pattern||_bea[(_be8.type||"decimal")+"Format"];if(isNaN(_be7)||Math.abs(_be7)==Infinity){return null;}return _be6._applyPattern(_be7,_beb,_be8);};_be6._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_be6._applyPattern=function(_bec,_bed,_bee){_bee=_bee||{};var _bef=_bee.customs.group,_bf0=_bee.customs.decimal,_bf1=_bed.split(";"),_bf2=_bf1[0];_bed=_bf1[(_bec<0)?1:0]||("-"+_bf2);if(_bed.indexOf("%")!=-1){_bec*=100;}else{if(_bed.indexOf("‰")!=-1){_bec*=1000;}else{if(_bed.indexOf("¤")!=-1){_bef=_bee.customs.currencyGroup||_bef;_bf0=_bee.customs.currencyDecimal||_bf0;_bed=_bed.replace(/\u00a4{1,3}/,function(_bf3){var prop=["symbol","currency","displayName"][_bf3.length-1];return _bee[prop]||_bee.currency||"";});}else{if(_bed.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _bf4=_be6._numberPatternRE;var _bf5=_bf2.match(_bf4);if(!_bf5){throw new Error("unable to find a number expression in pattern: "+_bed);}if(_bee.fractional===false){_bee.places=0;}return _bed.replace(_bf4,_be6._formatAbsolute(_bec,_bf5[0],{decimal:_bf0,group:_bef,places:_bee.places,round:_bee.round}));};_be6.round=function(_bf6,_bf7,_bf8){var _bf9=10/(_bf8||10);return (_bf9*+_bf6).toFixed(_bf7)/_bf9;};if((0.9).toFixed()==0){var _bfa=_be6.round;_be6.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _bfa(v,p,m)+(v>0?d:-d);};}_be6._formatAbsolute=function(_bfb,_bfc,_bfd){_bfd=_bfd||{};if(_bfd.places===true){_bfd.places=0;}if(_bfd.places===Infinity){_bfd.places=6;}var _bfe=_bfc.split("."),_bff=typeof _bfd.places=="string"&&_bfd.places.indexOf(","),_c00=_bfd.places;if(_bff){_c00=_bfd.places.substring(_bff+1);}else{if(!(_c00>=0)){_c00=(_bfe[1]||[]).length;}}if(!(_bfd.round<0)){_bfb=_be6.round(_bfb,_c00,_bfd.round);}var _c01=String(Math.abs(_bfb)).split("."),_c02=_c01[1]||"";if(_bfe[1]||_bfd.places){if(_bff){_bfd.places=_bfd.places.substring(0,_bff);}var pad=_bfd.places!==undefined?_bfd.places:(_bfe[1]&&_bfe[1].lastIndexOf("0")+1);if(pad>_c02.length){_c01[1]=_be4.pad(_c02,pad,"0",true);}if(_c00<_c02.length){_c01[1]=_c02.substr(0,_c00);}}else{if(_c01[1]){_c01.pop();}}var _c03=_bfe[0].replace(",","");pad=_c03.indexOf("0");if(pad!=-1){pad=_c03.length-pad;if(pad>_c01[0].length){_c01[0]=_be4.pad(_c01[0],pad);}if(_c03.indexOf("#")==-1){_c01[0]=_c01[0].substr(_c01[0].length-pad);}}var _c04=_bfe[0].lastIndexOf(","),_c05,_c06;if(_c04!=-1){_c05=_bfe[0].length-_c04-1;var _c07=_bfe[0].substr(0,_c04);_c04=_c07.lastIndexOf(",");if(_c04!=-1){_c06=_c07.length-_c04-1;}}var _c08=[];for(var _c09=_c01[0];_c09;){var off=_c09.length-_c05;_c08.push((off>0)?_c09.substr(off):_c09);_c09=(off>0)?_c09.slice(0,off):"";if(_c06){_c05=_c06;delete _c06;}}_c01[0]=_c08.reverse().join(_bfd.group||",");return _c01.join(_bfd.decimal||".");};_be6.regexp=function(_c0a){return _be6._parseInfo(_c0a).regexp;};_be6._parseInfo=function(_c0b){_c0b=_c0b||{};var _c0c=i18n.normalizeLocale(_c0b.locale),_c0d=i18n.getLocalization("dojo.cldr","number",_c0c),_c0e=_c0b.pattern||_c0d[(_c0b.type||"decimal")+"Format"],_c0f=_c0d.group,_c10=_c0d.decimal,_c11=1;if(_c0e.indexOf("%")!=-1){_c11/=100;}else{if(_c0e.indexOf("‰")!=-1){_c11/=1000;}else{var _c12=_c0e.indexOf("¤")!=-1;if(_c12){_c0f=_c0d.currencyGroup||_c0f;_c10=_c0d.currencyDecimal||_c10;}}}var _c13=_c0e.split(";");if(_c13.length==1){_c13.push("-"+_c13[0]);}var re=_be5.buildGroupRE(_c13,function(_c14){_c14="(?:"+_be5.escapeString(_c14,".")+")";return _c14.replace(_be6._numberPatternRE,function(_c15){var _c16={signed:false,separator:_c0b.strict?_c0f:[_c0f,""],fractional:_c0b.fractional,decimal:_c10,exponent:false},_c17=_c15.split("."),_c18=_c0b.places;if(_c17.length==1&&_c11!=1){_c17[1]="###";}if(_c17.length==1||_c18===0){_c16.fractional=false;}else{if(_c18===undefined){_c18=_c0b.pattern?_c17[1].lastIndexOf("0")+1:Infinity;}if(_c18&&_c0b.fractional==undefined){_c16.fractional=true;}if(!_c0b.places&&(_c18<_c17[1].length)){_c18+=","+_c17[1].length;}_c16.places=_c18;}var _c19=_c17[0].split(",");if(_c19.length>1){_c16.groupSize=_c19.pop().length;if(_c19.length>1){_c16.groupSize2=_c19.pop().length;}}return "("+_be6._realNumberRegexp(_c16)+")";});},true);if(_c12){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_c1a,_c1b,_c1c,_c1d){var prop=["symbol","currency","displayName"][_c1c.length-1],_c1e=_be5.escapeString(_c0b[prop]||_c0b.currency||"");_c1b=_c1b?"[\\s\\xa0]":"";_c1d=_c1d?"[\\s\\xa0]":"";if(!_c0b.strict){if(_c1b){_c1b+="*";}if(_c1d){_c1d+="*";}return "(?:"+_c1b+_c1e+_c1d+")?";}return _c1b+_c1e+_c1d;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_c0f,decimal:_c10,factor:_c11};};_be6.parse=function(_c1f,_c20){var info=_be6._parseInfo(_c20),_c21=(new RegExp("^"+info.regexp+"$")).exec(_c1f);if(!_c21){return NaN;}var _c22=_c21[1];if(!_c21[1]){if(!_c21[2]){return NaN;}_c22=_c21[2];info.factor*=-1;}_c22=_c22.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _c22*info.factor;};_be6._realNumberRegexp=function(_c23){_c23=_c23||{};if(!("places" in _c23)){_c23.places=Infinity;}if(typeof _c23.decimal!="string"){_c23.decimal=".";}if(!("fractional" in _c23)||/^0/.test(_c23.places)){_c23.fractional=[true,false];}if(!("exponent" in _c23)){_c23.exponent=[true,false];}if(!("eSigned" in _c23)){_c23.eSigned=[true,false];}var _c24=_be6._integerRegexp(_c23),_c25=_be5.buildGroupRE(_c23.fractional,function(q){var re="";if(q&&(_c23.places!==0)){re="\\"+_c23.decimal;if(_c23.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_c23.places+"}";}}return re;},true);var _c26=_be5.buildGroupRE(_c23.exponent,function(q){if(q){return "([eE]"+_be6._integerRegexp({signed:_c23.eSigned})+")";}return "";});var _c27=_c24+_c25;if(_c25){_c27="(?:(?:"+_c27+")|(?:"+_c25+"))";}return _c27+_c26;};_be6._integerRegexp=function(_c28){_c28=_c28||{};if(!("signed" in _c28)){_c28.signed=[true,false];}if(!("separator" in _c28)){_c28.separator="";}else{if(!("groupSize" in _c28)){_c28.groupSize=3;}}var _c29=_be5.buildGroupRE(_c28.signed,function(q){return q?"[-+]":"";},true);var _c2a=_be5.buildGroupRE(_c28.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_be5.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_c28.groupSize,grp2=_c28.groupSize2;if(grp2){var _c2b="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_c2b+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_c2b;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _c29+_c2a;};return _be6;});},"epi/patch/dijit/_HasDropDown":function(){define("epi/patch/dijit/_HasDropDown",["dojo/_base/array","dojo/_base/lang","dijit/_HasDropDown"],function(_c2c,lang,_c2d){lang.mixin(_c2d.prototype,{_onBlur:function(){this.closeDropDown(false);this.inherited(arguments);},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);}});_c2d.prototype._onBlur.nom="_onBlur";_c2d.prototype.destroy.nom="destroy";});},"epi/patch/dojox/form/uploader/plugins/HTML5":function(){define("epi/patch/dojox/form/uploader/plugins/HTML5",["dojo/_base/lang","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5"],function(lang,_c2e,_c2f){lang.mixin(_c2f.prototype,{createXhr:function(){var xhr=new XMLHttpRequest();var _c30;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_c30);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_c30);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_c30);var _c31;try{_c31=JSON.parse(xhr.responseText.replace(/^\{\}&&/,""));}catch(e){this.onError({message:e.message,data:xhr.responseText,statusCode:xhr.status,headers:xhr.getAllResponseHeaders()});return;}this.onComplete(_c31);}});xhr.open("POST",this.getUrl());_c30=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_c30);}}),250);return xhr;}});_c2f.prototype.createXhr.nom="createXhr";});},"epi/patch/dijit/tree/Tree":function(){define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_c32,lang,_c33,_c34,Tree){lang.mixin(Tree._TreeNode.prototype,{setChildItems:function(_c35){var tree=this.tree,_c36=tree.model,defs=[];var _c37=this.getChildren();_c32.forEach(_c37,function(_c38){_c34.prototype.removeChild.call(this,_c38);},this);this.defer(function(){_c32.forEach(_c37,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _c39(node){var id=_c36.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _c3a=_c32.indexOf(ary,node);if(_c3a!=-1){ary.splice(_c3a,1);}}_c32.forEach(node.getChildren(),_c39);};_c39(node);node.destroyRecursive();}});});this.state="LOADED";if(_c35&&_c35.length>0){this.isExpandable=true;_c32.forEach(_c35,function(item){var id=_c36.getIdentity(item),_c3b=tree._itemNodesMap[id],node;if(_c3b){for(var i=0;i<_c3b.length;i++){if(_c3b[i]&&!_c3b[i].getParent()){node=_c3b[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_c36.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_c3b){_c3b.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_c32.forEach(this.getChildren(),function(_c3c){_c3c._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _c33(defs);this.tree._startPaint(def);return def;}});Tree._TreeNode.prototype.setChildItems.nom="setChildItems";lang.mixin(Tree.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});Tree.prototype._adjustWidths.nom="_adjustWidths";});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_c3d,_c3e){dojo.DeferredList=function(list,_c3f,_c40,_c41,_c42){var _c43=[];_c3d.call(this);var self=this;if(list.length===0&&!_c3f){this.resolve([0,[]]);}var _c44=0;_c3e.forEach(list,function(item,i){item.then(function(_c45){if(_c3f){self.resolve([i,_c45]);}else{_c46(true,_c45);}},function(_c47){if(_c40){self.reject(_c47);}else{_c46(false,_c47);}if(_c41){return null;}throw _c47;});function _c46(_c48,_c49){_c43[i]=[_c48,_c49];_c44++;if(_c44===list.length){self.resolve(_c43);}};});};dojo.DeferredList.prototype=new _c3d();dojo.DeferredList.prototype.gatherResults=function(_c4a){var d=new dojo.DeferredList(_c4a,false,true,false);d.addCallback(function(_c4b){var ret=[];_c3e.forEach(_c4b,function(_c4c){ret.push(_c4c[1]);});return ret;});return d;};return dojo.DeferredList;});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_c4d,_c4e,_c4f,_c50,_c51,_c52,dom,_c53,_c54,_c55,_c56,_c57,_c58,_c59,keys,lang,on,_c5a,_c5b,when,_c5c,_c5d,_c5e,_c5f,_c60,_c61,_c62,_c63,_c64,_c65,_c66,_c67,_c68){_c51=_c50(_c51,{addCallback:function(_c69){this.then(_c69);},addErrback:function(_c6a){this.then(null,_c6a);}});var _c6b=_c50("dijit._TreeNode",[_c5f,_c60,_c61,_c62,_c63],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_c64,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_c6c){var _c6d=(Math.max(_c6c,0)*this.tree._nodePixelIndent)+"px";_c55.set(this.domNode,"backgroundPosition",_c6d+" 0px");_c55.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_c6d);_c4d.forEach(this.getChildren(),function(_c6e){_c6e.set("indent",_c6c+1);});this._set("indent",_c6c);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_c6f=tree.model;if(tree._v10Compat&&item===_c6f.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_c70,_c71){var _c72="_"+_c70+"Class";var _c73=_c70+"Node";var _c74=this[_c72];this[_c72]=this.tree["get"+_c71+"Class"](item,this.isExpanded);_c53.replace(this[_c73],this[_c72]||"",_c74||"");_c55.set(this[_c73],this.tree["get"+_c71+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _c75=this.getParent();if(!_c75||!_c75.rowNode||_c75.rowNode.style.display=="none"){_c53.add(this.domNode,"dijitTreeIsRoot");}else{_c53.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_c76){var _c77=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_c78=["*","-","+","*"],idx=_c76?0:(this.isExpandable?(this.isExpanded?1:2):3);_c53.replace(this.expandoNode,_c77[idx],_c77);this.expandoNodeText.innerHTML=_c78[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_c53.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_c79=_c58.wipeIn({node:this.containerNode,duration:_c5e.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _c51(function(){_c79.stop();}));_c79.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_c53.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_c7a=_c58.wipeOut({node:this.containerNode,duration:_c5e.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _c51(function(){_c7a.stop();}));_c7a.play();return def;},indent:0,setChildItems:function(_c7b){var tree=this.tree,_c7c=tree.model,defs=[];var _c7d=this.getChildren();_c4d.forEach(_c7d,function(_c7e){_c61.prototype.removeChild.call(this,_c7e);},this);this.defer(function(){_c4d.forEach(_c7d,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_c7c.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _c7f=_c4d.indexOf(ary,node);if(_c7f!=-1){ary.splice(_c7f,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_c7b&&_c7b.length>0){this.isExpandable=true;_c4d.forEach(_c7b,function(item){var id=_c7c.getIdentity(item),_c80=tree._itemNodesMap[id],node;if(_c80){for(var i=0;i<_c80.length;i++){if(_c80[i]&&!_c80[i].getParent()){node=_c80[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_c7c.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_c80){_c80.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_c4d.forEach(this.getChildren(),function(_c81){_c81._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _c52(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _c82=this.getChildren();if(_c82.length==0){this.isExpandable=false;this.collapse();}_c4d.forEach(_c82,function(_c83){_c83._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_c84){this.labelNode.setAttribute("aria-selected",_c84?"true":"false");_c53.toggle(this.rowNode,"dijitTreeRowSelected",_c84);},setFocusable:function(_c85){this.labelNode.setAttribute("tabIndex",_c85?"0":"-1");},_setTextDirAttr:function(_c86){if(_c86&&((this.textDir!=_c86)||!this._created)){this._set("textDir",_c86);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_c4d.forEach(this.getChildren(),function(_c87){_c87.set("textDir",_c86);},this);}}});var Tree=_c50("dijit.Tree",[_c5f,_c60],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_c65,persist:true,autoExpand:false,dndController:_c68,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_c88,_c89){_c5a.publish(this.id,lang.mixin({tree:this,event:_c88},_c89||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _c51();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_c5b.enter),function(evt){self._onNodeMouseEnter(_c5d.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_c5b.leave),function(evt){self._onNodeMouseLeave(_c5d.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","click"),function(evt){self._onClick(_c5d.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","dblclick"),function(evt){self._onDblClick(_c5d.getEnclosingWidget(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_c5d.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_c5d.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_c5d.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _c8a={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_c8a[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_c8a);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_c59.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _c8b={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_c8b.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_c8b.getChildren=lang.hitch(this,function(item,_c8c,_c8d){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_c8c,_c8d);});}this.model=new _c67(_c8b);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");if(this["aria-label"]){rn.containerNode.setAttribute("aria-label",this["aria-label"]);this.domNode.removeAttribute("aria-label");}else{if(this["aria-labelledby"]){rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);this.domNode.removeAttribute("aria-labelledby");}}rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _c8e=this.model.getIdentity(item);if(this._itemNodesMap[_c8e]){this._itemNodesMap[_c8e].push(rn);}else{this._itemNodesMap[_c8e]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _c8f=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_c8f]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_c90){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _c91=_c4d.map(_c90,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _c92=[];_c4d.forEach(_c91,function(id){_c92=_c92.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_c92);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_c93){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _c52(_c4d.map(_c93,function(path){var d=new _c51();path=_c4d.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_c94(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_c95);function _c94(path,_c96,def){var _c97=path.shift();var _c98=_c4d.filter(_c96,function(node){return node.getIdentity()==_c97;})[0];if(!!_c98){if(path.length){tree._expandNode(_c98).then(function(){_c94(path,_c98.getChildren(),def);});}else{def.resolve(_c98);}}else{def.reject(new Tree.PathError("Could not expand path at "+_c97));}};function _c95(_c99){tree.set("selectedNodes",_c4d.map(_c4d.filter(_c99,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_c9a){this.dndController.setSelection(_c9a);},expandAll:function(){var _c9b=this;function _c9c(node){var def=new dojo.Deferred();_c9b._expandNode(node).then(function(){var _c9d=_c4d.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_c4d.map(_c9d,_c9c);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _c9c(this.rootNode);},collapseAll:function(){var _c9e=this;function _c9f(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _ca0=_c4d.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_c4d.map(_ca0,_c9f);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_c9e.rootNode&&!_c9e.showRoot)){def.resolve(true);}else{_c9e._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _c9f(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_ca1){return (!item||this.model.mayHaveChildren(item))?(_ca1?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_ca2,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_ca2,key:c.toLowerCase()});_c56.stop(e);}},_onKeyDown:function(_ca3,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_ca3,item:_ca3.item,evt:e});_c56.stop(e);}},_onEnterKey:function(_ca4){this._publish("execute",{item:_ca4.item,node:_ca4.node});this.dndController.userSelect(_ca4.node,_c4e.isCopyKey(_ca4.evt),_ca4.evt.shiftKey);this.onClick(_ca4.item,_ca4.node,_ca4.evt);},_onDownArrow:function(_ca5){var node=this._getNextNode(_ca5.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_ca6){var node=_ca6.node;var _ca7=node.getPreviousSibling();if(_ca7){node=_ca7;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _ca8=node.getChildren();node=_ca8[_ca8.length-1];}}else{var _ca9=node.getParent();if(!(!this.showRoot&&_ca9===this.rootNode)){node=_ca9;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_caa){var node=_caa.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_cab){var node=_cab.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _cac=node.getParent();if(_cac&&_cac.isTreeNode&&!(!this.showRoot&&_cac===this.rootNode)){this.focusNode(_cac);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_cad){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_cad.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_cad.key,startNode:_cad.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_cae){return dom.isDescendant(node,_cae.expandoNode)||dom.isDescendant(node,_cae.expandoNodeText);},_onClick:function(_caf,e){var _cb0=e.target,_cb1=this.isExpandoNode(_cb0,_caf);if((this.openOnClick&&_caf.isExpandable)||_cb1){if(_caf.isExpandable){this._onExpandoClick({node:_caf});}}else{this._publish("execute",{item:_caf.item,node:_caf,evt:e});this.onClick(_caf.item,_caf,e);this.focusNode(_caf);}_c56.stop(e);},_onDblClick:function(_cb2,e){var _cb3=e.target,_cb4=(_cb3==_cb2.expandoNode||_cb3==_cb2.expandoNodeText);if((this.openOnDblClick&&_cb2.isExpandable)||_cb4){if(_cb2.isExpandable){this._onExpandoClick({node:_cb2});}}else{this._publish("execute",{item:_cb2.item,node:_cb2,evt:e});this.onDblClick(_cb2.item,_cb2,e);this.focusNode(_cb2);}_c56.stop(e);},_onExpandoClick:function(_cb5){var node=_cb5.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _cb6=node.getNextSibling();if(_cb6){return _cb6;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _c51();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _cb7=this.model,item=node.item,_cb8=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _c51();_cb7.getChildren(item,function(_cb9){node.unmarkProcessing();node.setChildItems(_cb9).then(function(){node._loadDeferred.resolve(_cb9);});},function(err){console.error(_cb8,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_c5c.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _cba=this.model,_cbb=_cba.getIdentity(item),_cbc=this._itemNodesMap[_cbb];if(_cbc){var _cbd=this.getLabel(item),_cbe=this.getTooltip(item);_c4d.forEach(_cbc,function(node){node.set({item:item,label:_cbd,tooltip:_cbe});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_cbf,_cc0){var _cc1=this.model,_cc2=_cc1.getIdentity(_cbf),_cc3=this._itemNodesMap[_cc2];if(_cc3){_c4d.forEach(_cc3,function(_cc4){_cc4.setChildItems(_cc0);});}},_onItemDelete:function(item){var _cc5=this.model,_cc6=_cc5.getIdentity(item),_cc7=this._itemNodesMap[_cc6];if(_cc7){_c4d.forEach(_cc7,function(node){this.dndController.removeTreeNode(node);var _cc8=node.getParent();if(_cc8){_cc8.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_cc6];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_c4f(this.cookieName);if(oreo){_c4d.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_cc9){if(!this.persist){return false;}var path=_c4d.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_cc9){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_c4f(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_cca){if(_cca){_c54.setMarginBox(this.domNode,_cca);}this._nodePixelIndent=_c54.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _ccb=0,_ccc=[];function _ccd(_cce){var node=_cce.rowNode;node.style.width="auto";_ccb=Math.max(_ccb,node.clientWidth);_ccc.push(node);if(_cce.isExpanded){_c4d.forEach(_cce.getChildren(),_ccd);}};_ccd(this.rootNode);_ccb=Math.max(_ccb,_c54.getContentBox(this.domNode).w);_c4d.forEach(_ccc,function(node){node.style.width=_ccb+"px";});},_createTreeNode:function(args){return new _c6b(args);},_setTextDirAttr:function(_ccf){if(_ccf&&this.textDir!=_ccf){this._set("textDir",_ccf);this.rootNode.set("textDir",_ccf);}}});Tree.PathError=_c57("TreePathError");Tree._TreeNode=_c6b;return Tree;});},"dojo/fx":function(){define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_cd0,dojo,_cd1,_cd2,_cd3,dom,_cd4,geom,_cd5,_cd6){if(!dojo.isAsync){_cd5(0,function(){var _cd7=["./fx/Toggler"];_cd6(_cd7);});}var _cd8=dojo.fx={};var _cd9={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _cda=function(_cdb){this._index=-1;this._animations=_cdb||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_cd1.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_cda.prototype=new _cd0();lang.extend(_cda,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_cd2.disconnect(this._onAnimateCtx);_cd2.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_cd2.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_cd2.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_cdc,_cdd){if(!this._current){this._current=this._animations[this._index=0];}if(!_cdd&&this._current.status()=="playing"){return this;}var _cde=_cd2.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_cdf=_cd2.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_ce0=_cd2.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_cd2.disconnect(_cde);_cd2.disconnect(_cdf);_cd2.disconnect(_ce0);});if(this._onAnimateCtx){_cd2.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_cd2.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_cd2.disconnect(this._onEndCtx);}this._onEndCtx=_cd2.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_cd2.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_cd2.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_ce1,_ce2){this.pause();var _ce3=this.duration*_ce1;this._current=null;_cd1.some(this._animations,function(a){if(a.duration<=_ce3){this._current=a;return true;}_ce3-=a.duration;return false;});if(this._current){this._current.gotoPercent(_ce3/this._current.duration,_ce2);}return this;},stop:function(_ce4){if(this._current){if(_ce4){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_cd2.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_cd2.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_cd2.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_cd2.disconnect(this._onEndCtx);}}});lang.extend(_cda,_cd9);_cd8.chain=function(_ce5){return new _cda(_ce5);};var _ce6=function(_ce7){this._animations=_ce7||[];this._connects=[];this._finished=0;this.duration=0;_cd1.forEach(_ce7,function(a){var _ce8=a.duration;if(a.delay){_ce8+=a.delay;}if(this.duration<_ce8){this.duration=_ce8;}this._connects.push(_cd2.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _cd3.Animation({curve:[0,1],duration:this.duration});var self=this;_cd1.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_cd2.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_ce6,{_doAction:function(_ce9,args){_cd1.forEach(this._animations,function(a){a[_ce9].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_cea,args){var t=this._pseudoAnimation;t[_cea].apply(t,args);},play:function(_ceb,_cec){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_ced,_cee){var ms=this.duration*_ced;_cd1.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_cee);});this._call("gotoPercent",arguments);return this;},stop:function(_cef){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_cd1.forEach(this._connects,_cd2.disconnect);}});lang.extend(_ce6,_cd9);_cd8.combine=function(_cf0){return new _ce6(_cf0);};_cd8.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_cd3.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _cf1=_cd4.get(node,"height");return Math.max(_cf1,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_cd2.connect(anim,"onStop",fini);_cd2.connect(anim,"onEnd",fini);return anim;};_cd8.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_cd3.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_cd2.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_cd2.connect(anim,"onStop",fini);_cd2.connect(anim,"onEnd",fini);return anim;};_cd8.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_cd4.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_cd3.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_cd2.connect(anim,"beforeBegin",anim,init);return anim;};return _cd8;});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\"\n\t\t\t\t\ttabindex=\"-1\" aria-selected=\"false\" id=\"${id}_label\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\"\n\t\t style=\"display: none;\" aria-labelledby=\"${id}_label\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_cf2,_cf3,_cf4,lang){return _cf4("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _cf5=this.store;if(!_cf5.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_cf5.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_cf3.after(_cf5,"onNew",lang.hitch(this,"onNewItem"),true),_cf3.after(_cf5,"onDelete",lang.hitch(this,"onDeleteItem"),true),_cf3.after(_cf5,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_cf6,_cf7){if(this.root){_cf6(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_cf8){if(_cf8.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_cf8.length+" items, but must return exactly one");}this.root=_cf8[0];_cf6(this.root);}),onError:_cf7});}},mayHaveChildren:function(item){return _cf2.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_cf9,_cfa,_cfb){var _cfc=this.store;if(!_cfc.isItemLoaded(_cf9)){var _cfd=lang.hitch(this,arguments.callee);_cfc.loadItem({item:_cf9,onItem:function(_cfe){_cfd(_cfe,_cfa,_cfb);},onError:_cfb});return;}var _cff=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_cfc.getValues(_cf9,this.childrenAttrs[i]);_cff=_cff.concat(vals);}var _d00=0;if(!this.deferItemLoadingUntilExpand){_cf2.forEach(_cff,function(item){if(!_cfc.isItemLoaded(item)){_d00++;}});}if(_d00==0){_cfa(_cff);}else{_cf2.forEach(_cff,function(item,idx){if(!_cfc.isItemLoaded(item)){_cfc.loadItem({item:item,onItem:function(item){_cff[idx]=item;if(--_d00==0){_cfa(_cff);}},onError:_cfb});}});}},isItem:function(_d01){return this.store.isItem(_d01);},fetchItemByIdentity:function(_d02){this.store.fetchItemByIdentity(_d02);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_d03,_d04){var _d05={parent:_d03,attribute:this.childrenAttrs[0]},_d06;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_d03,true,_d04);}else{_d06=this.store.newItem(args,_d05);if(_d06&&(_d04!=undefined)){this.pasteItem(_d06,_d03,_d03,false,_d04);}}}});}else{_d06=this.store.newItem(args,_d05);if(_d06&&(_d04!=undefined)){this.pasteItem(_d06,_d03,_d03,false,_d04);}}},pasteItem:function(_d07,_d08,_d09,_d0a,_d0b){var _d0c=this.store,_d0d=this.childrenAttrs[0];if(_d08){_cf2.forEach(this.childrenAttrs,function(attr){if(_d0c.containsValue(_d08,attr,_d07)){if(!_d0a){var _d0e=_cf2.filter(_d0c.getValues(_d08,attr),function(x){return x!=_d07;});_d0c.setValues(_d08,attr,_d0e);}_d0d=attr;}});}if(_d09){if(typeof _d0b=="number"){var _d0f=_d0c.getValues(_d09,_d0d).slice();_d0f.splice(_d0b,0,_d07);_d0c.setValues(_d09,_d0d,_d0f);}else{_d0c.setValues(_d09,_d0d,_d0c.getValues(_d09,_d0d).concat(_d07));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_d10){if(!_d10){return;}this.getChildren(_d10.item,lang.hitch(this,function(_d11){this.onChildrenChange(_d10.item,_d11);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_d12){if(_cf2.indexOf(this.childrenAttrs,_d12)!=-1){this.getChildren(item,lang.hitch(this,function(_d13){this.onChildrenChange(item,_d13);}));}else{this.onChange(item);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_d14,_d15,_d16,lang,_d17){return _d15("dijit.tree.ForestStoreModel",_d17,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_d18){this.root={store:this,root:true,id:_d18.rootId,label:_d18.rootLabel,children:_d18.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_d19,_d1a,_d1b){if(_d19===this.root){if(this.root.children){_d1a(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_d1c){this.root.children=_d1c;_d1a(_d1c);}),onError:_d1b});}}else{this.inherited(arguments);}},isItem:function(_d1d){return (_d1d===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_d1e){if(_d1e.identity==this.root.id){var _d1f=_d1e.scope||_d16.global;if(_d1e.onItem){_d1e.onItem.call(_d1f,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_d20,_d21){if(_d20===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_d22,_d23,_d24,_d25,_d26){if(_d23===this.root){if(!_d25){this.onLeaveRoot(_d22);}}this.inherited(arguments,[_d22,_d23===this.root?null:_d23,_d24===this.root?null:_d24,_d25,_d26]);if(_d24===this.root){this.onAddToRoot(_d22);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _d27=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_d28){this.root.children=_d28;if(_d27.length!=_d28.length||_d14.some(_d27,function(item,idx){return _d28[idx]!=item;})){this.onChildrenChange(this.root,_d28);}})});},onNewItem:function(item,_d29){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_d14.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_d2a,_d2b,_d2c){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_d2d,_d2e,_d2f,_d30,_d31,lang,_d32,_d33,on,_d34,_d35){return _d2f("dijit.tree._dndSelector",_d35,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_d34.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_d34.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_d34.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _d36=[],sel=this.selection;for(var i in sel){_d36.push(sel[i]);}return _d36;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_d37){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_d37){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_d38){var _d39=this.getSelectedTreeNodes();_d2d.forEach(this._setDifference(_d39,_d38),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_d2d.forEach(this._setDifference(_d38,_d39),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_d2d.forEach(ys,function(y){y.__exclude__=true;});var ret=_d2d.filter(xs,function(x){return !x.__exclude__;});_d2d.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _d3a=this.getSelectedTreeNodes();var _d3b=[],_d3c=[],_d3d=[];_d2d.forEach(_d3a,function(node){var ary=node.getTreePath(),_d3e=this.tree.model;_d3c.push(node);_d3b.push(ary);ary=_d2d.map(ary,function(item){return _d3e.getIdentity(item);},this);_d3d.push(ary.join("/"));},this);var _d3f=_d2d.map(_d3c,function(node){return node.item;});this.tree._set("paths",_d3b);this.tree._set("path",_d3b[0]||[]);this.tree._set("selectedNodes",_d3c);this.tree._set("selectedNode",_d3c[0]||null);this.tree._set("selectedItems",_d3f);this.tree._set("selectedItem",_d3f[0]||null);if(this.tree.persist&&_d3d.length>0){_d32(this.cookieName,_d3d.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_d40=[];oreo=_d32(tree.dndController.cookieName);if(oreo){_d40=_d2d.map(oreo.split(","),function(path){return path.split("/");});}return _d40;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(e.type=="mousedown"&&_d33.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _d41=this.current,copy=_d2e.isCopyKey(e),id=_d41.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_d41,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_d2e.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_d42,_d43){if(this.singular){if(this.anchor==node&&_d42){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_d43&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_d44,end,_d45=this.anchor;if(cr<0){_d44=_d45;end=node;}else{_d44=node;end=_d45;}var _d46=[];while(_d44!=end){_d46.push(_d44);_d44=this.tree._getNextNode(_d44);}_d46.push(end);this.setSelection(_d46);}else{if(this.selection[node.id]&&_d42){this.removeTreeNode(node);}else{if(_d42){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _d47=this.selection[key];return {data:_d47,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_d31.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_d48,_d49,_d4a,_d4b,lang,on,_d4c){return _d49("dijit.tree._dndContainer",null,{constructor:function(tree,_d4d){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_d4d);this.current=null;this.containerState="";_d4a.add(this.node,"dojoDndContainer");this.events=[on(this.node,_d4c.enter,lang.hitch(this,"onOverEvent")),on(this.node,_d4c.leave,lang.hitch(this,"onOutEvent")),_d48.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_d48.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_d4b,"stop")),on(this.node,"selectstart",lang.hitch(_d4b,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_d4e){this.current=_d4e;},onMouseOut:function(){this.current=null;},_changeState:function(type,_d4f){var _d50="dojoDnd"+type;var _d51=type.toLowerCase()+"State";_d4a.replace(this.node,_d50+_d4f,_d50+this[_d51]);this[_d51]=_d4f;},_addItemClass:function(node,type){_d4a.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_d4a.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"epi/patch/dijit/Dialog":function(){define("epi/patch/dijit/Dialog",["dojo/_base/lang","dijit/Dialog"],function(lang,_d52){lang.mixin(_d52.prototype,{_onBlur:function(){}});_d52.prototype._onBlur.nom="_onBlur";});},"epi/patch/dojo/dnd/Selector":function(){define("epi/patch/dojo/dnd/Selector",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Selector","dojo/mouse"],function(lang,dnd,_d53,_d54){lang.mixin(_d53.prototype,{onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_d54.isLeft(e)){e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.preventDefault();}});_d53.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/dnd/Moveable":function(){define("epi/patch/dojo/dnd/Moveable",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Moveable","dojo/touch","dojo/on"],function(lang,dnd,_d55,_d56,on){lang.mixin(_d55.prototype,{onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_d56.move,lang.hitch(this,"onMouseMove")),on(this.handle,_d56.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}e.preventDefault();}});_d55.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/store/Observable":function(){define("epi/patch/dojo/store/Observable",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/array"],function(_d57,lang,_d58,_d59){var _d5a=function(_d5b){var _d5c,_d5d=[],_d5e=0;_d5b=lang.delegate(_d5b);_d5b.notify=function(_d5f,_d60){_d5e++;var _d61=_d5d.slice();for(var i=0,l=_d61.length;i<l;i++){_d61[i](_d5f,_d60);}};var _d62=_d5b.query;_d5b.query=function(_d63,_d64){_d64=_d64||{};var _d65=_d62.apply(this,arguments);if(_d65&&_d65.forEach){var _d66=lang.mixin({},_d64);delete _d66.start;delete _d66.count;var _d67=_d5b.queryEngine&&_d5b.queryEngine(_d63,_d66);var _d68=_d5e;var _d69=[],_d6a;_d65.observe=function(_d6b,_d6c){if(_d69.push(_d6b)==1){_d5d.push(_d6a=function(_d6d,_d6e){_d58.when(_d65,function(_d6f){if(_d5d.indexOf(_d6a)===-1){return;}var _d70=_d6f.length!=_d64.count;var i,l,_d6b;if(++_d68!=_d5e){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _d71,_d72=-1,_d73=-1;if(_d6e!==_d5c){for(i=0,l=_d6f.length;i<l;i++){var _d74=_d6f[i];if(_d5b.getIdentity(_d74)==_d6e){_d71=_d74;_d72=i;if(_d67||!_d6d){_d6f.splice(i,1);}break;}}}if(_d67){if(_d6d&&(_d67.matches?_d67.matches(_d6d):_d67([_d6d]).length)){var _d75=_d72>-1?_d72:_d6f.length;_d6f.splice(_d75,0,_d6d);_d73=_d59.indexOf(_d67(_d6f),_d6d);_d6f.splice(_d75,1);if((_d64.start&&_d73==0)||(!_d70&&_d73==_d6f.length)){_d73=-1;}else{_d6f.splice(_d73,0,_d6d);}}}else{if(_d6d){if(_d6e!==_d5c){_d73=_d72;}else{if(!_d64.start){_d73=_d5b.defaultIndex||0;_d6f.splice(_d73,0,_d6d);}}}}if((_d72>-1||_d73>-1)&&(_d6c||!_d67||(_d72!=_d73))){var _d76=_d69.slice();for(i=0;_d6b=_d76[i];i++){_d6b(_d6d||_d71,_d72,_d73);}}});});}var _d77={};_d77.remove=_d77.cancel=function(){var _d78=_d59.indexOf(_d69,_d6b);if(_d78>-1){_d69.splice(_d78,1);if(!_d69.length){_d5d.splice(_d59.indexOf(_d5d,_d6a),1);}}};return _d77;};}return _d65;};var _d79;function _d7a(_d7b,_d7c){var _d7d=_d5b[_d7b];if(_d7d){_d5b[_d7b]=function(_d7e){if(_d79){return _d7d.apply(this,arguments);}_d79=true;try{var _d7f=_d7d.apply(this,arguments);_d58.when(_d7f,function(_d80){_d7c((typeof _d80=="object"&&_d80)||_d7e);});return _d7f;}finally{_d79=false;}};}};_d7a("put",function(_d81){_d5b.notify(_d81,_d5b.getIdentity(_d81));});_d7a("add",function(_d82){_d5b.notify(_d82);});_d7a("remove",function(id){_d5b.notify(undefined,id);});return _d5b;};lang.setObject("dojo.store.Observable",_d5a);return _d5a;});},"epi/patch/dojo/cldr/nls/nb/gregorian":function(){define("epi/patch/dojo/cldr/nls/nb/gregorian",["dojo/cldr/nls/nb/gregorian","dojo/i18n"],function(_d83,i18n){_d83["dateTimeFormat-medium"]="{1} {0}";_d83["dateTimeFormat-long"]="{1} {0}";_d83["dateTimeFormat-short"]="{1} {0}";_d83["dateTimeFormat-full"]="{1} {0}";var _d84="dojo/cldr/nls/gregorian/nb-no";if(i18n.cache[_d84]){i18n.cache[_d84]=_d83;}});},"epi/shell/store/Registry":function(){define(["dojo","dojo/store/Memory","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Throttle"],function(dojo,_d85,_d86,_d87,_d88){return dojo.declare(null,{constructor:function(_d89){dojo.mixin(this,_d89);this._stores={};},add:function(name,_d8a){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}return (this._stores[name]=_d8a);},create:function(name,url,_d8b){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}var _d8c=new _d85(_d8b),rest=new _d86(dojo.mixin({target:url,preventCache:true},_d8b)),_d8d=_d87(_d88(rest,"get"),_d8c),_d8e=_d88(_d8d,"query");return (this._stores[name]=_d8e);},get:function(name){var _d8f=this._stores[name];if(!_d8f){throw new Error("No store by the name '"+name+"' exists.");}return _d8f;}});});},"epi/shell/store/Patchable":function(){define(["dojo/_base/lang","dojo/Deferred","dojo/promise/all","dojo/store/Cache","dojo/store/Observable","dojo/when"],function(lang,_d90,all,_d91,_d92,when){return function(_d93,_d94,_d95){var _d96=_d91(_d93,_d94,_d95||{}),_d97=[];var _d98=function(_d99,_d9a){if(typeof _d99!==typeof _d9a){console.error("The store was queried with a ["+typeof _d99+"] but the entity id is a ["+typeof _d9a+"]");}};var _d9b=function(_d9c,_d9d){if(typeof _d9d=="object"){_d9c[_d9e.idProperty]=_d9d[_d9e.idProperty];}else{_d9c[_d9e.idProperty]=_d9d;}};var _d9f=function(_da0){if(_da0._cached){_da0._cached=new Date();}else{Object.defineProperty(_da0,"_cached",{value:new Date(),enumerable:false});}return _da0;};var _da1=function(_da2){if(!_da2._cached){return false;}var now=new Date();now.setMinutes(now.getMinutes()-5);return now>_da2._cached;};_d96.get=function(id,_da3){return when(_d94.get(id),function(_da4){if(_da4){if(_da1(_da4)){_d96.evict(id,_da3);_da4=null;}}return _da4||when(_d93.get(id,_da3),function(_da5){if(_da5){_d98(id,_da5[_d93.idProperty]);_d94.put(_d9f(_da5),{id:id});}return _da5;});});};_d96.put=function(_da6,_da7){_d94.remove((_da7&&_da7.id)||this.getIdentity(_da6));return when(_d93.put(_da6,_da7),function(_da8){_d9b(_da6,_da8);_d94.put(typeof _da8=="object"?_d9f(_da8):_d9f(_da6),_da7);return _da8;});};_d96.add=function(_da9,_daa){return when(_d93.add(_da9,_daa),function(_dab){_d9b(_da9,_dab);_d94.add(typeof _dab=="object"?_d9f(_dab):_d9f(_da9),_daa);return _dab;});};var _dac=function(obj){return obj&&lang.isObject(obj)&&!lang.isArray(obj)&&!lang.isFunction(obj);};var _dad=function(dest,_dae){var name,s,_daf={};for(name in _dae){s=_dae[name];if(name in dest&&(dest[name]!==s&&(!(name in _daf)||_daf[name]!==s))){if(_dac(s)&&_dac(dest[name])){_dad(dest[name],s);}else{dest[name]=s;}}}return dest;};var _d9e=lang.delegate(_d92(_d96),{refresh:function(id){return when(this.evict(id),lang.hitch(this,function(){return when(this.get(id),lang.hitch(this,function(_db0){if(_db0){this.notify(_db0,id);this.updateDependentStores(_db0);this.onItemChanged(id,_db0);}return _db0;}));}));},removeRange:function(ids){var self=this;var _db1=ids.map(function(id){self.evict(id);});var _db2=all(_db1).then(function(){return when(self.executeMethod("DeleteRange","",ids));});_db2.then(function(){ids.forEach(function(id){self.notify(undefined,id);});});return _db2;},patchCache:function(_db3){if(!_db3){return;}var id=this.getIdentity(_db3);return when(this.get(id),lang.hitch(this,function(_db4){if(_db4){_db4=_dad(_db4,_db3);when(_d94.put(_db4,{overwrite:true}),lang.hitch(this,function(){this.notify(_db4,id);this.updateDependentStores(_db3);this.onItemChanged(id,_db4);}));}return _db4;}));},addDependentStore:function(_db5,_db6){if(!_db5.patchCache){throw new Error("addDependentStore: The store must implement the patch method.");}_d97.push({store:_db5,options:_db6||{}});},updateDependentStores:function(_db7){for(var i=_d97.length-1;i>=0;i--){var _db8=_d97[i].store;if(_d97[i].options.refreshOnPatch){var _db9=_d97[i].options.refresh;if(typeof _db9==="function"){_db9(_db7);}else{_db8.refresh(this.getIdentity(_db7));}}else{var _dba=_d97[i].options.transformDelegate;_db8.patchCache(typeof _dba==="function"?_dba(_db7):_db7);}}},onItemChanged:function(id,item){}});return _d9e;};});},"epi/shell/widget/Application":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-style","dojo/on","dojo/when","dijit/layout/_LayoutWidget","epi/dependency"],function(_dbb,_dbc,_dbd,on,when,_dbe,_dbf){return _dbc([_dbe],{_componentController:null,postMixInProperties:function(){this.inherited(arguments);this._componentController=this._componentController||_dbf.resolve("epi.shell.controller.Components");},startup:function(){var self=this,_dc0;if(this._started){return;}this.inherited(arguments);_dc0=[this.containerNode];_dbd.set(this.domNode,"visibility","hidden");when(this._componentController.loadComponents(_dc0),function(_dc1){_dbb.forEach(_dc1,function(_dc2){self._setupChild(_dc2);});self.resize();_dbd.set(self.domNode,"visibility","visible");},function(e){console.error(e.stack||e);});},layout:function(){var size=this._contentBox;_dbb.forEach(this.getChildren(),function(_dc3){_dc3.resize&&_dc3.resize(size);});}});});},"epi/shell/ContextHistory":function(){define("epi/shell/ContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable","dojo/topic"],function(_dc4,lang,_dc5,_dc6,_dc7){return _dc4(null,{store:null,constructor:function(_dc8){lang.mixin(this,_dc8);this.store=_dc6(this.createStore());},postscript:function(){_dc7.subscribe("/epi/shell/context/changed",lang.hitch(this,this.onContextChanged));},onContextChanged:function(_dc9,_dca,_dcb){if(this._canExecute(_dca)){this._updateStore(_dc9);}},createStoreItem:function(_dcc){return {publicUrl:_dcc.publicUrl,id:_dcc.versionAgnosticUri,uri:_dcc.versionAgnosticUri,name:_dcc.name,typeIdentifier:_dcc.dataType,dateAdded:new Date()};},createStore:function(){return new _dc5({data:[],idProperty:"uri"});},_canExecute:function(_dcd){return _dcd&&_dcd.trigger!="internal";},_updateStore:function(_dce){var _dcf=this.createStoreItem(_dce);this.store.put(_dcf,{overwrite:true});if(this.store.data.length>100){this.store.data.shift();}}});});},"epi/shell/ViewContextHistory":function(){define("epi/shell/ViewContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/topic","epi/dependency","epi/shell/ViewSettings"],function(_dd0,lang,_dd1,_dd2,_dd3,_dd4){return _dd0([_dd1],{profile:null,viewName:null,postscript:function(){this.inherited(arguments);_dd2.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));_dd2.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"_onContextChangeFailed"));if(!this.profile){this.profile=_dd3.resolve("epi.shell.Profile");}if(!this.viewName){this.viewName=_dd4.viewName;}},getLastContextForView:function(){return this.get("profile").get(this._getLastContextProfileKey());},_onContextChanged:function(_dd5,_dd6){return this._setLastContextForView(_dd5);},_onContextChangeFailed:function(_dd7,_dd8){this._setLastContextForView(null);},_setLastContextForView:function(_dd9){return this.get("profile").set(this._getLastContextProfileKey(),_dd9,{location:"session"});},_getLastContextProfileKey:function(){return "lastContext"+this.get("viewName");}});});},"epi/shell/widget/ComponentController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/has","dojo/promise/all","dojo/when","dojo/store/JsonRest","dojo/store/Memory","dijit/_WidgetBase","epi/dependency","epi/routes","require","epi/shell/ViewSettings","epi/shell/widget/WidgetFactory"],function(_dda,_ddb,_ddc,lang,_ddd,has,all,when,_dde,_ddf,_de0,_de1,_de2,_de3,_de4,_de5){return _ddb([_de0],{moduleArea:null,widgetFactory:null,_componentsMemoryStore:null,_componentsStore:null,_componentsSortOrderStore:null,_saveComponentRequestQueue:[],_isSaveComponentRequestInProgress:false,postMixInProperties:function(){var _de6;this.inherited(arguments);this.widgetFactory=this.widgetFactory||_de1.resolve("epi.shell.widget.WidgetFactory");_de6=_de1.resolve("epi.storeregistry");this._componentsStore=this._componentsStore||_de6.get("epi.shell.component");this._componentsSortOrderStore=this._componentsSortOrderStore||_de6.get("epi.shell.componentsortorder");this._componentsMemoryStore=new _ddf();this.own(_ddd.after(this.widgetFactory,"onWidgetCreated",lang.hitch(this,this.onComponentCreated),true));},onComponentCreated:function(_de7,_de8){var cd=lang.clone(_de8);cd._widgetId=_de7.get("id");this._componentsMemoryStore.put(cd);},_queryComponentDefinitions:function(_de9){return this._componentsMemoryStore.query(_de9);},_runSaveComponentRequest:function(_dea){var self=this,_deb;if(_dea||!this._isSaveComponentRequestInProgress){this._isSaveComponentRequestInProgress=true;_deb=this._saveComponentRequestQueue.shift();if(_deb){this._componentsStore.put(_deb.item).then(function(_dec){if(_deb.promise!=null){_deb.promise.resolve(_dec);}self._runSaveComponentRequest(true);},function(_ded){if(_deb.promise!=null){_deb.promise.reject(_ded);}self._runSaveComponentRequest(true);});}else{this._isSaveComponentRequestInProgress=false;}}},getComponentDefinition:function(_dee){return this._queryComponentDefinitions({_widgetId:_dee})[0];},getComponentDefinitionById:function(id){return this._queryComponentDefinitions({id:id})[0];},getEmptyComponentDefinition:function(_def,_df0){when(this._componentsStore.query({componentTypeName:_def}),_df0);},getComponentsForContainer:function(_df1){var _df2=this.getComponentDefinition(_df1.id).id;return this._componentsStore.query({viewName:_de4.viewName,parentId:_df2});},getComponentsForView:function(view,_df3){return this._componentsStore.query({viewName:view});},removeComponent:function(_df4){var self=this;return when(this._componentsStore.remove(_df4+"?viewName="+_de4.viewName),function(){self._componentsMemoryStore.remove(_df4);});},saveComponent:function(_df5){var _df6=lang.clone(_df5),_df7=new _ddc();delete _df6["components"];this._saveComponentRequestQueue.push({"item":_df6,"promise":_df7});this._runSaveComponentRequest(false);return _df7.promise;},sortComponents:function(_df8,_df9,_dfa){var _dfb=this.getComponentDefinition(_df8.id).id;when(this._componentsSortOrderStore.put({id:_dfb,viewName:_de4.viewName,components:_df9}),_dfa);},addComponent:function(_dfc,_dfd,_dfe,_dff){var _e00=this.getComponentDefinition(_dfc.id).id;var _e01=lang.clone(_dfd);delete _e01["id"];_e01.parentId=_e00;_e01.viewName=_de4.viewName;var self=this;when(this._componentsStore.put(_e01),function(){if(_e01.settings["routeData"]){_e01.settings.routeData.gadgetId=_e01.id;}if(_dfe){when(self.createComponents([_e01],_dfc),function(def){if(def){if(typeof _dff=="function"){_dff(true,_e01);}}});}},function(){alert("Error: could not add component");if(typeof _dff=="function"){_dff(false,_e01);}});},loadComponents:function(_e02){var self=this,def=new _ddc();if(!(_e02 instanceof Array)){_e02=[_e02];}when(this.getComponentsForView(_de4.viewName),function(data){if(false){var _e03=_de3.timedGroup("ComponentController::loadComponents");}var _e04=self._convertListToHierarchyByMatchingParent(data,"id","parentId","components");when(self.createComponents(_e04,_e02),function(_e05){if(false){_e03.end();}def.resolve(_e05);},function(e){console.error(e.stack||e);def.reject(e);});},function(){def.reject();});return def;},_convertListToHierarchyByMatchingParent:function(_e06,_e07,_e08,_e09){var map={};var _e0a=[];_dda.forEach(_e06,function(item){var id=item[_e07];map[id]=item;});_dda.forEach(_e06,function(item){var _e0b;var id=item[_e07];var _e0c=item[_e08];if(!(_e09 in item)){item[_e09]=[];}_e0b=map[_e0c];if(!_e0b||_e0b==item){if(_dda.indexOf(_e0a,item)<0){_e0a.push(item);}}else{if(!_e0b[_e09]){_e0b[_e09]=[];}_e0b[_e09].push(item);}});return _e0a;},createComponents:function(data,_e0d){var _e0e=this.widgetFactory,_e0f=data,_e10,node;if(_e0f instanceof Array&&_e0f.length>0){if(_e0f[0] instanceof Array){var _e11=[];for(var i=0;i<_e0f.length;i++){_e10=_e0f[i];_e11.push(_e0e.createWidgets(_e0d[i],_e10));}return all(_e11);}else{node=_e0d;if(node instanceof Array){node=node[0];}return _e0e.createWidgets(node,_e0f);}}return [];}});});},"epi/shell/command/GlobalCommandRegistry":function(){define(["dojo/_base/declare","epi/shell/command/CommandRegistryItem"],function(_e12,_e13){return _e12(null,{_mappings:null,constructor:function(_e14){this._mappings={};},registerProvider:function(key,_e15){var _e16=this._mappings[key];if(!_e16){_e16=new _e13();this._mappings[key]=_e16;}_e16.add("providers",_e15);return {unregister:function(){_e16.remove("providers",_e15);}};},get:function(key,_e17){var _e18=this._mappings[key];if(_e17&&!_e18){_e18=new _e13();this._mappings[key]=_e18;}return _e18;}});});},"epi/shell/command/CommandRegistryItem":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(_e19,_e1a,_e1b){return _e1a([_e1b],{providers:null,constructor:function(){this.providers=this.providers||[];}});});},"epi/shell/StatefulArray":function(){define("epi/shell/StatefulArray",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_e1c,_e1d,lang,_e1e){return _e1d([_e1e],{add:function(name,_e1f){var _e20,_e21=this[name];if(!lang.isArray(_e21)){throw name+" is not of type Array.";}_e20=_e21.push(_e1f);if(this._watchCallbacks){this._watchCallbacks(name,null,lang.isArray(_e1f)?_e1f:[_e1f]);}return _e20;},remove:function(name,_e22){var _e23,_e24,_e25=this[name];if(!lang.isArray(_e25)){throw name+" is not of type Array.";}_e23=_e1c.indexOf(_e25,_e22);if(_e23>=0){_e24=_e25.splice(_e23,1);if(this._watchCallbacks){this._watchCallbacks(name,_e24,null);}return _e24;}}});});},"epi/shell/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojo/dnd/common","dojox/html/entities"],function(_e26,win,_e27,_e28,_e29,_e2a,_e2b,_e2c){return _e26(null,{constructor:function(_e2d){this.manager=_e2d;this.construct();},construct:function(){this.isA11y=_e27.contains(win.body(),"dijit_a11y");var a=_e28.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_e2e=this.manager.source,node,_e2f=_e28.create("tbody",null,a),_e30=_e28.create("tr",null,_e2f),_e31=_e28.create("td",null,_e30),k=Math.min(5,this.manager.nodes.length),i=0,_e32=_e28.create("div",null,_e31),div=_e28.create("div",null,_e32),_e33=_e28.create("div",null,_e32),_e34=_e28.create("table",null,div),b=_e28.create("tbody",null,_e34);_e29.set(_e32,"class","epi-DndAvatarContainer");_e29.set(_e33,"class","epi-DndAvatarOverlay");for(;i<k;++i){if(_e2e.creator){var _e35=_e2e.getItem(this.manager.nodes[i].id).data;var _e36=_e2e._normalizedCreator(_e35,"avatar").node;var name=_e35.get?_e35.get("name"):_e35.name;_e36.innerHTML=_e2c.encode(typeof name=="string"?name:_e35);node=_e36;}else{node=this.manager.nodes[i].cloneNode(true);if(node.id){var _e37=_e2a.byId(node.id);if(_e37&&_e37.item&&_e37.item.name){node.innerHTML=_e2c.encode(_e37.item.name);}}if(node.tagName.toLowerCase()=="tr"){var _e38=_e28.create("table"),_e39=_e28.create("tbody",null,_e38);_e39.appendChild(node);node=_e38;}}node.id="";var tr=_e28.create("tr",null,b);var td=_e28.create("td",null,tr);td.appendChild(node);_e29.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}a.style.cursor="move";this.node=a;},destroy:function(){_e28.destroy(this.node);this.node=false;},update:function(){_e27.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);}});});},"epi/shell/customFocusIndicator":function(){define("epi/shell/customFocusIndicator",["dojo/_base/window","dojo/dom-class","dojo/on","dojo/domReady!"],function(win,_e3a,on){var body=win.body();var _e3b=function(){_e3a.add(body,"epi-mouse-focus");_e3a.remove(body,"epi-keyboard-focus");};var _e3c=function(){_e3a.remove(body,"epi-mouse-focus");_e3a.add(body,"epi-keyboard-focus");};_e3a.add(body,"epi-mouse-focus");on(body,"mousedown",_e3b);on(body,"mouseup",_e3b);on(body,"keydown",_e3c);on(body,"keyup",_e3c);});},"epi/shell/UndoManager":function(){define("epi/shell/UndoManager",["dojo","dojo/Stateful"],function(dojo,_e3d){return dojo.declare(_e3d,{maxSteps:10,hasUndoSteps:false,hasRedoSteps:false,_undoStack:null,_redoStack:null,_isUndoing:false,_isRedoing:false,constructor:function(_e3e){dojo.mixin(this,_e3e);this._undoStack=[];this._redoStack=[];},createStep:function(_e3f,_e40,_e41,_e42){var fn=_e40;if(typeof _e40=="string"){fn=_e3f[_e40];}if(typeof fn!="function"){throw ("No such callback function");}var _e43={context:_e3f,callback:fn,parameters:dojo.isArray(_e41)?_e41:[_e41],description:_e42};if(!_e43.context&&typeof _e43.callback==="string"){throw ("Context object is needed to find the callback");}var _e44=this._isUndoing?this._redoStack:this._undoStack;if(!this._isUndoing&&!this._isRedoing){this._redoStack.splice(0,this._redoStack.length);}_e44.push(_e43);if(this.maxSteps>0&&this._undoStack.length>this.maxSteps){this._undoStack.shift();}this._updateFlags();},undo:function(){if(this._undoStack.length===0){return;}this._isUndoing=true;var _e45=this._undoStack.pop();_e45.callback.apply(_e45.context,_e45.parameters);this._updateFlags();this._isUndoing=false;},redo:function(){if(this._redoStack.length===0){return;}this._isRedoing=true;var _e46=this._redoStack.pop();_e46.callback.apply(_e46.context,_e46.parameters);this._updateFlags();this._isRedoing=false;},_updateFlags:function(){this.set("hasUndoSteps",this._undoStack.length>0);this.set("hasRedoSteps",this._redoStack.length>0);},clear:function(){this._undoStack=[];this._redoStack=[];this._updateFlags();}});});},"epi/shell/widget/_ActionProviderWidget":function(){define(["epi","dojo","dijit","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider"],function(epi,dojo,_e47,_e48,_e49){return dojo.declare([_e49],{_enclosingConsumer:null,startup:function(){this.inherited(arguments);this._registerSelf();},destroy:function(){this._unregisterSelf();this.inherited(arguments);},_registerSelf:function(){this._enclosingConsumer=this._getEnclosingActionConsumer();if(this._enclosingConsumer!==null){this._enclosingConsumer.addProvider(this);}},_unregisterSelf:function(){if(this._enclosingConsumer!==null){this._enclosingConsumer.removeProvider(this);}},_getEnclosingActionConsumer:function(){var node=this.domNode.parentNode;while(node!==null){var _e4a=_e47.getEnclosingWidget(node);if(!_e4a){return null;}if(_e4a.isInstanceOf(_e48)){return _e4a;}node=_e4a.domNode.parentNode;}return null;}});});},"epi/shell/widget/_TabButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_e4b,_e4c,dom,_e4d,has,keys,_e4e,_e4f,_e50,_e51,_e52,_e53,res){return _e4c([_e51.TabButton,_e4f],{res:res,editing:false,tabCurrentName:"",templateString:_e53,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.page.title||this.title||this.res.newtabname;_e4b.forEach(this.menuLayout.getChildren(),function(_e54){_e54.connect(_e54,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_e55){if(_e55){_e4b.forEach(this.getParent().getChildren(),function(_e56){_e56.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_e57){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _e58=_e52.decode(this.tabName.innerHTML);if(_e58){this._lastNonEmptyValue=_e58;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_e59){_e4d.set(this.nodeOptions.domNode,"display",_e59?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=keys;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_e5a,text){this.editing=_e5a;dom.setSelectable(this.focusNode,_e5a);if(_e5a){_e4d.set(this.tabName,"display","none");_e4d.set(this.editBox,"display","");if(text){this.editBox.value=text;}else{this.editBox.value=_e52.decode(this.tabName.innerHTML);}_e50.selectInputText(this.editBox);_e4e.focus(this.editBox);}else{_e4d.set(this.editBox,"display","none");_e4d.set(this.tabName,"display","");this.editBox.value="";if(has("ie")){_e4d.set(this.domNode,"zoom","1");_e4d.set(this.domNode,"zoom","");}_e4e.focus(this.focusNode);}},_saveTabTitleChanges:function(_e5b){var _e5c=this.editBox.value;if(_e5b){_e5c=this._lastNonEmptyValue;}this.tabName.innerHTML=_e52.encode(_e5c);this.onTabTitleChanged(_e5c);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_e5d,_e5e,_e5f){this.tabName.innerHTML=_e52.encode(_e5e);},_setCloseButtonAttr:function(disp){_e4d.set(this.closeNode,"display","none");},_setLabelAttr:function(_e60){this.tabName.innerHTML=_e52.encode(_e60);}});});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_e61,dom,_e62,_e63,i18n,lang,_e64,_e65,Menu,_e66,_e67){var _e68=_e61("dijit.layout._TabButton",_e64.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_e67,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_e63.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _e69=i18n.getLocalization("dijit","common");if(this.closeNode){_e62.set(this.closeNode,"title",_e69.itemClose);}}},_setDisabledAttr:function(_e6a){this.inherited(arguments);if(this.closeNode){if(_e6a){_e62.remove(this.closeNode,"title");}else{var _e6b=i18n.getLocalization("dijit","common");_e62.set(this.closeNode,"title",_e6b.itemClose);}}},_setLabelAttr:function(_e6c){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});var _e6d=_e61("dijit.layout.TabController",_e64,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_e68,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _e6e=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _e63.contains(node,"dijitClosable")&&!_e63.contains(node,"dijitTabDisabled");}});this.own(_e6e);var _e6f=i18n.getLocalization("dijit","common"),_e70=this;_e6e.addChild(new _e66({label:_e6f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _e71=_e65.byNode(this.getParent().currentTarget);_e70.onCloseButtonClick(_e71.page);}}));}});_e6d.TabButton=_e68;return _e6d;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_e72,_e73,_e74,_e75,keys,lang,on,_e76,_e77,_e78,_e79,_e7a,_e7b){var _e7c=_e73("dijit.layout._StackButton",_e7b,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _e7d=_e73("dijit.layout.StackController",[_e78,_e79,_e7a],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_e7c,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_e7e){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _e7f=_e77.getEnclosingWidget(evt.target);if(_e7f!=this.containerNode&&!_e7f.disabled&&_e7f.page){for(var _e80=evt.target;_e80!==this.containerNode;_e80=_e80.parentNode){if(_e74.contains(_e80,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_e7f.page);break;}else{if(_e80==_e7f.domNode){this.onButtonClick(_e7f.page);break;}}}}});},onStartup:function(info){_e72.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _e81=_e77.byId(this.containerId).containerNode,_e82=this.pane2button,_e83={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_e84=function(attr,_e85){return on(_e81,"attrmodified-"+attr,function(evt){var _e86=_e82[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_e86){_e86.set(_e85,evt.detail.newValue);}});};for(var attr in _e83){this.own(_e84(attr,_e83[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_e77.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_e87){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _e88=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_e88,_e87);this.pane2button[page.id]=_e88;page.controlButton=_e88;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _e89=this.pane2button[page.id];if(_e89){this.removeChild(_e89);delete this.pane2button[page.id];_e89.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _e8a=this.pane2button[this._currentChild.id];_e8a.set("checked",false);_e8a.focusNode.setAttribute("tabIndex","-1");}var _e8b=this.pane2button[page.id];_e8b.set("checked",true);this._currentChild=page;_e8b.focusNode.setAttribute("tabIndex","0");var _e8c=_e77.byId(this.containerId);},onButtonClick:function(page){var _e8d=this.pane2button[page.id];_e76.focus(_e8d.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_e8d.set("checked",true);}var _e8e=_e77.byId(this.containerId);_e8e.selectChild(page);},onCloseButtonClick:function(page){var _e8f=_e77.byId(this.containerId);_e8f.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_e76.focus(b.focusNode||b.domNode);}}},adjacent:function(_e90){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_e90=!_e90;}var _e91=this.getChildren();var idx=_e72.indexOf(_e91,this.pane2button[this._currentChild.id]),_e92=_e91[idx];var _e93;do{idx=(idx+(_e90?1:_e91.length-1))%_e91.length;_e93=_e91[idx];}while(_e93.disabled&&_e93!=_e92);return _e93;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _e94=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_e94=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_e94=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_e94=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_e94=true;}break;case keys.HOME:var _e95=this.getChildren();for(var idx=0;idx<_e95.length;idx++){var _e96=_e95[idx];if(!_e96.disabled){this.onButtonClick(_e96.page);break;}}_e75.stop(e);break;case keys.END:var _e95=this.getChildren();for(var idx=_e95.length-1;idx>=0;idx--){var _e96=_e95[idx];if(!_e96.disabled){this.onButtonClick(_e96.page);break;}}_e75.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_e75.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_e75.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_e75.stop(e);}}}}if(_e94!==null){this.onButtonClick(this.adjacent(_e94).page);_e75.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_e7d.StackButton=_e7c;return _e7d;});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-props=\"column: 1\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-props=\"column: 2\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-props=\"column: 3\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>","epi/shell/widget/ApplicationContentPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","./Application"],function(_e97,_e98,_e99){return _e97([_e98,_e99],{});});},"epi/shell/widget/CheckBox":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/CheckBox"],function(_e9a,_e9b,_e9c,_e9d){return _e9a([_e9b,_e9c,_e9d],{templateString:"<div class=\"dijit dijitReset dijitInline\"><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"onChange: _onChange\"></div>",value:null,_setValueAttr:function(_e9e){this.value=_e9e;this.checkbox.set("checked",!!_e9e);},_setReadOnlyAttr:function(_e9f){this.checkbox.set("readOnly",_e9f);},_getReadOnlyAttr:function(){return this.checkbox.set("readOnly");},_getValueAttr:function(){return this.checkbox.get("checked");},_onChange:function(_ea0){this.value=_ea0;this.onChange(_ea0);},onChange:function(_ea1){}});});},"epi/shell/widget/layout/ComponentContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/layout/GridContainer","dijit/focus","dijit/registry","epi/dependency","epi/shell/widget/_ActionProvider","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/layout/_ComponentWrapper","epi/shell/widget/layout/ComponentTabContainer","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources"],function(_ea2,_ea3,lang,_ea4,when,_ea5,_ea6,_ea7,_ea8,_ea9,_eaa,_eab,_eac,_ead,_eae,_eaf,_eb0){return _ea3([_ea8,_eac],{containerUnlocked:false,isAutoOrganized:false,baseClass:"epi-componentContainer",numberOfColumns:1,hasResizableColumns:false,_componentSelectorDialog:null,_componentsController:null,postMixInProperties:function(){this.inherited(arguments);this.nbZones=this.numberOfColumns;this._componentsController=this._componentsController||_eab.resolve("epi.shell.controller.Components");},resizeChildAfterDrop:function(node,_eb1,_eb2){this.inherited(arguments);if(_eaa.getEnclosingWidget(_eb1.node)==this){this._onDndDrop();}},_persistComponentSettings:function(){var _eb3=this.getChildren();_ea2.forEach(_eb3,function(_eb4){var _eb5=this._componentsController.getComponentDefinitionById(_eb4.componentId);_eb5.settings=lang.mixin(_eb5.settings,_eb4.get("settings"));_eb5.settings.column=_eb4.get("column");this._componentsController.saveComponent(_eb5);},this);},buildRendering:function(){this.inherited(arguments);this.acceptTypes=[this.id];},postCreate:function(){this.inherited(arguments);this._setupDragManager();this.containerNode.removeAttribute("id");},_setupDragManager:function(){_ea4.before(this._dragManager,"_searchDragHandle",function(node){if(node&&_ea5.contains(node,"dojoxDragHandle")){return node;}});},startup:function(){if(this._started){return;}this.inherited(arguments);this.changeLockButtonState(false);},onShow:function(){if(this._disabled&&this.containerUnlocked){this.enableDnd();}},layout:function(){this._containerSize={h:this._contentBox.h-this._border.h,w:this._contentBox.w-this._border.w};this.layoutComponents();if(this.doLayout){_ea6.setContentSize(this.containerNode,{h:this._contentBox.h-this._border.h});_ea6.setContentSize(this.domNode,{w:this._contentBox.w-this._border.w});}},layoutComponents:function(){var _eb6=_ea6.getContentBox(this.gridContainerDiv);var _eb7={w:_eb6.w/this.numberOfColumns};_ea2.forEach(this.getChildren(),function(_eb8){if(_eb8.resize&&lang.isFunction(_eb8.resize)){_eb8.resize(_eb7);}});},_layoutChildren:function(_eb9,_eba,_ebb){_eb9.resize({h:_eba});if(_ebb){_eb9.set("lastOpenHeight",_eba);this.layoutComponents();this._persistComponentSettings();}},addComponent:function(_ebc){this._componentSelectorDialog.hide();this._componentsController.addComponent(this,_ebc,true,lang.hitch(this,function(){this.layoutComponents();}));},_selectFocus:function(){var _ebd=_ea9.curNode;if(_ebd===null||_ebd.parentNode===null){return;}this.inherited(arguments);},addChild:function(_ebe,_ebf){var _ec0,_ec1=this._componentsController.getComponentDefinitionById(_ebe.componentId),id=_ec1?_ec1.id:_ebe.componentId,_ec2=this.containerUnlocked,_ec3={componentId:id,dndType:this.id,isRemovable:_ec1?_ec1.settings.isRemovable:_ebe.params.isRemovable,minHeight:_ebe.get("minHeight")||200,maxHeight:_ebe.get("maxHeight")||Infinity,dragRestriction:!_ec2,closable:_ec2,heading:_ebe.get("heading"),container:this},_ec4=lang.mixin(_ec3,_ec1.settings);if(!_ebe.isInstanceOf(_eae)&&!_ebe.isInstanceOf(_eaf)){_ec0=new _eae(_ec4);_ec0.addChild(_ebe);}else{_ec0=_ebe;for(var _ec5 in _ec4){_ec0.set(_ec5,_ec3[_ec5]);}}this.connect(_ec0,"onClosed",lang.hitch(this,this._gadgetClosed,_ec0));this._connect(_ec0.on("toggle",lang.hitch(this,function(){this._componentToggle(_ec0);})));if(_ebf>=this.numberOfColumns){_ebf=this.numberOfColumns-1;}var _ec6=this.inherited(arguments,[_ec0,_ebf]);if(_ec2&&lang.isFunction(_ec6.disableResize)){_ec6.disableResize();}this._onCompontentsChanged();return _ec6;},_componentToggle:function(_ec7){_ec7.resize();this.layoutComponents();this._persistComponentSettings();},_gadgetClosed:function(_ec8){var _ec9=_ec8.componentId;when(this._componentsController.removeComponent(_ec9),lang.hitch(this,function(){_ec8.destroyRecursive();this._onCompontentsChanged();this._persistComponentSettings();this.layoutComponents();}));},_onCompontentsChanged:function(){this.layoutComponents();},showComponentSelector:function(){if(this._componentSelectorDialog===null){this._componentSelectorDialog=new _ead();this.own(this._componentSelectorDialog);this.connect(this._componentSelectorDialog,"onComponentSelected",this.addComponent);}this._componentSelectorDialog.show();},changeLockButtonState:function(_eca){this.containerUnlocked=_eca;_ea2.forEach(this.getChildren(),lang.hitch(this,function(_ecb){_ecb.set("dragRestriction",!_eca);_ecb.set("closable",_eca);}));this.containerUnlocked?this.enableDnd():this.disableDnd();},_saveComponentOrder:function(_ecc,_ecd){var _ece=_ea2.map(_ecc,function(_ecf){return {id:_ecf.componentId,column:_ecf.get("column")};});this._componentsController.sortComponents(this,_ece,_ecd);},_onDndDrop:function(){var _ed0=this.getChildren();this._saveComponentOrder(_ed0);this._onCompontentsChanged();this.layoutComponents();},_reloadGadgets:function(){var _ed1=this.getChildren();var _ed2=_ed1.length;var self=this;_ea2.forEach(_ed1,function(_ed3){self.removeChild(_ed3);self.addChild(_ed3,_ed3.get("column"),_ed2);});this._onCompontentsChanged();},_reloadContainer:function(_ed4,_ed5){this.numberOfColumns=_ed5;if(_ed4){this._reloadGadgets();}},setColumns:function(_ed6){var _ed7=this.getChildren();var self=this;if(_ed7.length<=0){this._reloadContainer(false,_ed6);}else{_ea2.forEach(_ed7,function(_ed8){if(_ed8.column>=_ed6){_ed8.set("column",_ed6-1);}});this._saveComponentOrder(_ed7,lang.hitch(this,function(_ed9){this._reloadContainer(_ed9,_ed6);}));}this.inherited(arguments);this.resize();},_organizeChildrenManually:function(){var _eda=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_edb=_eda.length,_edc;for(var i=0;i<_edb;i++){_edc=_eda[i];try{this._insertChild(_edc,_edc.column);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_connect:function(_edd){this._connects.push(_edd);},getActions:function(){var self=this,_ede=this.inherited(arguments),_edf={parent:"settings",name:"addGadgets",label:_eb0.componentselection.addgadgetstitle,type:"menuitem",action:lang.hitch(this,this.showComponentSelector)},_ee0={parent:"settings",name:"rearrangeGadgets",label:_eb0.componentselection.rearrangegadgets,type:"checkedmenuitem",action:function(){lang.hitch(this,self.changeLockButtonState(this.checked));}};_ede.splice(_ede.length,0,_edf);_ede.splice(_ede.length,0,_ee0);return _ede;}});});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_ee1,_ee2,_ee3,has,_ee4,_ee5,geom,_ee6,lang,win,_ee7,_ee8){return _ee1("dojox.layout.GridContainer",_ee8,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){_ee7(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_ee9,_eea){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_eeb){var _eec=this._grid[_eeb],grip=_ee6.create("div",{"class":"gridContainerGrip"},this.domNode);_eec.grip=grip;_eec.gripHandler=[this.connect(grip,"onmouseover",function(e){var _eed=false;for(var i=0;i<this._grid.length-1;i++){if(_ee4.contains(this._grid[i].grip,"gridContainerGripShow")){_eed=true;break;}}if(!_eed){_ee4.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_ee4.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _eee,_eef,left=0,grip;_ee2.forEach(this._grid,function(_ef0){if(_ef0.grip){grip=_ef0.grip;if(!_eee){_eee=grip.offsetWidth/2;}left+=geom.getMarginBox(_ef0.node).w;_ee5.set(grip,"left",(left-_eee)+"px");if(!_eef){_eef=geom.getContentBox(this.gridNode).h;}if(_eef>0){_ee5.set(grip,"height",_eef+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _ef1=[];var grid;var i;for(i=0;i<this._grid.length;i++){_ef1[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_ef1;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_ef1[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_ef1[i+1];}grid.node.style.width=_ef1[i]+"px";}var _ef2=function(_ef3,_ef4){var _ef5=0;var _ef6=0;_ee2.forEach(_ef3,function(_ef7){if(_ef7.nodeType==1){var _ef8=_ee5.getComputedStyle(_ef7);var _ef9=(has("ie"))?_ef4:parseInt(_ef8.minWidth);_ef6=_ef9+parseInt(_ef8.marginLeft)+parseInt(_ef8.marginRight);if(_ef5<_ef6){_ef5=_ef6;}}});return _ef5;};var _efa=_ef2(this._currentColumn.childNodes,this.minChildWidth);var _efb=_ef2(this._nextColumn.childNodes,this.minChildWidth);var _efc=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_efa;this._nextMinCol=_efb;if(_efc>this._currentMinCol){this._currentMinCol=_efc;}if(_efc>this._nextMinCol){this._nextMinCol=_efc;}this._connectResizeColumnMove=_ee3.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_ee3.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_ee3.disconnect(this._connectResizeColumnMove);_ee3.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_ee4.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_ee3.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_ee3.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_ee3.disconnect(this._connectResizeColumnMove);_ee3.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _efd=[],_efe=[],_eff=this.gridContainerTable.clientWidth,node,_f00=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_efd[i]=geom.getMarginBox(node).w;_efe[i]=geom.getContentBox(node).w;}else{_efd[i]=geom.getContentBox(node).w;_efe=_efd;}}for(i=0;i<_efe.length;i++){if(_efe[i]!=this._oldTabSize[i]){_f00=true;break;}}if(_f00){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_efd[i])/_eff)/mul+"%";}this.resize();}if(this._activeGrip){_ee4.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_f01){var z,j;if(_f01>0){var _f02=this._grid.length,_f03=_f02-_f01;if(_f03>0){var _f04=[],zone,_f05,end,_f06;if(this.mode=="right"){end=(this.isLeftFixed&&_f02>0)?1:0;_f05=(this.isRightFixed)?_f02-2:_f02-1;for(z=_f05;z>=end;z--){_f06=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_f06++;break;}}if(_f06==0){_f04[_f04.length]=z;}if(_f04.length>=_f03){this._deleteColumn(_f04);break;}}if(_f04.length<_f03){_ee3.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_f05=(this.isLeftFixed&&_f02>0)?1:0;end=(this.isRightFixed)?_f02-1:_f02;for(z=_f05;z<end;z++){_f06=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_f06++;break;}}if(_f06==0){_f04[_f04.length]=z;}if(_f04.length>=_f03){this._deleteColumn(_f04);break;}}if(_f04.length<_f03){_ee3.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_f03<0){this._addColumn(Math.abs(_f03));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_f07){var grid=this._grid,_f08,node,_f09,_f0a,_f0b=(this.mode=="right"),_f0c=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_f0b)||(this.isLeftFixed&&!_f0b&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_f07;i++){node=_ee6.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_f0c,"id":this.id+"_dz"+this.nbZones});_f0a=grid.length;if(_f0b){if(this.isRightFixed){_f09=_f0a-1;grid.splice(_f09,0,{"node":grid[_f09].node.parentNode.insertBefore(node,grid[_f09].node)});}else{_f09=_f0a;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_f09=(_f0a==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_f09].node.parentNode.appendChild(node,this._grid[_f09].node)});_f09=1;}else{_f09=_f0a-this.nbZones;this._grid.splice(_f09,0,{"node":grid[_f09].node.parentNode.insertBefore(node,grid[_f09].node)});}}if(this.hasResizableColumns){if((!_f0b&&this.nbZones!=1)||(!_f0b&&this.nbZones==1&&!this.isLeftFixed)||(_f0b&&i<_f07-1)||(_f0b&&i==_f07-1&&this.isRightFixed)){this._createGrip(_f09);}}m.registerByNode(grid[_f09].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_f0d){var _f0e,grid,_f0f,_f10=0,_f11=_f0d.length,m=this._dragManager;for(var i=0;i<_f11;i++){_f0f=(this.mode=="right")?_f0d[i]:_f0d[i]-_f10;grid=this._grid[_f0f];if(this.hasResizableColumns&&grid.grip){_ee2.forEach(grid.gripHandler,function(_f12){_ee3.disconnect(_f12);});_ee6.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_ee6.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_f0f,1);this.nbZones--;_f10++;}var _f13=this._grid[this.nbZones-1];if(_f13.grip){_ee2.forEach(_f13.gripHandler,_ee3.disconnect);_ee6.destroy(this.domNode.removeChild(_f13.grip));_f13.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_f14){this.inherited(arguments);_f14._dropMode.updateAreas(_f14._areaList);},destroy:function(){_ee3.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"epi/shell/widget/ComponentSelectorDialog":function(){define(["epi","dojo/_base/declare","dojo/dom-style","dijit/Dialog","epi/shell/widget/ComponentSelector","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_f15,_f16,_f17,_f18,res){return _f15([_f17],{_componentSelector:null,autofocus:false,size:{width:"650px",height:""},res:res,onComponentSelected:function(){},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=epi.resources.action.close;},postCreate:function(){this.inherited(arguments);this.set("title",this.res.dialogtitle);_f16.set(this.domNode,this.size);},show:function(){this.inherited(arguments);this._ensureComponentSelectorCreated();this._componentSelector.show();},_ensureComponentSelectorCreated:function(){if(this._componentSelector){return;}this._contentSetterParams={parseContent:false};this._componentSelector=new _f18();this.own(this._componentSelector);this.set("content",this._componentSelector);this.connect(this._componentSelector,"onComponentSelected",this.onComponentSelected);}});});},"epi/shell/widget/ComponentSelector":function(){define(["epi","dojo/_base/declare","dojo/_base/Deferred","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dgrid/OnDemandGrid","dgrid/Selection","dgrid/Keyboard","dgrid/extensions/DijitRegistry","dijit/_Contained","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/MenuItem","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/Button","dijit/form/TextBox","dojo/store/Memory","epi/routes","epi/dependency","epi/shell/ViewSettings","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_f19,_f1a,keys,_f1b,lang,_f1c,_f1d,_f1e,_f1f,_f20,_f21,_f22,_f23,_f24,_f25,_f26,_f27,_f28,_f29,_f2a,_f2b,_f2c,_f2d,res){var _f2e=_f19([_f22,_f23,_f24,_f21],{templateString:"            <div>            <div class=\"dijitDialogPaneToolBar clearfix\">                    <div class=\"dijitDialogPaneLeading\">                    </div>                    <div class=\"dijitDialogPaneTrailing\">                        <input data-dojo-type=\"dijit/form/TextBox\" dojoAttachPoint=\"searchBox\" dojoAttachEvent=\"onKeyUp: _onSearchBoxChange\" placeHolder=\"${commonRes.action.search}\" class=\"epi-searchInput\" />                    </div>                </div>                <div class=\"dijitDialogPaneContentArea epi-wrapped\">                    <div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"container\" style=\"width: 100%; height: 330px;\">                        <div data-dojo-type=\"dijit/layout/ContentPane\" region=\"left\" splitter=\"false\" class=\"epi-dialog-resourcePane epi-dijitMenuDisableIcon\" style=\"width: 160px;\" >                            <div data-dojo-type=\"dijit/Menu\" dojoAttachPoint=\"categoryMenu\" dojoAttachEvent=\"onItemClick: _onCategoryMenuClick\" style=\"width:160px;\"></div>                        </div>                            <div data-dojo-attach-point=\"grid\"></div>                    </div>                </div>                <div class=\"dijitDialogPaneActionBar\">                    <button data-dojo-type=\"dijit/form/Button\" type=\"submit\" data-dojo-props=\"'class':'default'\" data-dojo-attach-event=\"onClick:onClose\">${commonRes.action.close}</button>                </div>             </div>",res:res,commonRes:epi.resources,selectedCategory:"*",componentCategories:null,_selectedCategoryMenuItem:null,categoryStore:null,componentDefinitionStore:null,_sortableColumns:[1],_gridClass:_f19([_f1d,_f20,_f1e,_f1f],{resize:function(size){if(!size){return;}_f1c.setMarginBox(this.domNode,{w:size.w,h:size.h});this.inherited(arguments);}}),postMixInProperties:function(){this.inherited(arguments);this.categoryStore=this.categoryStore||this._getStore("epi.shell.componentcategory");this.componentDefinitionStore=this.componentDefinitionStore||this._getStore("epi.shell.componentdefinition");this.componentCategories=_f2d.settings.componentCategories;},buildRendering:function(){this.inherited(arguments);this.grid=new this._gridClass({region:"center",columns:{title:{label:this.commonRes.header.name},description:{label:" "}},selectionMode:"single",sort:[{attribute:"title",descending:false}],query:lang.hitch(this,function(item){if(this.selectedCategory!=="*"){if(!item.categories){return false;}var _f2f=this.selectedCategory;var _f30=_f1b.some(item.categories,function(_f31){return _f31===_f2f;});if(!_f30){return;}}var name=this.searchBox.get("value").toLowerCase();if(name.length>0&&(item.title&&item.title.toLowerCase().indexOf(name))){return false;}return true;})},this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._onGridRowSelected));this.grid.on(".dgrid-row:keydown",lang.hitch(this,this._onGridRowSelected));},_getStore:function(name){var _f32=_f2c.resolve("epi.storeregistry");return _f32.get(name);},onComponentSelected:function(){},onClose:function(){},_onGridRowSelected:function(e){if(e.keyCode&&e.keyCode!==keys.ENTER){return;}var row=this.grid.row(e);if(!row||!row.data){return;}var _f33=row.data.component;this.onComponentSelected(_f33);},dataBind:function(_f34){if(this.grid.store!==null&&_f34!==true){return;}if(_f34){_f1b.forEach(this.categoryMenu.getChildren(),function(_f35){this.categoryMenu.removeChild(_f35);},this);}var grid=this.grid;_f1a.when(this.componentDefinitionStore.query(),lang.hitch(this,function(data){var _f36=_f1b.filter(data,function(item){return this._inCategoryFilter(item.categories);},this);this._populateCategoryMenu(_f36);var _f37=new _f2a({data:_f36});grid.set("store",_f37);}));},show:function(_f38){this.inherited(arguments);this.dataBind(_f38);this.resize();},resize:function(){this.inherited(arguments);this.container.resize();},_populateCategoryMenu:function(_f39){this._selectedCategoryMenuItem=new _f25({label:this.commonRes.header.all,selected:true,value:"*"});this.categoryMenu.addChild(this._selectedCategoryMenuItem);var _f3a=this.categoryStore.query();_f1a.when(_f3a,lang.hitch(this,function(_f3b){_f1b.forEach(_f3b,function(_f3c){var _f3d=_f1b.some(_f39,function(_f3e){return _f1b.indexOf(_f3e.categories,_f3c.name)>=0;});if(_f3d){this.categoryMenu.addChild(new _f25({label:_f3c.displayName,value:_f3c.name}));}},this);}));},_inCategoryFilter:function(_f3f){var _f40=this.componentCategories;return _f40==null||_f1b.some(_f3f,function(c){return _f1b.some(_f40,function(_f41){return _f41===c;});});},_onCategoryMenuClick:function(item,e){this._selectedCategoryMenuItem.set("selected",false);item.set("selected",true);this._selectedCategoryMenuItem=item;this.selectedCategory=item.value;this.searchBox.reset();this.grid.refresh();},_onSearchBoxChange:function(e){this.grid.refresh();}});return _f2e;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_f42,Grid,_f43){return _f42([Grid,_f43],{});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_f44,_f45,_f46,has,put,List,_f47){var _f48=has("ie")<8&&!has("quirks");function _f49(_f4a,_f4b){if(_f4b&&_f4b.nodeType){_f4a.appendChild(_f4b);}};function _f4c(str){return _f47.escapeCssIdentifier(str,"-");};var Grid=_f45(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_f4d){if(typeof _f4d!="object"){return this.columns[_f4d];}else{return this.cell(_f4d).column;}},listType:"grid",cell:function(_f4e,_f4f){if(_f4e.column&&_f4e.element){return _f4e;}if(_f4e.target&&_f4e.target.nodeType){_f4e=_f4e.target;}var _f50;if(_f4e.nodeType){var _f51;do{if(this._rowIdToObject[_f4e.id]){break;}var _f52=_f4e.columnId;if(_f52){_f4f=_f52;_f50=_f4e;break;}_f4e=_f4e.parentNode;}while(_f4e&&_f4e!=this.domNode);}if(!_f50&&typeof _f4f!="undefined"){var row=this.row(_f4e),_f53=row&&row.element;if(_f53){var _f54=_f53.getElementsByTagName("td");for(var i=0;i<_f54.length;i++){if(_f54[i].columnId==_f4f){_f50=_f54[i];break;}}}}if(_f4e!=null){return {row:row||this.row(_f4e),column:_f4f&&this.column(_f4f),element:_f50};}},createRowCells:function(tag,each,_f55,_f56){var row=put("table.dgrid-row-table[role=presentation]"),_f57=this.cellNavigation,_f58=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_f59,_f5a,id,_f5b,_f5c,cell,_f5d,_f5e,_f5f;_f55=_f55||this.subRows;for(si=0,sl=_f55.length;si<sl;si++){_f59=_f55[si];tr=put(_f58,"tr");if(_f59.className){put(tr,"."+_f59.className);}for(i=0,l=_f59.length;i<l;i++){_f5a=_f59[i];id=_f5a.id;_f5b=_f5a.field?".field-"+_f4c(_f5a.field):"";_f5c=typeof _f5a.className==="function"?_f5a.className(_f56):_f5a.className;if(_f5c){_f5b+="."+_f5c;}cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+_f4c(id):"")+_f5b.replace(/ +/g,"."))+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_f48){_f5d=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_f5d;}else{_f5d=cell;}_f5e=_f5a.colSpan;if(_f5e){cell.colSpan=_f5e;}_f5f=_f5a.rowSpan;if(_f5f){cell.rowSpan=_f5f;}each(_f5d,_f5a);tr.appendChild(cell);}}return row;},left:function(cell,_f60){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_f60||1),"dgrid-cell"));},right:function(cell,_f61){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_f61||1,"dgrid-cell"));},renderRow:function(_f62,_f63){var self=this;var row=this.createRowCells("td",function(td,_f64){var data=_f62;if(_f64.get){data=_f64.get(_f62);}else{if("field" in _f64&&_f64.field!="_item"){data=data[_f64.field];}}if(_f64.renderCell){_f49(td,_f64.renderCell(_f62,data,td,_f63));}else{_f65.call(_f64,_f62,data,td,_f63);}},_f63&&_f63.subRows,_f62);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_f66=this.columns,_f67=this.headerNode,i=_f67.childNodes.length;_f67.setAttribute("role","row");while(i--){put(_f67.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_f68){var _f69=_f68.headerNode=th;if(_f48){th=th.parentNode;}var _f6a=_f68.field;if(_f6a){th.field=_f6a;}if(_f68.renderHeaderCell){_f49(_f69,_f68.renderHeaderCell(_f69));}else{if("label" in _f68||_f68.field){_f69.appendChild(document.createTextNode("label" in _f68?_f68.label:_f68.field));}}if(_f68.sortable!==false&&_f6a&&_f6a!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_f67.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_f46(row,"click,keydown",function(_f6b){if(_f6b.type=="click"||_f6b.keyCode==32||(!has("opera")&&_f6b.keyCode==13)){var _f6c=_f6b.target,_f6d,sort,_f6e,_f6f;do{if(_f6c.sortable){_f6e=[{attribute:(_f6d=_f6c.field||_f6c.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_f6d&&!sort.descending}];_f6f={bubbles:true,cancelable:true,grid:grid,parentType:_f6b.type,sort:_f6e};if(_f46.emit(_f6b.target,"dgrid-sort",_f6f)){grid._sortNode=_f6c;grid.set("sort",_f6e);}break;}}while((_f6c=_f6c.parentNode)&&_f6c!=_f67);}});},resize:function(){var _f70=this.headerNode.firstChild,_f71=this.contentNode,_f72;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_f71.style.width="";if(_f71&&_f70){if((_f72=_f70.offsetWidth)!=_f71.offsetWidth){_f71.style.width=_f72+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_f73,_f74){this.inherited(arguments);this.updateSortArrow(this._sort);},_findSortArrowParent:function(_f75){var _f76=this.columns;for(var i in _f76){var _f77=_f76[i];if(_f77.field==_f75){return _f77.headerNode;}}},updateSortArrow:function(sort,_f78){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_f78){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_f79=this._sortNode||this._findSortArrowParent(prop),_f7a;delete this._sortNode;if(_f79){_f79=_f79.contents||_f79;_f7a=this._lastSortedArrow=put("div.dgrid-sort-arrow.ui-icon[role=presentation]");_f7a.innerHTML="&nbsp;";_f79.insertBefore(_f7a,_f79.firstChild);put(_f79,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_f7b,css){return this.addCssRule("#"+_f47.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_f4c(_f7b),css);},_configColumns:function(_f7c,_f7d){var _f7e=[],_f7f=_f7d instanceof Array;function _f80(_f81,_f82){if(typeof _f81=="string"){_f7d[_f82]=_f81={label:_f81};}if(!_f7f&&!_f81.field){_f81.field=_f82;}_f82=_f81.id=_f81.id||(isNaN(_f82)?_f82:(_f7c+_f82));if(this._configColumn){this._configColumn(_f81,_f82,_f7d,_f7c);_f82=_f81.id;}if(_f7f){this.columns[_f82]=_f81;}_f81.grid=this;if(typeof _f81.init==="function"){_f81.init();}_f7e.push(_f81);};_f47.each(_f7d,_f80,this);return _f7f?_f7d:_f7e;},_destroyColumns:function(){var _f83=this.subRows,_f84=_f83&&_f83.length,i,j,_f85,len;this.cleanup();for(i=0;i<_f84;i++){for(j=0,len=_f83[i].length;j<len;j++){_f85=_f83[i][j];if(typeof _f85.destroy==="function"){_f85.destroy();}}}},configStructure:function(){var _f86=this.subRows,_f87=this._columns=this.columns;this.columns=!_f87||_f87 instanceof Array?{}:_f87;if(_f86){for(var i=0;i<_f86.length;i++){_f86[i]=this._configColumns(i+"-",_f86[i]);}}else{this.subRows=[this._configColumns("",_f87)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_f88){this._destroyColumns();this.subRows=null;this.columns=_f88;this._updateColumns();},_setSubRows:function(_f89){this._destroyColumns();this.subRows=_f89;this._updateColumns();},setColumns:function(_f8a){_f44.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_f8a);},setSubRows:function(_f8b){_f44.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_f8b);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _f65(_f8c,data,td,_f8d){if(this.formatter){var _f8e=this.formatter,_f8f=this.grid.formatterScope;td.innerHTML=typeof _f8e==="string"&&_f8f?_f8f[_f8e](data,_f8c):this.formatter(data,_f8c);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_f49;Grid.defaultRenderCell=_f65;return Grid;});},"put-selector/put":function(){(function(_f90){var _f91,_f92=/[-+,> ]/;_f90([],_f91=function(doc,_f93){"use strict";_f92=_f93||_f92;var _f94=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_f95,_f96,_f97=false,doc=doc||document,_f98=typeof doc.createElement=="object";function _f99(_f9a,text){_f9a.appendChild(doc.createTextNode(text));};function put(_f9b){var _f9c,_f9d,_f9e,_f9f,_fa0,args=arguments,_fa1=args[0];function _fa2(){if(_fa0&&_f9f&&_fa0!=_f9f){(_f9f==_f9b&&(_f9c||(_f9c=_f92.test(_fa3)&&doc.createDocumentFragment()))?_f9c:_f9f).insertBefore(_fa0,_f9e||null);}};for(var i=0;i<args.length;i++){var _fa3=args[i];if(typeof _fa3=="object"){_f9d=false;if(_fa3 instanceof Array){_fa0=doc.createDocumentFragment();for(var key=0;key<_fa3.length;key++){_fa0.appendChild(put(_fa3[key]));}_fa3=_fa0;}if(_fa3.nodeType){_fa0=_fa3;_fa2();_f9f=_fa3;_f9e=0;}else{for(var key in _fa3){_fa0[key]=_fa3[key];}}}else{if(_f9d){_f9d=false;_f99(_fa0,_fa3);}else{if(i<1){_f9b=null;}_f9d=true;var _fa4=_fa3.replace(_f94,function(t,_fa5,_fa6,_fa7,_fa8,_fa9){if(_fa5){_fa2();if(_fa5=="-"||_fa5=="+"){_f9f=(_f9e=(_fa0||_f9f)).parentNode;_fa0=null;if(_fa5=="+"){_f9e=_f9e.nextSibling;}}else{if(_fa5=="<"){_f9f=_fa0=(_fa0||_f9f).parentNode;}else{if(_fa5==","){_f9f=_f9b;}else{if(_fa0){_f9f=_fa0;}}_fa0=null;}_f9e=0;}if(_fa0){_f9f=_fa0;}}var tag=!_fa6&&_fa7;if(tag||(!_fa0&&(_fa6||_fa8))){if(tag=="$"){_f99(_f9f,args[++i]);}else{tag=tag||put.defaultTag;var _faa=_f98&&args[i+1]&&args[i+1].name;if(_faa){tag="<"+tag+" name=\""+_faa+"\">";}_fa0=_f97&&~(_f96=tag.indexOf("|"))?doc.createElementNS(_f97[tag.slice(0,_f96)],tag.slice(_f96+1)):doc.createElement(tag);}}if(_fa6){if(_fa7=="$"){_fa7=args[++i];}if(_fa6=="#"){_fa0.id=_fa7;}else{var _fab=_fa0.className;var _fac=_fab&&(" "+_fab+" ").replace(" "+_fa7+" "," ");if(_fa6=="."){_fa0.className=_fab?(_fac+_fa7).substring(1):_fa7;}else{if(_fa3=="!"){var _fad;if(_f98){put("div",_fa0,"<").innerHTML="";}else{if(_fad=_fa0.parentNode){_fad.removeChild(_fa0);}}}else{_fac=_fac.substring(1,_fac.length-1);if(_fac!=_fab){_fa0.className=_fac;}}}}}if(_fa8){if(_fa9=="$"){_fa9=args[++i];}if(_fa8=="style"){_fa0.style.cssText=_fa9;}else{var _fae=_fa8.charAt(0)=="!"?(_fa8=_fa8.substring(1))&&"removeAttribute":"setAttribute";_fa9=_fa9===""?_fa8:_fa9;_f97&&~(_f96=_fa8.indexOf("|"))?_fa0[_fae+"NS"](_f97[_fa8.slice(0,_f96)],_fa8.slice(_f96+1),_fa9):_fa0[_fae](_fa8,_fa9);}}return "";});if(_fa4){throw new SyntaxError("Unexpected char "+_fa4+" in "+_fa3);}_fa2();_f9f=_fa1=_fa0||_f9f;}}}if(_f9b&&_f9c){_f9b.appendChild(_f9c);}return _fa1;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_f97||(_f97={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_f91;return put;});})(function(id,deps,_faf){_faf=_faf||deps;if(typeof define==="function"){define([],function(){return _faf();});}else{if(typeof window=="undefined"){require("./node-html")(module,_faf);}else{put=_faf();}}});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/dom","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_fb0,_fb1,dom,_fb2,has,_fb3,_fb4,_fb5,put){_fb5("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _fb6="dgrid-row-odd",_fb7="dgrid-row-even",_fb8,_fb9;function byId(id){return document.getElementById(id);};function _fba(_fbb){_fbb.className="";document.body.removeChild(_fbb);};function _fbc(_fbd,_fbe){put(document.body,_fbd,".dgrid-scrollbar-measure");var size=_fbd["offset"+_fbe]-_fbd["client"+_fbe];_fba(_fbd);return size;};has.add("dom-scrollbar-width",function(_fbf,doc,_fc0){return _fbc(_fc0,"Width");});has.add("dom-scrollbar-height",function(_fc1,doc,_fc2){return _fbc(_fc2,"Height");});has.add("dom-rtl-scrollbar-left",function(_fc3,doc,_fc4){var div=put("div"),_fc5;put(document.body,_fc4,".dgrid-scrollbar-measure[dir=rtl]");put(_fc4,div);_fc5=!!has("ie")||!!has("trident")||div.offsetLeft>=has("dom-scrollbar-width");_fba(_fc4);put(div,"!");_fc4.removeAttribute("dir");return _fc5;});var _fc6=0;function _fc7(){return "dgrid_"+_fc6++;};var _fc8=/ +/g;function _fc9(cls){var _fca=cls?"."+cls.replace(_fc8,"."):"";if(this._class){_fca="!"+this._class.replace(_fc8,"!")+_fca;}put(this.domNode,_fca);this._class=cls;};function _fcb(){return this._class;};var _fcc=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _fcd(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _fce(_fcf){if(typeof _fcf.x!=="undefined"){this.bodyNode.scrollLeft=_fcf.x;}if(typeof _fcf.y!=="undefined"){this.bodyNode.scrollTop=_fcf.y;}};return _fb1(has("touch")?_fb4:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:null,addUiClasses:true,cleanEmptyObservers:true,highlightDuration:250,postscript:function(_fd0,_fd1){var grid=this;(this._Row=function(id,_fd2,_fd3){this.id=id;this.data=_fd2;this.element=_fd3;}).prototype.remove=function(){grid.removeRow(this.element);};if(_fd1){this.srcNodeRef=_fd1=_fd1.nodeType?_fd1:byId(_fd1);}this.create(_fd0,_fd1);},listType:"list",create:function(_fd4,_fd5){var _fd6=this.domNode=_fd5||put("div"),cls;if(_fd4){this.params=_fd4;_fb1.safeMixin(this,_fd4);cls=_fd4["class"]||_fd4.className||_fd6.className;this._sort=_fd4.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_fd6.id=_fd6.id||this.id||_fc7();if(this.useTouchScroll===null){this.useTouchScroll=!has("dom-scrollbar-width");}this.buildRendering();if(cls){_fc9.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _fd7=this.domNode,_fd8=this.addUiClasses,self=this,_fd9,_fda,_fdb,_fdc,_fdd;_fdd=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_fd7.className="";put(_fd7,"[role=grid].dgrid.dgrid-"+this.listType+(_fd8?".ui-widget":""));_fd9=this.headerNode=put(_fd7,"div.dgrid-header.dgrid-header-row"+(_fd8?".ui-widget-header":"")+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_fda=put(_fd7,"div.dgrid-spacer");}_fdb=this.bodyNode=put(_fd7,"div.dgrid-scroller");if(has("ff")){_fdb.tabIndex=-1;}this.headerScrollNode=put(_fd7,"div.dgrid-header.dgrid-header-scroll.dgrid-scrollbar-width"+(_fd8?".ui-widget-header":""));_fdc=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_fd7,_fdc);if(_fdd){_fd7.className+=" dgrid-rtl"+(has("dom-rtl-scrollbar-left")?" dgrid-rtl-swap":"");}_fb2(_fdb,"scroll",function(_fde){if(self.showHeader){_fd9.scrollLeft=_fde.scrollLeft||_fdb.scrollLeft;}_fde.stopPropagation();_fb2.emit(_fd7,"scroll",{scrollTarget:_fdb});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content"+(_fd8?".ui-widget-content":""));this._listeners.push(this._resizeHandle=_fb2(window,"resize",_fb3.throttleDelayed(_fcc,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _fdf=this.bodyNode,_fe0=this.headerNode,_fe1=this.footerNode,_fe2=_fe0.offsetHeight,_fe3=this.showFooter?_fe1.offsetHeight:0,_fe4=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_fdf.style.marginTop=_fe2+"px";_fdf.style.marginBottom=_fe3+"px";if(_fe4){_fdf.style.height="";_fdf.style.height=Math.max((this.domNode.offsetHeight-_fe2-_fe3),0)+"px";if(_fe3){_fe1.style.bottom="1px";setTimeout(function(){_fe1.style.bottom="";},0);}}if(!_fb8){_fb8=has("dom-scrollbar-width");_fb9=has("dom-scrollbar-height");if(has("ie")){_fb8++;_fb9++;}_fb3.addCssRule(".dgrid-scrollbar-width","width: "+_fb8+"px");_fb3.addCssRule(".dgrid-scrollbar-height","height: "+_fb9+"px");if(_fb8!=17&&!_fe4){_fb3.addCssRule(".dgrid-header-row","right: "+_fb8+"px");_fb3.addCssRule(".dgrid-rtl-swap .dgrid-header-row","left: "+_fb8+"px");}}if(_fe4){_fe0.style.width=_fdf.clientWidth+"px";setTimeout(function(){_fe0.scrollLeft=_fdf.scrollLeft;},0);}},addCssRule:function(_fe5,css){var rule=_fb3.addCssRule(_fe5,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_fe6,_fe7){var _fe8=_fb2(this.domNode,_fe6,_fe7);if(!has("dom-addeventlistener")){this._listeners.push(_fe8);}return _fe8;},cleanup:function(){var _fe9=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _fea=byId(i);if(_fea){this.removeRow(_fea,true);}}}for(i=0;i<_fe9.length;i++){var _feb=_fe9[i];_feb&&_feb.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this._started=false;this.cleanup();put(this.domNode,"!");if(this.useTouchScroll){this.inherited(arguments);}},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_fec,_fed,_fee,i,_fef){if(_fed){var row=this.insertRow(_fec,_fed,_fee,i,_fef);put(row,".dgrid-highlight"+(this.addUiClasses?".ui-state-highlight":""));setTimeout(function(){put(row,"!dgrid-highlight!ui-state-highlight");},this.highlightDuration);return row;}},adjustRowIndices:function(_ff0){var next=_ff0;var _ff1=next.rowIndex;if(_ff1>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_ff1%2==1?_fb6:_fb7)+"!"+(_ff1%2==0?_fb6:_fb7));}}next.rowIndex=_ff1++;}}while((next=next.nextSibling)&&next.rowIndex!=_ff1);}},renderArray:function(_ff2,_ff3,_ff4){_ff4=_ff4||{};var self=this,_ff5=_ff4.start||0,_ff6=this.observers,rows,_ff7,_ff8;if(!_ff3){this._lastCollection=_ff2;}if(_ff2.observe){self._numObservers++;var _ff9=_ff2.observe(function(_ffa,from,to){var row,_ffb,_ffc,_ffd;function _ffe(){_ffc=(_ffc.connected||_ffc).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_ff7){_ffb=row.nextSibling;if(_ffb){if(from!=to){_ffb.rowIndex--;}}self.removeRow(row);}_ff4.count--;if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){if(to===0){_ffc=rows[to];_ffc=_ffc&&_fff(_ffc);}else{_ffc=rows[to-1];if(_ffc){_ffc=_fff(_ffc);_ffe();}}}else{_ffc=self._getFirstRowSibling&&self._getFirstRowSibling(_ff7);}if(row&&_ffc&&row.id===_ffc.id){_ffe();}if(_ffc&&!_ffc.parentNode){_ffc=byId(_ffc.id);}_ffd=(_ff3&&_ff3.parentNode)||(_ffc&&_ffc.parentNode)||self.contentNode;row=self.newRow(_ffa,_ffd,_ffc,_ff4.start+to,_ff4);if(row){row.observerIndex=_ff8;rows.splice(to,0,row);if(!_ffb||to<from){var _1000=row.previousSibling;_ffb=!_1000||_1000.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_1000;}}_ff4.count++;}if(from===0){_1001(1,1);}else{if(from===_ff2.length-(to===-1?0:1)){_1001(0,0);}}from!=to&&_ffb&&self.adjustRowIndices(_ffb);self._onNotification(rows,_ffa,from,to);},true);_ff8=_ff6.push(_ff9)-1;}var _1002=document.createDocumentFragment(),_1003;function _1001(){var sides=arguments;if(_ff8>-1){for(var i=0;i<sides.length;i++){var top=sides[i];var _1004=rows[top?0:rows.length-1];_1004=_1004&&_fff(_1004);if(_1004){var row=_1004[top?"previousSibling":"nextSibling"];if(row){row=self.row(row);}if(row&&row.element!=_1004){var _1005=top?"unshift":"push";_ff2[_1005](row.data);rows[_1005](row.element);_ff4.count++;}}}}};function _fff(row){if(!dom.isDescendant(row,self.domNode)&&byId(row.id)){return self.row(row.id.slice(self.id.length+5)).element;}return row;};function _1006(_1007){_1003=self.insertRow(_1007,_1002,null,_ff5++,_ff4);_1003.observerIndex=_ff8;return _1003;};function _1008(error){if(typeof _ff8!=="undefined"){_ff6[_ff8].cancel();_ff6[_ff8]=0;self._numObservers--;}if(error){throw error;}};var _1009;function _100a(_100b){_1009=_100b.slice(0);_ff7=_ff3?_ff3.parentNode:self.contentNode;if(_ff7&&_ff7.parentNode&&(_ff7!==self.contentNode||_100b.length)){_ff7.insertBefore(_1002,_ff3||null);_1003=_100b[_100b.length-1];_1003&&self.adjustRowIndices(_1003);}else{if(_ff6[_ff8]&&self.cleanEmptyObservers){_1008();}}rows=_100b;if(_ff9){_ff9.rows=rows;}};if(_ff2.map){rows=_ff2.map(_1006,console.error);if(rows.then){return _ff2.then(function(_100c){_ff2=_100c;return rows.then(function(_100d){_100a(_100d);_1001(1,1,0,0);return _1009;});});}}else{rows=[];for(var i=0,l=_ff2.length;i<l;i++){rows[i]=_1006(_ff2[i]);}}_100a(rows);_1001(1,1,0,0);return _1009;},_onNotification:function(rows,_100e,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_100f,_1010,_1011,i,_1012){var _1013=_1012.parentId,id=this.id+"-row-"+(_1013?_1013+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_100f):this._autoId++),row=byId(id),_1014=row&&row.previousSibling;if(row){if(row===_1011){_1011=(_1011.connected||_1011).nextSibling;}this.removeRow(row);}row=this.renderRow(_100f,_1012);row.className=(row.className||"")+" dgrid-row "+(i%2==1?_fb6:_fb7)+(this.addUiClasses?" ui-state-default":"");this._rowIdToObject[row.id=id]=_100f;_1010.insertBefore(row,_1011||null);if(_1014){this.adjustRowIndices(_1014);}row.rowIndex=i;return row;},renderRow:function(value,_1015){return put("div",""+value);},removeRow:function(_1016,_1017){_1016=_1016.element||_1016;delete this._rowIdToObject[_1016.id];if(!_1017){put(_1016,"!");}},row:function(_1018){var id;if(_1018 instanceof this._Row){return _1018;}if(_1018.target&&_1018.target.nodeType){_1018=_1018.target;}if(_1018.nodeType){var _1019;do{var rowId=_1018.id;if((_1019=this._rowIdToObject[rowId])){return new this._Row(rowId.substring(this.id.length+5),_1019,_1018);}_1018=_1018.parentNode;}while(_1018&&_1018!=this.domNode);return;}if(typeof _1018=="object"){id=this.store.getIdentity(_1018);}else{id=_1018;_1018=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_1018,byId(this.id+"-row-"+id));},cell:function(_101a){return {row:this.row(_101a)};},_move:function(item,steps,_101b,_101c){var _101d,_101e,_101f;_101f=_101e=item.element;steps=steps||1;do{if((_101d=_101e[steps<0?"previousSibling":"nextSibling"])){do{_101e=_101d;if(_101e&&(_101e.className+" ").indexOf(_101b+" ")>-1){_101f=_101e;steps+=steps<0?1:-1;break;}}while((_101d=(!_101c||!_101e.hidden)&&_101e[steps<0?"lastChild":"firstChild"]));}else{_101e=_101e.parentNode;if(!_101e||_101e===this.bodyNode||_101e===this.headerNode){break;}}}while(steps);return _101f;},up:function(row,steps,_1020){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(steps||1),"dgrid-row",_1020));},down:function(row,steps,_1021){if(!row.element){row=this.row(row);}return this.row(this._move(row,steps||1,"dgrid-row",_1021));},scrollTo:has("touch")?function(_1022){return this.useTouchScroll?this.inherited(arguments):_fce.call(this,_1022);}:_fce,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_fcd.call(this);}:_fcd,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);}return this[name];},set:function(name,value){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);}this[name]=value;}}return this;},_getClass:_fcb,_setClass:_fc9,_getClassName:_fcb,_setClassName:_fc9,_setSort:function(_1023,_1024){this._sort=typeof _1023!="string"?_1023:[{attribute:_1023,descending:_1024}];this.refresh();if(this._lastCollection){if(_1023.length){if(typeof _1023!="string"){_1024=_1023[0].descending;_1023=_1023[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_1023],bVal=b[_1023];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_1024?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_1025,_1026){_fb0.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_1025,_1026);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _1027=this.headerNode;this.showHeader=show;put(_1027,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_1027.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_fb0.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dgrid/util/misc":function(){define(["dojo/has","put-selector/put"],function(has,put){has.add("dom-contains",function(_1028,doc,_1029){return !!_1029.contains;});var _102a=[],_102b,_102c,_102d,_102e=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _102f(index){var _1030=_102a[index],i,l;if(_1030===undefined){return;}_102b[_102c](_1030);_102a[index]=undefined;for(i=index+1,l=_102a.length;i<l;i++){if(_102a[i]>_1030){_102a[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_1031,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_1031,arguments);setTimeout(function(){ran=false;},delay);};},throttleDelayed:function(cb,_1032,delay){var ran=false;delay=delay||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_1032,a);},delay);};},debounce:function(cb,_1033,delay){var timer;delay=delay||util.defaultDelay;return function(){if(timer){clearTimeout(timer);timer=null;}var a=arguments;timer=setTimeout(function(){cb.apply(_1033,a);},delay);};},each:function(_1034,_1035,_1036){var i,len;if(!_1034){return;}if(typeof _1034.length==="number"){for(i=0,len=_1034.length;i<len;i++){_1035.call(_1036,_1034[i],i,_1034);}}else{for(i in _1034){_1035.call(_1036,_1034[i],i,_1034);}}},contains:function(_1037,node){if(has("dom-contains")){return _1037.contains(node);}else{return _1037.compareDocumentPosition(node)&8;}},addCssRule:function(_1038,css){if(!_102b){_102b=put(document.getElementsByTagName("head")[0],"style");_102b=_102b.sheet||_102b.styleSheet;_102c=_102b.deleteRule?"deleteRule":"removeRule";_102d=_102b.cssRules?"cssRules":"rules";}var index=_102a.length;_102a[index]=(_102b.cssRules||_102b.rules).length;_102b.addRule?_102b.addRule(_1038,css):_102b.insertRule(_1038+"{"+css+"}",_102a[index]);return {get:function(prop){return _102b[_102d][_102a[index]].style[prop];},set:function(prop,value){if(typeof _102a[index]!=="undefined"){_102b[_102d][_102a[index]].style[prop]=value;}},remove:function(){_102f(index);}};},escapeCssIdentifier:function(id,_1039){return typeof id==="string"?id.replace(_102e,_1039||"\\$1"):id;}};return util;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _103a={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_103a[test]){_103a[test]=true;var parts=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_103b=has(parts[2]),lower=-parts[4];if((lower>0?lower<=_103b&&(-parts[5]||lower)>=_103b:!!_103b)==!parts[1]){document.documentElement.className+=" has-"+test;}}}};});},"xstyle/css":function(){define(["require"],function(_103c){"use strict";function _103d(tag,id,_103e){var _103f=document.documentElement;var _1040=_103f.insertBefore(document.createElement(tag),_103f.firstChild);_1040.id=id;var _1041=(_1040.currentStyle||getComputedStyle(_1040,null))[_103e];_103f.removeChild(_1040);return _1041;};return {load:function(_1042,_1043,_1044,_1045){var url=_1043.toUrl(_1042);var _1046=_1043.cache["url:"+url];if(_1046){if(_1046.xCss){var _1047=_1046.parser;var xCss=_1046.xCss;_1046=_1046.cssText;}_103c(["./util/createStyleSheet"],function(_1048){_1048(_1046);});if(xCss){}return _1049();}function _1049(){var _104a=_103d("x-parse",null,"content");
if(_104a&&_104a!="none" && _104a != "normal"){_1043([eval(_104a)],_1044);}
else{_1044();}};
var _104b=_103d("div",_1042.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_104b=="none"){return _1049();}_103c(["./load-css"],function(load){load(url,_1049);});}};});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/dom","dojo/on","./util/misc","put-selector/put"],function(List,_104c,_104d,lang,_104e,dom,_104f,_1050,put){return _104d([List,_104c],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:0,pagingMethod:"debounce",pagingDelay:_1050.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_104f(this.bodyNode,"scroll",_1050[this.pagingMethod](function(event){self._processScroll(event);},null,this.pagingDelay));},renderQuery:function(query,_1051){var self=this,_1052=(_1051&&_1051.container)||this.contentNode,_1053={query:query,count:0,options:_1051},_1054,_1055=this.preload,_1056;var _1057={node:put(_1052,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_1053,options:_1051};_1057.node.style.height="0";_1053.node=_1054=put(_1052,"div.dgrid-preload");_1053.previous=_1057;_1054.rowIndex=this.minRowsPerPage;if(_1055){if((_1053.next=_1055.next)&&_1054.offsetTop>=_1055.node.offsetTop){_1053.previous=_1055;}else{_1053.next=_1055;_1053.previous=_1055.previous;}_1053.previous.next=_1053;_1053.next.previous=_1053;}else{this.preload=_1053;}var _1058=put(_1054,"-div.dgrid-loading"),_1059=put(_1058,"div.dgrid-below");_1059.innerHTML=this.loadingMessage;function _105a(err){put(_1058,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_1051=lang.mixin(this.get("queryOptions"),_1051,{start:0,count:this.minRowsPerPage},"level" in query?{queryLevel:query.level}:null);this._trackError(function(){return _1056=query(_1051);});if(typeof _1056==="undefined"){_105a();return;}_104e.when(self.renderArray(_1056,_1054,_1051),function(trs){var total=typeof _1056.total==="undefined"?_1056.length:_1056.total;return _104e.when(total,function(total){var _105b=trs.length,_105c=_1054.parentNode,_105d=self.noDataNode;put(_1058,"!");if(!("queryLevel" in _1051)){self._total=total;}if(total===0){if(_105d){put(_105d,"!");delete self.noDataNode;}self.noDataNode=_105d=put("div.dgrid-no-data");_105c.insertBefore(_105d,self._getFirstRowSibling(_105c));_105d.innerHTML=self.noDataMessage;}var _105e=0;for(var i=0;i<_105b;i++){_105e+=self._calcRowHeight(trs[i]);}if(_105b&&_105e){self.rowHeight=_105e/_105b;}total-=_105b;_1053.count=total;_1054.rowIndex=_105b;if(total){_1054.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";}else{_1054.style.display="none";_1051.count++;}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_1056);delete self._refreshDeferred;}return trs;},_105a);},_105a);return _1056;},refresh:function(_105f){var self=this,keep=(_105f&&_105f.keepScrollPosition),dfd,_1060;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _104e();_1060=self.renderQuery(function(_1061){return self.store.query(self.query,_1061);});if(typeof _1060==="undefined"){dfd.reject();}return dfd.then(function(_1062){setTimeout(function(){_104f.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_1062});},0);delete self._refreshDeferred;return _1062;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_1063){return _1063.lastChild;},_calcRowHeight:function(_1064){var _1065=_1064.nextSibling;if(_1065&&!/\bdgrid-preload\b/.test(_1065.className)){return _1065.offsetTop-_1064.offsetTop;}return _1064.offsetHeight;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_1066=grid.bodyNode,_1067=(evt&&evt.scrollTop)||this.getScrollPosition().y,_1068=_1066.offsetHeight+_1067,_1069,_106a,_106b=grid.preload,_106c=grid.lastScrollTop,_106d=grid.bufferRows*grid.rowHeight,_106e=_106d-grid.rowHeight,_106f,_1070,_1071,_1072=true;var _1073=1;grid.lastScrollTop=_1067;function _1074(_1075,_1076,_1077,below){var _1078=grid.farOffRemoval,_106a=_1075.node;if(_1076>2*_1078){var row,_1079=_106a[_1077];var _107a=0;var count=0;var _107b=[];while((row=_1079)){var _107c=grid._calcRowHeight(row);if(_107a+_107c+_1078>_1076||(_1079.className.indexOf("dgrid-row")<0&&_1079.className.indexOf("dgrid-loading")<0)){break;}var _1079=row[_1077];_107a+=_107c;count+=row.count||1;grid.removeRow(row,true);_107b.push(row);}_1075.count+=count;if(below){_106a.rowIndex-=count;_107d(_1075);}else{_106a.style.height=(_106a.offsetHeight+_107a)+"px";}var _107e=put("div",_107b);setTimeout(function(){put(_107e,"!");},1);}};function _107d(_107f,noMax){_107f.node.style.height=Math.min(_107f.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";};function _1080(_1081,_1082){do{_1081=_1082?_1081.next:_1081.previous;}while(_1081&&!_1081.node.offsetWidth);return _1081;};while(_106b&&!_106b.node.offsetWidth){_106b=_106b.previous;}while(_106b&&_106b!=_1069){_1069=grid.preload;grid.preload=_106b;_106a=_106b.node;var _1083=_106a.offsetTop;var _1084;if(_1068+_1073+_106e<_1083){_106b=_1080(_106b,(_1072=false));}else{if(_1067-_1073-_106e>(_1083+(_1084=_106a.offsetHeight))){_106b=_1080(_106b,(_1072=true));}else{var _1085=((_106a.rowIndex?_1067-_106d:_1068)-_1083)/grid.rowHeight;var count=(_1068-_1067+2*_106d)/grid.rowHeight;var _1086=Math.max(Math.min((_1067-_106c)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);count+=Math.min(Math.abs(_1086),10);if(_106a.rowIndex==0){_1085-=count;}_1085=Math.max(_1085,0);if(_1085<10&&_1085>0&&count+_1085<grid.maxRowsPerPage){count+=Math.max(0,_1085);_1085=0;}count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_106b.count);if(count==0){_106b=_1080(_106b,_1072);continue;}count=Math.ceil(count);_1085=Math.min(Math.floor(_1085),_106b.count-count);var _1087=lang.mixin(grid.get("queryOptions"),_106b.options);_106b.count-=count;var _1088=_106a,_1089,_108a=grid.queryRowsOverlap,below=(_106a.rowIndex>0||_106a.offsetTop>_1067)&&_106b;if(below){var _108b=_106b.previous;if(_108b){_1074(_108b,_1067-(_108b.node.offsetTop+_108b.node.offsetHeight),"nextSibling");if(_1085>0&&_108b.node==_106a.previousSibling){_1085=Math.min(_106b.count,_1085);_106b.previous.count+=_1085;_107d(_106b.previous,true);_106a.rowIndex+=_1085;_108a=0;}else{count+=_1085;}_106b.count-=_1085;}_1087.start=_106a.rowIndex-_108a;_1087.count=Math.min(count+_108a,grid.maxRowsPerPage);_106a.rowIndex=_1087.start+_1087.count;}else{if(_106b.next){_1074(_106b.next,_106b.next.node.offsetTop-_1068,"previousSibling",true);var _1088=_106a.nextSibling;if(_1088==_106b.next.node){_106b.next.count+=_106b.count-_1085;_106b.next.node.rowIndex=_1085+count;_107d(_106b.next);_106b.count=_1085;_108a=0;}else{_1089=true;}}_1087.start=_106b.count;_1087.count=Math.min(count+_108a,grid.maxRowsPerPage);}if(_1089&&_1088&&_1088.offsetWidth){_1089=_1088.offsetTop;}_107d(_106b);if("level" in _106b.query){_1087.queryLevel=_106b.query.level;}if(!("queryLevel" in _1087)&&(_1087.start>grid._total||_1087.count<0)){continue;}var _108c=put(_1088,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_108d=put(_108c,"div.dgrid-"+(below?"below":"above"));_108d.innerHTML=grid.loadingMessage;_108c.count=count;var _108e=_106b.query(_1087),_108f=grid._trackError(function(){return _108e;});if(_108f===undefined){put(_108c,"!");return;}(function(_1090,below,_1091,_1092){_1071=_104e.when(grid.renderArray(_1092,_1090,_1087),function(rows){_1070=_1092;_1088=_1090.nextSibling;put(_1090,"!");if(_1091&&_1088&&_1088.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_1088.offsetTop-_1091,preserveMomentum:true});}_104e.when(_1092.total||_1092.length,function(total){if(!("queryLevel" in _1087)){grid._total=total;}if(below){below.count=total-below.node.rowIndex;if(below.count===0){_1087.count++;}_107d(below);}});grid._processScroll();return rows;},function(e){put(_1090,"!");throw e;});}).call(this,_108c,below,_1089,_108e);_106b=_106b.previous;}}}if(_1071&&(_106f=this._refreshDeferred)){delete this._refreshDeferred;_104e.when(_1071,function(){_106f.resolve(_1070);});}},removeRow:function(_1093,_1094){function _1095(_1096,_1097){return _1096!=null?_1096:_1097;};if(_1093){var _1098=_1093.previousSibling,_1099=_1093.nextSibling,_109a=_1098&&_1095(_1098.observerIndex,_1098.previousObserverIndex),_109b=_1099&&_1095(_1099.observerIndex,_1099.nextObserverIndex),_109c=_1093.observerIndex;_1093.observerIndex=undefined;if(_1094){_1093.nextObserverIndex=_109b;_1093.previousObserverIndex=_109a;}if(this.cleanEmptyObservers&&_109c>-1&&_109c!==_109a&&_109c!==_109b){var _109d=this.observers;var _109e=_109d[_109c];if(_109e){if(!_1094){var rows=_109e.rows;for(var i=0;i<rows.length;i++){if(rows[i]!=_1093&&dom.isDescendant(rows[i],this.domNode)){return this.inherited(arguments);}}}_109e.cancel();this._numObservers--;_109d[_109c]=0;}}}this.inherited(arguments);}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_109f,_10a0,lang,_10a1,_10a2,_10a3,put){function noop(value){return value;};function _10a4(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_10a2.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _10a0(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_10a3.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_10a5){if(_10a5.set){this._columnsWithSet[_10a5.field]=_10a5;}this.inherited(arguments);},_updateNotifyHandle:function(store){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(store&&typeof store.notify==="function"){this._notifyHandle=_10a3.after(store,"notify",lang.hitch(this,"_onNotify"),true);var sort=this.get("sort");if(!sort||!sort.length){console.warn("Observable store detected, but no sort order specified. "+"You may experience quirks when adding/updating items.  "+"These can be resolved by setting a sort order on the list or grid.");}}},_setStore:function(store,query,_10a6){this._updateNotifyHandle(store);this.store=store;this.dirty={};this.set("query",query,_10a6);},_setQuery:function(query,_10a7){var sort=_10a7&&_10a7.sort;this.query=query!==undefined?query:this.query;this.queryOptions=_10a7||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(store,query,_10a8){_109f.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",store,query,_10a8);},setQuery:function(query,_10a9){_109f.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",query,_10a9);},_getQueryOptions:function(){var _10aa=lang.delegate(this.queryOptions,{});if(typeof (this._sort)==="function"||this._sort.length){_10aa.sort=this._sort;}return _10aa;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_10ab,_10ac){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_10ad,_10ae){this.inherited(arguments);if(_10ad&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},refresh:function(){var _10af=this.inherited(arguments);if(!this.store){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return _10af;},renderArray:function(){var self=this;var rows=this.inherited(arguments);if(!this.store){_10a1.when(rows,function(_10b0){if(_10b0.length&&self.noDataNode){put(self.noDataNode,"!");}});}return rows;},insertRow:function(_10b1,_10b2,_10b3,i,_10b4){var store=this.store,dirty=this.dirty,id=store&&store.getIdentity(_10b1),_10b5;if(id in dirty&&!(id in this._updating)){_10b5=dirty[id];}if(_10b5){_10b1=lang.delegate(_10b1,_10b5);}return this.inherited(arguments);},updateDirty:function(id,field,value){var dirty=this.dirty,_10b6=dirty[id];if(!_10b6){_10b6=dirty[id]={};}_10b6[field]=value;},setDirty:function(id,field,value){_109f.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,field,value);},save:function(){var self=this,store=this.store,dirty=this.dirty,dfd=new _10a1(),_10b7=dfd.promise,_10b8=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return store.get(id);}:function(){return data;};};function _10b9(id,_10ba){return function(_10bb){var _10bc=self._columnsWithSet,_10bd=self._updating,key,data;if(typeof _10bb.set==="function"){_10bb.set(_10ba);}else{for(key in _10ba){_10bb[key]=_10ba[key];}}for(key in _10bc){data=_10bc[key].set(_10bb);if(data!==undefined){_10bb[key]=data;}}_10bd[id]=true;return _10a1.when(store.put(_10bb),function(){delete dirty[id];delete _10bd[id];});};};for(var id in dirty){var put=_10b9(id,dirty[id]);_10b7=_10b7.then(_10b8(id)).then(put);}dfd.resolve();return _10b7;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _10be;if(typeof func=="string"){func=lang.hitch(this,func);}try{_10be=func();}catch(err){_10a4.call(this,err);}return _10a1.when(_10be,noop,lang.hitch(this,_10a4));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_10bf,_10c0){var row={element:_10bf};if(!_10c0&&this.noDataMessage&&(this.up(row).element===_10bf)&&(this.down(row).element===_10bf)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_10c1,_10c2,_10c3,on,has,_10c4,List,_10c5,put){has.add("dom-comparedocumentposition",function(_10c6,doc,_10c7){return !!_10c7.compareDocumentPosition;});has.add("pointer",function(_10c8){return "PointerEvent" in _10c8?"pointer":"MSPointerEvent" in _10c8?"MSPointer":false;});has.add("css-user-select",function(_10c9,doc,_10ca){var style=_10ca.style,_10cb=["Khtml","O","ms","Moz","Webkit"],i=_10cb.length,name="userSelect";do{if(typeof style[name]!=="undefined"){return name;}}while(i--&&(name=_10cb[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _10cc=has("mac")?"metaKey":"ctrlKey",_10cd=has("css-user-select"),_10ce=has("pointer"),_10cf=_10ce&&_10ce.slice(0,2)==="MS",_10d0=_10ce?_10ce+(_10cf?"Down":"down"):"mousedown",_10d1=_10ce?_10ce+(_10cf?"Up":"up"):"mouseup";function _10d2(node,_10d3){var value=node.unselectable=_10d3?"on":"",_10d4=node.getElementsByTagName("*"),i=_10d4.length;while(--i){if(_10d4[i].tagName==="INPUT"||_10d4[i].tagName==="TEXTAREA"){continue;}_10d4[i].unselectable=value;}};function _10d5(grid,_10d6){var node=grid.bodyNode,value=_10d6?"text":has("ff")<21?"-moz-none":"none";if(_10cd&&_10cd!=="msUserSelect"){node.style[_10cd]=value;}else{if(has("dom-selectstart")){if(!_10d6&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_10d6&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_10d2(node,!_10d6);if(!_10d6&&!grid._unselectableHandle){grid._unselectableHandle=_10c4.after(grid,"renderRow",function(row){_10d2(row,true);return row;});}else{if(_10d6&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _10c2(null,{selectionDelegate:".dgrid-row",selectionEvents:_10d0+","+_10d1+",dgrid-cellfocusin",selectionTouchEvents:has("touch")?_10c5.tap:null,deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,_selectionTargetType:"rows",create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this._initSelectionEvents();var _10d7=this.selectionMode;this.selectionMode="";this._setSelectionMode(_10d7);},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._removeDeselectSignals){this._removeDeselectSignals();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_10c1.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(allow){if(typeof allow!=="undefined"){_10d5(this,allow);}else{_10d5(this,this.selectionMode==="none");}this.allowTextSelection=allow;},_handleSelect:function(event,_10d8){if(!this[this._selectionHandlerName]||!this.allowSelect(this.row(_10d8))||(event.type==="dgrid-cellfocusin"&&event.parentType==="mousedown")||(event.type===_10d1&&_10d8!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=event;if(!event.keyCode||!event.ctrlKey||event.keyCode==32){if(!event.shiftKey&&event.type===_10d0&&this.isSelected(_10d8)){this._waitForMouseUp=_10d8;}else{this[this._selectionHandlerName](event,_10d8);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(event,_10d9){var _10da=event.keyCode?event.ctrlKey:event[_10cc];if(this._lastSelected===_10d9){this.select(_10d9,null,!_10da||!this.isSelected(_10d9));}else{this.clearSelection();this.select(_10d9);this._lastSelected=_10d9;}},_multipleSelectionHandler:function(event,_10db){var _10dc=this._lastSelected,_10dd=event.keyCode?event.ctrlKey:event[_10cc],value;if(!event.shiftKey){value=_10dd?null:true;_10dc=null;}this.select(_10db,_10dc,value);if(!_10dc){this._lastSelected=_10db;}},_extendedSelectionHandler:function(event,_10de){if(event.button===2?!this.isSelected(_10de):!(event.keyCode?event.ctrlKey:event[_10cc])){this.clearSelection(null,true);}this._multipleSelectionHandler(event,_10de);},_toggleSelectionHandler:function(event,_10df){this.select(_10df,null,null);},_initSelectionEvents:function(){var grid=this,_10e0=this.contentNode,_10e1=this.selectionDelegate;this._selectionEventQueues={deselect:[],select:[]};if(has("touch")&&!has("pointer")&&this.selectionTouchEvents){on(_10e0,_10c5.selector(_10e1,this.selectionTouchEvents),function(evt){grid._handleSelect(evt,this);grid._ignoreMouseSelect=this;});on(_10e0,on.selector(_10e1,this.selectionEvents),function(event){if(grid._ignoreMouseSelect!==this){grid._handleSelect(event,this);}else{if(event.type===_10d1){grid._ignoreMouseSelect=null;}}});}else{on(_10e0,on.selector(_10e1,this.selectionEvents),function(event){grid._handleSelect(event,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(event){grid._handleSelect(event,event.target);});}if(this.allowSelectAll){this.on("keydown",function(event){if(event[_10cc]&&event.keyCode==65&&!/\bdgrid-input\b/.test(event.target.className)){event.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_10c4.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,store=this.store,_10e2,_10e3;function _10e4(_10e5,_10e6,_10e7){var id=_10e6||(_10e5&&_10e5[self.idProperty||"id"]);if(id!=null){var row=self.row(id),_10e8=row&&self.selection[row.id];if(_10e8){self[_10e7](row,null,_10e8);}}};if(this._removeDeselectSignals){this._removeDeselectSignals();}if(store&&store.notify){_10e2=_10c4.before(store,"notify",function(_10e9,_10ea){if(!_10e9){_10e4(_10e9,_10ea,"deselect");}});_10e3=_10c4.after(store,"notify",function(_10eb,_10ec){_10e4(_10eb,_10ec,"select");},true);this._removeDeselectSignals=function(){_10e2.remove();_10e3.remove();};}else{_10e2=_10c4.before(this,"removeRow",function(_10ed,_10ee){var row;if(!_10ee){row=this.row(_10ed);if(row&&(row.id in this.selection)){this.deselect(row);}}});this._removeDeselectSignals=function(){_10e2.remove();};}},allowSelect:function(row){return true;},_fireSelectionEvent:function(type){var queue=this._selectionEventQueues[type],_10ef=this._selectionTriggerEvent,_10f0;_10f0={bubbles:true,grid:this};if(_10ef){_10f0.parentType=_10ef.type;}_10f0[this._selectionTargetType]=queue;on.emit(this.contentNode,"dgrid-"+type,_10f0);this._selectionEventQueues[type]=[];},_fireSelectionEvents:function(){var _10f1=this._selectionEventQueues,type;for(type in _10f1){if(_10f1[type].length){this._fireSelectionEvent(type);}}},_select:function(row,toRow,value){var _10f2,_10f3,_10f4,_10f5,_10f6;if(typeof value==="undefined"){value=true;}if(!row.element){row=this.row(row);}if(value===false||this.allowSelect(row)){_10f2=this.selection;_10f3=!!_10f2[row.id];if(value===null){value=!_10f3;}_10f4=row.element;if(!value&&!this.allSelected){delete this.selection[row.id];}else{_10f2[row.id]=value;}if(_10f4){if(value){put(_10f4,".dgrid-selected"+(this.addUiClasses?".ui-state-active":""));}else{put(_10f4,"!dgrid-selected!ui-state-active");}}if(value!==_10f3&&_10f4){this._selectionEventQueues[(value?"":"de")+"select"].push(row);}if(toRow){if(!toRow.element){toRow=this.row(toRow);}if(!toRow){this._lastSelected=_10f4;console.warn("The selection range has been reset because the "+"beginning of the selection is no longer in the DOM. "+"If you are using OnDemandList, you may wish to increase "+"farOffRemoval to avoid this, but note that keeping more nodes "+"in the DOM may impact performance.");return;}_10f5=toRow.element;if(_10f5){_10f6=this._determineSelectionDirection(_10f4,_10f5);if(!_10f6){_10f5=document.getElementById(_10f5.id);_10f6=this._determineSelectionDirection(_10f4,_10f5);}while(row.element!=_10f5&&(row=this[_10f6](row))){this._select(row,null,value);}}}}},_determineSelectionDirection:has("dom-comparedocumentposition")?function(from,to){var _10f7=to.compareDocumentPosition(from);if(_10f7&1){return false;}return _10f7===2?"down":"up";}:function(from,to){if(to.sourceIndex<1){return false;}return to.sourceIndex>from.sourceIndex?"down":"up";},select:function(row,toRow,value){this._select(row,toRow,value);this._fireSelectionEvents();},deselect:function(row,toRow){this.select(row,toRow,false);},clearSelection:function(_10f8,_10f9){this.allSelected=false;for(var id in this.selection){if(_10f8!==id){this._select(id,null,false);}}if(!_10f9){this._lastSelected=null;}this._fireSelectionEvents();},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this._select(row.id,null,true);}this._fireSelectionEvents();},isSelected:function(_10fa){if(typeof _10fa==="undefined"||_10fa===null){return false;}if(!_10fa.element){_10fa=this.row(_10fa);}return (_10fa.id in this.selection)?!!this.selection[_10fa.id]:this.allSelected&&(!_10fa.data||this.allowSelect(_10fa));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_10c3.when(rows,function(rows){var _10fb=grid.selection,i,row,_10fc;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_10fc=row.id in _10fb?_10fb[row.id]:grid.allSelected;if(_10fc){grid._select(row,null,_10fc);}}grid._fireSelectionEvents();});return rows;}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","./util/misc","dojo/_base/Deferred","dojo/_base/sniff"],function(_10fd,_10fe,on,lang,has,put,_10ff,_1100){var _1101={checkbox:1,radio:1,button:1},_1102=/\bdgrid-cell\b/,_1103=/\bdgrid-row\b/;var _1104=_10fd(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_1104.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_1104.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _1105(event){var _1106=event.target;return _1106.type&&(!_1101[_1106.type]||event.keyCode==32);};function _1107(_1108){var _1109=grid.cellNavigation,_110a=_1109?_1102:_1103,_110b=_1108===grid.headerNode,_110c=_1108;function _110d(){if(grid._focusedHeaderNode){grid._focusedHeaderNode.tabIndex=-1;}if(grid.showHeader){if(_1109){for(var i=0,_110e,_110f=grid.headerNode.getElementsByTagName("th");(_110e=_110f[i]);++i){if(_110a.test(_110e.className)){grid._focusedHeaderNode=_110c=_110e;break;}}}else{grid._focusedHeaderNode=_110c=grid.headerNode;}if(_110c){_110c.tabIndex=grid.tabIndex;}}};if(_110b){_110d();_10fe.after(grid,"renderHeader",_110d,true);}else{_10fe.after(grid,"renderArray",function(ret){return _1100.when(ret,function(ret){var _1110=grid._focusedNode||_110c;if(_110a.test(_1110.className)&&_10ff.contains(_1108,_1110)){return ret;}for(var i=0,_1111=_1108.getElementsByTagName("*"),_1112;(_1112=_1111[i]);++i){if(_110a.test(_1112.className)){_1110=grid._focusedNode=_1112;break;}}_1110.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_1108,"mousedown",function(event){if(!_1105(event)){grid._focusOnNode(event.target,_110b,event);}}));grid._listeners.push(on(_1108,"keydown",function(event){if(event.metaKey||event.altKey){return;}var _1113=grid[_110b?"headerKeyMap":"keyMap"][event.keyCode];if(_1113&&!_1105(event)){_1113.call(grid,event);}}));};if(this.tabableHeader){_1107(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_1107(this.contentNode);},removeRow:function(_1114){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_1115=document.activeElement===this._focusedNode,_1116=this[this.cellNavigation?"cell":"row"](this._focusedNode),_1117=_1116.row||_1116,_1118;_1114=_1114.element||_1114;if(_1114===_1117.element){_1118=this.down(_1117,true);if(!_1118||_1118.element===_1114){_1118=this.up(_1117,true);}this._removedFocus={active:_1115,rowId:_1117.id,columnId:_1116.column&&_1116.column.id,siblingId:!_1118||_1118.element===_1114?undefined:_1118.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_1117.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_1119){var _111a=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_111a);}return _111a;},_restoreFocus:function(row){var _111b=this._removedFocus,_111c,cell;row=row&&this.row(row);_111c=row&&row.element&&row.id===_111b.rowId?row:typeof _111b.siblingId!=="undefined"&&this.row(_111b.siblingId);if(_111c&&_111c.element){if(!_111c.element.parentNode.parentNode){_111b.wait=true;return;}if(typeof _111b.columnId!=="undefined"){cell=this.cell(_111c,_111b.columnId);if(cell&&cell.element){_111c=cell;}}if(_111b.active&&_111c.element.offsetHeight!==0){this._focusOnNode(_111c,false,null);}else{put(_111c.element,".dgrid-focus");_111c.element.tabIndex=this.tabIndex;this._focusedNode=_111c.element;}}delete this._removedFocus;},addKeyHandler:function(key,_111d,_111e){return _10fe.after(this[_111e?"headerKeyMap":"keyMap"],key,_111d,true);},_focusOnNode:function(_111f,_1120,event){var _1121="_focused"+(_1120?"Header":"")+"Node",_1122=this[_1121],_1123=this.cellNavigation?"cell":"row",cell=this[_1123](_111f),_1124,input,_1125,_1126,i;_111f=cell&&cell.element;if(!_111f){return;}if(this.cellNavigation){_1124=_111f.getElementsByTagName("input");for(i=0,_1125=_1124.length;i<_1125;i++){input=_1124[i];if((input.tabIndex!=-1||"_dgridLastValue" in input)&&!input.disabled){if(has("ie")<8){input.style.position="relative";}input.focus();if(has("ie")<8){input.style.position="";}_1126=true;break;}}}if(event!==null){event=lang.mixin({grid:this},event);if(event.type){event.parentType=event.type;}if(!event.bubbles){event.bubbles=true;}}if(_1122){put(_1122,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_1122.style.position="";}if(event){event[_1123]=this[_1123](_1122);on.emit(_1122,"dgrid-cellfocusout",event);}}_1122=this[_1121]=_111f;if(event){event[_1123]=cell;}var _1127=this.cellNavigation?_1102:_1103;if(!_1126&&_1127.test(_111f.className)){if(has("ie")<8){_111f.style.position="relative";}_111f.tabIndex=this.tabIndex;_111f.focus();}put(_111f,".dgrid-focus");if(event){on.emit(_1122,"dgrid-cellfocusin",event);}},focusHeader:function(_1128){this._focusOnNode(_1128||this._focusedHeaderNode,true);},focus:function(_1129){var node=_1129||this._focusedNode;if(node){this._focusOnNode(node,false);}else{this.contentNode.focus();}}});var _112a=_1104.moveFocusVertical=function(event,steps){var _112b=this.cellNavigation,_112c=this[_112b?"cell":"row"](event),_112d=_112b&&_112c.column.id,next=this.down(this._focusedNode,steps,true);if(_112b){next=this.cell(next,_112d);}this._focusOnNode(next,false,event);event.preventDefault();};var _112e=_1104.moveFocusUp=function(event){_112a.call(this,event,-1);};var _112f=_1104.moveFocusDown=function(event){_112a.call(this,event,1);};var _1130=_1104.moveFocusPageUp=function(event){_112a.call(this,event,-this.pageSkip);};var _1131=_1104.moveFocusPageDown=function(event){_112a.call(this,event,this.pageSkip);};var _1132=_1104.moveFocusHorizontal=function(event,steps){if(!this.cellNavigation){return;}var _1133=!this.row(event),_1134=this["_focused"+(_1133?"Header":"")+"Node"];this._focusOnNode(this.right(_1134,steps),_1133,event);event.preventDefault();};var _1135=_1104.moveFocusLeft=function(event){_1132.call(this,event,-1);};var _1136=_1104.moveFocusRight=function(event){_1132.call(this,event,1);};var _1137=_1104.moveHeaderFocusEnd=function(event,_1138){var nodes;if(this.cellNavigation){nodes=this.headerNode.getElementsByTagName("th");this._focusOnNode(nodes[_1138?0:nodes.length-1],true,event);}event.preventDefault();};var _1139=_1104.moveHeaderFocusHome=function(event){_1137.call(this,event,true);};var _113a=_1104.moveFocusEnd=function(event,_113b){var self=this,_113c=this.cellNavigation,_113d=this.contentNode,_113e=_113b?0:_113d.scrollHeight,_113f=_113d.scrollTop+_113e,_1140=_113d[_113b?"firstChild":"lastChild"],_1141=_1140.className.indexOf("dgrid-preload")>-1,_1142=_1141?_1140[(_113b?"next":"previous")+"Sibling"]:_1140,_1143=_1142.offsetTop+(_113b?0:_1142.offsetHeight),_1144;if(_1141){while(_1142&&_1142.className.indexOf("dgrid-row")<0){_1142=_1142[(_113b?"next":"previous")+"Sibling"];}if(!_1142){return;}}if(!_1141||_1140.offsetHeight<1){if(_113c){_1142=this.cell(_1142,this.cell(event).column.id);}this._focusOnNode(_1142,false,event);}else{if(!has("dom-addeventlistener")){event=lang.mixin({},event);}_1144=_10fe.after(this,"renderArray",function(rows){_1144.remove();return _1100.when(rows,function(rows){var _1145=rows[_113b?0:rows.length-1];if(_113c){_1145=self.cell(_1145,self.cell(event).column.id);}self._focusOnNode(_1145,false,event);});});}if(_113f===_1143){event.preventDefault();}};var _1146=_1104.moveFocusHome=function(event){_113a.call(this,event,true);};function _1147(event){event.preventDefault();};_1104.defaultKeyMap={32:_1147,33:_1130,34:_1131,35:_113a,36:_1146,37:_1135,38:_112e,39:_1136,40:_112f};_1104.defaultHeaderKeyMap={32:_1147,35:_1137,36:_1139,37:_1135,39:_1136};return _1104;});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_1148,_1149,_114a){return _1148(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_114a.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _114b=_114a.getEnclosingWidget(this.domNode.parentNode);if(_114b&&_114b.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_114a.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_114c){if(_114c){_1149.setMarginBox(this.domNode,_114c);}this.inherited(arguments);},_set:function(prop,value){this[prop]=value;},watch:function(){},getParent:function(){return _114a.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(array,_114d,_114e,_114f,_1150,_1151,_1152,event,keys,lang,on,touch,_1153,_1154,_1155,_1156,_1157){var _1158=_114e("dijit.layout._Splitter",[_1154,_1155],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_114f.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _1159=_114d(this._cookieName);if(_1159){this.child.domNode.style[this.horizontal?"height":"width"]=_1159;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_115a=_1151.getMarginBox(this.child.domNode)[dim],_115b=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0],_115c=_1151.getMarginBox(_115b.domNode)[dim];return Math.min(this.child.maxSize,_115a+_115c);},_startDrag:function(e){if(!this.cover){this.cover=_1150.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_114f.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_1150.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_114f.add(this.domNode,"dijitSplitterShadow");_1150.place(this.fake,this.domNode,"after");}_114f.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_114f.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _115d=this._factor,_115e=this.horizontal,axis=_115e?"pageY":"pageX",_115f=e[axis],_1160=this.domNode.style,dim=_115e?"h":"w",_1161=_1151.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_1162=this.region,_1163=_1162=="top"||_1162=="bottom"?"top":"left",_1164=parseInt(_1160[_1163],10),_1165=this._resize,_1166=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_1167){var delta=e[axis]-_115f,_1168=_115d*delta+_1161,_1169=Math.max(Math.min(_1168,max),min);if(_1165||_1167){_1166(_1169);}_1160[_1163]=delta+_1164+_115d*(_1169-_1168)+"px";}),on(de,"dragstart",event.stop),on(this.ownerDocumentBody,"selectstart",event.stop),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_114f.toggle(this.domNode,"dijitSplitterHover",o);_114f.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_114f.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_1150.destroy(this.fake);}_114f.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_114d(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _116a=this.horizontal;var tick=1;switch(e.charOrCode){case _116a?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _116a?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _116b=_1151.getMarginSize(this.child.domNode)[_116a?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_116b,this._computeMaxSize()),this.child.minSize));event.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _116c=_114e("dijit.layout._Gutter",[_1154,_1155],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_114f.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _116d=_114e("dijit.layout.BorderContainer",_1156,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_1158,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){var _116e=child.region;if(_116e){this.inherited(arguments);_114f.add(child.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_116e=="leading"){_116e=ltr?"left":"right";}if(_116e=="trailing"){_116e=ltr?"right":"left";}if(_116e!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _116f=child.splitter?this._splitterClass:_116c;if(lang.isString(_116f)){_116f=lang.getObject(_116f);}var _1170=new _116f({id:child.id+"_splitter",container:this,child:child,region:_116e,live:this.liveSplitters});_1170.isSplitter=true;child._splitterWidget=_1170;_1150.place(_1170.domNode,child.domNode,"after");_1170.startup();}child.region=_116e;}},layout:function(){this._layoutChildren();},addChild:function(child,_1171){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){var _1172=child.region;var _1173=child._splitterWidget;if(_1173){_1173.destroy();delete child._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_114f.remove(child.domNode,this.baseClass+"Pane");_1152.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1152.set(child.domNode,_1172=="top"||_1172=="bottom"?"width":"height","auto");},getChildren:function(){return array.filter(this.inherited(arguments),function(_1174){return !_1174.isSplitter;});},getSplitter:function(_1175){return array.filter(this.getChildren(),function(child){return child.region==_1175;})[0]._splitterWidget;},resize:function(_1176,_1177){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_1152.getComputedStyle(node);this.pe=_1151.getPadExtents(node,this.cs);this.pe.r=_1152.toPixelValue(node,this.cs.paddingRight);this.pe.b=_1152.toPixelValue(node,this.cs.paddingBottom);_1152.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_1178,_1179){if(!this._borderBox||!this._borderBox.h){return;}var _117a=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_117a.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _117b=[];array.forEach(_117a,function(_117c){var pane=_117c.pane;_117b.push(pane);if(pane._splitterWidget){_117b.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_1157.layoutChildren(this.domNode,dim,_117b,_1178,_1179);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _117d=child._splitterWidget;if(_117d){_117d.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_116d.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_1153,_116d.ChildWidgetProperties);_116d._Splitter=_1158;_116d._Gutter=_116c;return _116d;});},"epi/shell/widget/layout/_ComponentWrapper":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/string","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/Evented","dijit/_base/wai","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/BorderContainer","epi","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/GadgetAction","epi/shell/widget/command/RemoveGadget","epi/shell/widget/ComponentChrome","epi/shell/widget/dialog/Confirmation","epi/shell/widget/layout/_ComponentResizeMixin","epi/shell/widget/layout/_ComponentSplitter","dojo/text!./templates/_ComponentWrapperHeader.htm","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","dijit/form/Button","dijit/form/ToggleButton"],function(_117e,array,_117f,lang,_1180,_1181,_1182,_1183,_1184,wai,_1185,_1186,_1187,_1188,_1189,epi,_118a,_118b,_118c,_118d,_118e,_118f,_1190,_1191,res){var _1192=_117e([_1188,_1186,_1187,_1185,_1184],{templateString:_1191,title:"",res:res,open:true,toggleable:true,closable:false,"class":"epi-gadgetHeader",toggle:function(){},onClose:function(){},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"epi-gadgetTitle");}},startup:function(){this.inherited(arguments);this.toggleButton.set("checked",!this.open);},_setClosableAttr:function(_1193){_1180.set(this.closeButton.domNode,"display",_1193?"":"none");_1182.toggle(this.titleBarNode,"epi-gadget-unlocked",_1193);},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",this.title);},_setToggleableAttr:function(_1194){this.toggleable=_1194;wai.setWaiRole(this.focusNode,_1194?"button":"heading");if(_1194){wai.setWaiState(this.focusNode,"controls",this.id+"_pane");_1181.set(this.focusNode,"tabIndex",this.tabIndex);}else{_1181.remove(this.focusNode,"tabIndex");}this.toggleButton.set("disabled",!this.toggleable);this.toggleButton.set("iconClass",this.toggleable?"epi-gadget-toggle":"");}});return _117e([_1189,_118f,_1185,_118a,_1184],{dndType:"epi.shell.layout._ComponentWrapper",heading:"",toggleable:true,tabIndex:"0",baseClass:"epi-gadget","class":"epi-gadgetContainer",closable:false,dragRestriction:false,confirmationBeforeRemoval:true,res:res,gutters:false,postCreate:function(){this.inherited(arguments);this._header=new _1192({region:"top",splitter:false,title:this.heading||"",closable:this.closable,toggle:lang.hitch(this,this.toggle),onClose:lang.hitch(this,this.onClose)});this.addChild(this._header);},_setIsRemovableAttr:function(_1195){_1195=_1195!==false;this._set("isRemovable",_1195);this.set("closable",!!(_1195&&this.closable));},_setClosableAttr:function(_1196){this._set("closable",_1196);this._header&&this._header.set("closable",_1196);},_showRemovalConfirmationDialog:function(_1197){var _1198=this.heading?_117f.substitute(this.res.removecomponentquestion,{name:this.heading}):this.res.removecomponentquestionwithoutname;var _1199=new _118e({description:_1198,title:epi.resources.header.episerver,onAction:_1197});_1199.show();},onClose:function(evt){if(!this.confirmationBeforeRemoval){_1180.set(this.domNode,"display","none");this.onClosed();}else{this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_1180.set(this.domNode,"display","none");this.onClosed();}}));return true;}},startup:function(){this._header.set("open",this.open);this.set("open",this.open);this.inherited(arguments);},resize:function(_119a){_119a=lang.mixin({},_119a);if(!_119a.h){if(!this.open){var _119b=_1183.getMarginExtents(this.domNode).h;_119a.h=_119b+this._getClosedHeight();}else{if(this.lastOpenHeight){_119a.h=this.lastOpenHeight;}}}this.inherited(arguments,[_119a]);},getSize:function(){var size=_1183.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _119c=this._header?_1183.getMarginBox(this._header.domNode).h:0,_119d=this._splitter?_1183.getMarginBox(this._splitter.domNode).h:0;return _119c+_119d;},onClosed:function(){},_setHeadingAttr:function(text){this._set("heading",text);this._header&&this._header.set("title",text);},_setToggleableAttr:function(_119e){this._header&&this._header.set("toggleable",_119e);},toggle:function(){if(this._started){if(!open){this.lastOpenHeight=_1183.getMarginBox(this.domNode).h;}}this._started&&this.set("open",!this.get("open"));},_setOpenAttr:function(open){this.inherited(arguments);if(this._started){this.emit("toggle",this.open);}},addChild:function(child){if(child.isInstanceOf(_1190)||child.isInstanceOf(_1192)){return this.inherited(arguments);}this._addGadgetCommands(child);this.add("commands",new _118c({model:this}));var _119f=new _118d({region:"center",splitter:false});_119f.addProvider(this);_119f.addChild(child);this._child=_119f;this.inherited("addChild",[_119f]);if(this._started&&!child.started&&!child._started){child.startup();}},_addGadgetCommands:function(_11a0){if(_11a0&&lang.isArray(_11a0.gadgetActions)){array.forEach(_11a0.gadgetActions,function(_11a1){this.add("commands",new _118b({actionName:_11a1.actionName,label:_11a1.text,model:_11a0}));},this);}}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_11a2,lang,dijit){var _11a3={hasWaiRole:function(elem,role){var _11a4=this.getWaiRole(elem);return role?(_11a4.indexOf(role)>-1):(_11a4.length>0);},getWaiRole:function(elem){return lang.trim((_11a2.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_11a2.set(elem,"role",role);},removeWaiRole:function(elem,role){var _11a5=_11a2.get(elem,"role");if(!_11a5){return;}if(role){var t=lang.trim((" "+_11a5+" ").replace(" "+role+" "," "));_11a2.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,state){return elem.hasAttribute?elem.hasAttribute("aria-"+state):!!elem.getAttribute("aria-"+state);},getWaiState:function(elem,state){return elem.getAttribute("aria-"+state)||"";},setWaiState:function(elem,state,value){elem.setAttribute("aria-"+state,value);},removeWaiState:function(elem,state){elem.removeAttribute("aria-"+state);}};lang.mixin(dijit,_11a3);return dijit;});},"epi/shell/command/_CommandProviderMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(array,_11a6,_11a7){return _11a6([_11a7],{commands:null,constructor:function(){this.commands=this.commands||[];},updateCommandModel:function(model){array.forEach(this.commands,function(_11a8){_11a8.set("model",model);});}});});},"epi/shell/widget/command/GadgetAction":function(){define(["dojo/_base/declare","epi/shell/command/_Command"],function(_11a9,_11aa){return _11a9([_11aa],{actionName:null,category:"setting",canExecute:true,_execute:function(){this.model.loadView({action:this.actionName});}});});},"epi/shell/command/_Command":function(){define(["dojo/_base/declare","dojo/Stateful"],function(_11ab,_11ac){return _11ab([_11ac],{label:null,tooltip:null,iconClass:null,category:null,order:null,model:null,canExecute:false,isAvailable:true,_modelChangeWatcher:[],postscript:function(){this.inherited(arguments);this.watchModelChange();if(this.model){this._onModelChange();}},destroy:function(){this.unwatchModelChange();},execute:function(){if(this.isAvailable&&this.canExecute){return this._execute();}},watchModelChange:function(){this._modelChangeWatcher=this.watch("model",this._onModelChange);},unwatchModelChange:function(){this._modelChangeWatcher&&this._modelChangeWatcher.unwatch();},_execute:function(){},_onModelChange:function(){}});});},"epi/shell/widget/command/RemoveGadget":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","epi/shell/command/_Command"],function(_11ad,lang,_11ae,_11af){return _11ad([_11af],{label:_11ae.deletemenuitemlabel,category:"setting",order:1000,canExecute:true,_execute:function(){this.model.onClose();}});});},"epi/shell/widget/ComponentChrome":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/layout/BorderContainer","epi/shell/widget/_FocusableMixin","epi/shell/widget/command/CommandToolbar","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/ButtonBuilder","epi/shell/command/builder/DropDownButtonBuilder","epi/shell/command/builder/MenuAssembler"],function(_11b0,lang,_11b1,_11b2,_11b3,_11b4,_11b5,_11b6,_11b7,_11b8,_11b9){return _11b0([_11b2,_11b6,_11b3],{gutters:false,iconClass:"dijitNoIcon",postCreate:function(){this.inherited(arguments);this.toolbar=new _11b4({"class":"epi-componentToolbar",region:"bottom",groups:["default","context","setting"]});this.inherited("addChild",[this.toolbar]);var _11ba={showLabel:false};var _11bb=lang.mixin({"class":"epi-componentToolbarButton epi-mediumButton"},_11ba);var _11bc=new _11b7({settings:_11bb,optionClass:"epi-menu--inverted",optionItemClass:"epi-radioMenuItem"});var _11bd=new _11b8({itemSettings:_11ba,settings:lang.delegate(_11bb,{iconClass:"epi-iconContextMenu",title:_11b5.contextmenutooltip})});var _11be=new _11b8({itemSettings:_11ba,settings:lang.delegate(_11bb,{"class":"epi-componentSettingsButton epi-componentToolbarButton epi-mediumButton",iconClass:"epi-iconSettingsMenu",title:_11b5.settingsmenutooltip})});var _11bf=[{builder:_11bc,target:this.toolbar},{category:"setting",builder:_11be,target:this.toolbar},{category:"context",builder:_11bd,target:this.toolbar},{category:"popup",builder:_11bd,target:this.toolbar}];var _11c0=new _11b9({configuration:_11bf,commandSource:this});_11c0.build();},addChild:function(child){if(child){this.set("heading",child.get("heading"));}child.region="center";this.inherited(arguments);}});});},"epi/shell/widget/command/CommandToolbar":function(){define(["dojo/_base/declare","dijit/Toolbar"],function(_11c1,_11c2){return _11c1("epi.shell.widget.command.CommandToolbar",[_11c2],{_positions:null,groups:null,constructor:function(){this._positions=[];this.groups=[];},postMixInProperties:function(){this.inherited(arguments);for(var i=0;i<this.groups.length;i++){var _11c3={category:this.groups[i],position:0};this._positions.push(_11c3);}},addChild:function(_11c4,_11c5){if(!_11c5){var _11c6=_11c4._commandCategory||"default";_11c5=this._getCurrentPosition(_11c6);this.inherited("addChild",[_11c4,_11c5]);this._updatePositions(_11c6);}else{this.inherited(arguments);}},_getCurrentPosition:function(_11c7){for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_11c7){return this._positions[i].position;}}return 0;},_updatePositions:function(_11c8){var _11c9=0;for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_11c8){_11c9=1;}this._positions[i].position=this._positions[i].position+_11c9;}}});});},"epi/shell/command/_CommandConsumerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_11ca,lang){return _11ca(null,{providers:null,constructor:function(){this.providers=this.providers||[];},destroy:function(){this.inherited(arguments);array.forEach(this.providers,function(item){item.watch.unwatch();});},getConsumer:function(){return this;},addProvider:function(_11cb){var watch=_11cb.watch("commands",lang.hitch(this,this._commandsChanged));this.providers.push({provider:_11cb,watch:watch});this.onCommandsChanged("commands",null,_11cb.commands);return {removeProvider:lang.hitch(this,this.removeProvider,_11cb)};},removeProvider:function(_11cc){var _11cd=this.providers;for(var i=_11cd.length-1;i>=0;i--){if(_11cd[i].provider==_11cc){break;}}if(i>=0){var item=_11cd.splice(i,1)[0];item.watch.unwatch();item=null;this.onCommandsChanged("commands",_11cc.commands,null);}},getCommands:function(){var _11ce=[];array.forEach(this.providers,function(item){_11ce=_11ce.concat(item.provider.commands);});return _11ce;},onCommandsChanged:function(name,_11cf,added){},_commandsChanged:function(){this.onCommandsChanged.apply(this,arguments);}});});},"epi/shell/command/builder/ButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/form/Button","dijit/form/DropDownButton","dijit/form/ToggleButton","epi/shell/command/ToggleCommand","../_CommandModelBindingMixin","./_Builder","./OptionsBuilderMixin"],function(_11d0,lang,Menu,_11d1,_11d2,_11d3,_11d4,_11d5,_11d6,_11d7){var _11d8=_11d0([_11d2,_11d5],{onClick:function(){}});var _11d9=_11d0([_11d3,_11d5]);return _11d0([_11d6],{optionClass:"",optionItemClass:"",_buttonClass:_11d0([_11d1,_11d5]),_dropDownClass:_11d8,_optionsMenuClass:_11d0([Menu,_11d7]),_create:function(_11da){var _11db=_11da.get("options") instanceof Array,_11dc=this._createOptions(_11da);if(_11db){return new this._dropDownClass(lang.mixin({"class":"epi-chromeless epi-mediumButton",dropDown:new this._optionsMenuClass({"class":this.optionClass,model:_11da,optionItemClass:this.optionItemClass})},_11dc));}if(_11da instanceof _11d4){return new _11d9(_11dc);}return new this._buttonClass(_11dc);},_createOptions:function(_11dd){return lang.mixin({model:_11dd},this.settings);}});});},"epi/shell/command/ToggleCommand":function(){define(["dojo/_base/declare","epi/shell/DestroyableByKey","epi/shell/command/_Command"],function(_11de,_11df,_11e0){return _11de([_11e0,_11df],{property:null,active:false,_execute:function(){var name=this.property,value=!this.active;this.model.set(name,value);this.set("active",value);},_onModelChange:function(){var self=this;var model=this.model,_11e1=model&&model[this.property],_11e2=typeof _11e1=="boolean";this.set("canExecute",_11e2);this.set("active",_11e2&&_11e1);if(model){this.destroyByKey("modelPropertyWatcher");this.ownByKey("modelPropertyWatcher",model.watch(this.property,function(name,_11e3,value){self.set("active",!!value);}));}}});});},"epi/shell/command/_CommandModelBindingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","dojo/dom-class","../widget/_ModelBindingMixin"],function(_11e4,_11e5,_11e6,_11e7){return _11e4(_11e7,{modelBindingMap:{"label":["label"],"tooltip":["tooltip"],"iconClass":["iconClass"],"canExecute":["canExecute"],"isExecuting":["isExecuting"],"isAvailable":["isAvailable"],"active":["checked","isExpand"]},_setCanExecuteAttr:function(_11e8){this.set("disabled",!_11e8);},_setIsAvailableAttr:function(_11e9){if(this.domNode){_11e5.set(this.domNode,"display",_11e9?"":"none");}},_setIsExecutingAttr:function(_11ea){this.isExecutingClass&&_11e6.toggle(this.domNode,this.isExecutingClass,_11ea);},onClick:function(){this.inherited(arguments);this.model&&this.model.execute.apply(this.model,arguments);}});});},"epi/shell/widget/_ModelBindingMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(array,_11eb,lang,_11ec){return _11eb([_11ec],{model:null,modelBindingMap:null,constructor:function(_11ed){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(value){this.destroyByKey(this.model);this._set("model",value);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _11ee=lang.hitch(this,"_modelWatch");for(var _11ef in this.modelBindingMap){var _11f0=this.modelBindingMap[_11ef];this.ownByKey(this.model,this.model.watch(_11ef,_11ee));array.forEach(_11f0,function(_11f1){this.set(_11f1,this.model.get(_11ef));},this);}},_modelWatch:function(_11f2,_11f3,value){var _11f4=this.modelBindingMap[_11f2];array.forEach(_11f4,function(_11f5){this.set(_11f5,value);},this);}});});},"epi/shell/command/builder/_Builder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_11f6,lang){return _11f6(null,{settings:null,postscript:function(mixin){if(mixin){lang.mixin(this,mixin);}},create:function(_11f7,_11f8){var _11f9=this._create(_11f7);_11f9._command=_11f7;_11f9._commandCategory=_11f7.category;this._addToContainer(_11f9,_11f8);},remove:function(_11fa,_11fb){var _11fc=_11fb.getChildren(),len=_11fc.length,i=0;for(;i<len;i++){var child=_11fc[i];if(child._command===_11fa){_11fb.removeChild(child);child.destroy();return true;}}return false;},_create:function(){},_addToContainer:function(_11fd,_11fe){var _11ff=null;if(_11fe.getChildren&&_11fd._command&&_11fd._command.order){var order=_11fd._command.order;array.some(_11fe.getChildren(),function(child,index){var _1200=child._command&&child._command.order;if(!_1200||_1200>order){_11ff=index;return true;}});}if(_11ff!==null){_11fe.addChild?_11fe.addChild(_11fd,_11ff):_11fd.placeAt(_11fe);}else{_11fe.addChild?_11fe.addChild(_11fd):_11fd.placeAt(_11fe);}}});});},"epi/shell/command/builder/OptionsBuilderMixin":function(){define(["epi","dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/CheckedMenuItem","../OptionGroup","epi/shell/widget/MenuHeaderSeparator","epi/shell/DestroyableByKey"],function(epi,_1201,lang,on,_1202,_1203,_1204,_1205){return _1201([_1205],{optionItemClass:"",constructor:function(_1206){_1201.safeMixin(this,_1206);},startup:function(){this.inherited(arguments);this._addOptionMenuItems();},_addOptionMenuItems:function(){if(!this._started){return;}this.getChildren().forEach(function(child){this.removeChild(child);if(typeof child.destroy==="function"){child.destroy();}},this);this._createOptionMenuItems(this.model).forEach(this.addChild.bind(this));},_createOptionMenuItems:function(model){var items=[];var _1207=model.get("options");if(!lang.isArray(_1207)){return items;}if(model.optionsLabel){items.push(new _1204({label:model.optionsLabel}));}_1207.forEach(function(_1208){if(_1208 instanceof _1203){items.push(new _1204({label:_1208.label}));items=items.concat(this._createOptionMenuItems(_1208));}else{items.push(this._createMenuItem(_1208,model));}},this);return items;},_setModelAttr:function(model){this._set("model",model);this.destroyByKey("optionsWatch");this.ownByKey("optionsWatch",model.watch("options",this._addOptionMenuItems.bind(this)));},_createMenuItem:function(_1209,model){var _120a=new _1202({label:_1209.label,checked:epi.areEqual(model.get("selected"),_1209.value),"class":this.optionItemClass});_120a.own(on(_120a,"click",function(){model.set("selected",_1209.value);}));_120a.own(model.watch("selected",function(name,_120b,_120c){_120a.set("checked",epi.areEqual(_120c,_1209.value));}));return _120a;}});});},"epi/shell/command/OptionGroup":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/DestroyableByKey"],function(_120d,lang,_120e,_120f){return _120d([_120e,_120f],{label:"",options:null,model:null,selected:null,property:"",constructor:function(){this.options=[];},_selectedSetter:function(value){if(this.selected!==value){this.selected=value;this.model&&this.model.set(this.property,value);}},_modelSetter:function(model){this.destroyByKey("_model");this.model=model;if(model){this.set("selected",model.get(this.property));this.ownByKey("_model",model.watch(this.property,lang.hitch(this,function(name,_1210,_1211){this.set("selected",_1211);})));}}});});},"epi/shell/widget/MenuHeaderSeparator":function(){define(["dojo/_base/declare","dijit/MenuSeparator","dojo/text!./templates/MenuHeaderSeparator.html"],function(_1212,_1213,_1214){return _1212([_1213],{templateString:_1214,_setLabelAttr:{node:"labelNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuHeaderSeparator.html":"<tr class=\"dijitMenuSeparator epi-invertedTooltip\" role=\"separator\">\n    <td colspan=\"4\">\n        <div class=\"epi-tooltipDialogTop\">\n            <span data-dojo-attach-point=\"labelNode\"></span>\n            <div class=\"dijitTooltipConnector\"></div>\n        </div>\n    </td>\n</tr>\n","epi/shell/command/builder/DropDownButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder","epi/shell/DestroyableByKey"],function(_1215,lang,_1216,Menu,_1217,_1218,_1219){return _1215([_1218,_1219],{hideEmptyButton:false,_button:null,remove:function(_121a,_121b){var _121c=this._button,_121d=_121c.dropDown?_121c.dropDown.getChildren():[];_121d.forEach(function(child){if(child._command===_121a){this.destroyByKey(_121a);_121c.removeChild(child);child.destroy();return true;}},this);return false;},_addToContainer:function(_121e,_121f){if(!this._button){this._button=new _1217(lang.mixin({dropDown:new Menu()},this.settings));this._button._commandCategory=_121e._commandCategory;}if(_121f.addChild){_121f.addChild(this._button);}else{this._button.placeAt(_121f);this._button.startup();}this.inherited(arguments,[_121e,this._button.dropDown]);this._toggleButton();this.ownByKey(_121e._command,_121e._command.watch("isAvailable",lang.hitch(this,this._toggleButton)));},_toggleButton:function(){var _1220=this._button.dropDown.getChildren(),len=_1220.length,i=0,_1221=true,child;for(i;i<len;i++){child=_1220[i];if(child._command.isAvailable){_1221=false;break;}}if(this.hideEmptyButton){_1216.toggle(this._button.domNode,"dijitHidden",_1221);}else{this._button.set("disabled",_1221);}}});});},"epi/shell/command/builder/MenuBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/MenuItem","dijit/CheckedMenuItem","dijit/PopupMenuItem","epi/shell/command/builder/_Builder","epi/shell/command/builder/OptionsBuilderMixin","epi/shell/command/_CommandModelBindingMixin"],function(_1222,lang,Menu,_1223,_1224,_1225,_1226,_1227,_1228){return _1222([_1226],{_menuItemClass:_1222([_1223,_1228]),_checkedMenuItemClass:_1222([_1224,_1228]),_popupMenuItemClass:_1222([_1225,_1228]),_optionsMenuClass:_1222([Menu,_1227]),_create:function(_1229){var _122a=typeof _1229.active=="boolean",_122b=lang.isArray(_1229.options),_122c="popup" in _1229,cls=_122a?this._checkedMenuItemClass:((_122b||_122c)?this._popupMenuItemClass:this._menuItemClass),_122d=lang.mixin({model:_1229},this.itemSettings);var _122e=new cls(_122d);if(_122c){if(_1229.popupClass){_1229.set("popup",new _1229.popupClass({category:_1229.popupCategory}));}_122e.popup=_1229.popup;}if(_122b){_122e.popup=new this._optionsMenuClass({model:_1229});}return _122e;}});});},"epi/shell/command/builder/MenuAssembler":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/_StatefulGetterSetterMixin"],function(array,_122f,_1230,lang,_1231,_1232){return _1230([_1231,_1232],{commandSource:null,configuration:null,_commandSourceConnect:null,destroy:function(){_122f.disconnect(this._commandSourceConnect);},build:function(){this.set("commandSource",this.commandSource);},_setCommandSourceAttr:function(value){if(this._commandSourceConnect&&this.commandSource){_122f.disconnect(this._commandSourceConnect);this._removeCommands(this.commandSource.getCommands());}this.commandSource=value;if(this.commandSource){this._addCommands(this.commandSource.getCommands());this._commandSourceConnect=_122f.connect(this.commandSource,"onCommandsChanged",this,this._commandsChanged);}},_commandsChanged:function(name,_1233,added){if(_1233){this._removeCommands(_1233);}if(added){this._addCommands(added);}},_getBuildInfo:function(_1234){var _1235,_1236=_1234.category;array.some(this.configuration,function(item){if(item.category==_1236){_1235=item;return true;}return false;});return _1235;},_addCommands:function(_1237){array.forEach(_1237,this._addCommand,this);},_addCommand:function(_1238){var _1239=this._getBuildInfo(_1238);if(_1239){_1239.builder.create(_1238,_1239.target);}},_removeCommands:function(_123a){array.forEach(_123a,function(_123b){var _123c=this._getBuildInfo(_123b);if(_123c){_123c.builder.remove(_123b,_123c.target);}},this);}});});},"epi/shell/_StatefulGetterSetterMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(_123d,lang){return _123d(null,{get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this[name];},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name);var _123e=this[names.s];if(lang.isFunction(_123e)){_123e.apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,value);}return this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,value){var _123f=this[name];this[name]=value;if(this._watchCallbacks){this._watchCallbacks(name,_123f,value);}return this;}});});},"epi/shell/widget/layout/_ComponentResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/widget/layout/_ComponentSplitter"],function(_1240,_1241,_1242){return _1240(null,{showSplitter:true,open:true,resizable:true,startup:function(){this.inherited(arguments);if(!this._splitter){var _1243={child:this,container:this.getParent(),id:this.id+"_splitter",region:"bottom"};if(this._splitterNode){this._splitter=new _1242(_1243,this._splitterNode);}else{this._splitter=new _1242(_1243);this.addChild(this._splitter);}}this._toggleSplitter(this.showSplitter);this._splitter.startup();this._splitter.set("disabled",!this.resizable);},destroy:function(){if(this._splitter){this._splitter.destroyRecursive();}this.inherited(arguments);},_setOpenAttr:function(value){this._set("open",value);_1241.set(this.domNode,"minHeight",this.get("minHeight")+"px");this.set("resizable",value);},_setResizableAttr:function(value){this._set("resizable",value);if(this._splitter){this._splitter.set("disabled",!value);}},_getMinHeightAttr:function(){if(this.open){return this.minHeight;}return this.getSize().h;},_setShowSplitterAttr:function(_1244){this._set("showSplitter",_1244);this._toggleSplitter(_1244);},_toggleSplitter:function(show){if(this._splitter){_1241.set(this._splitter.domNode,"display",show?"":"none");}},getSize:function(){},_setLastOpenHeightAttr:function(value){this._set("lastOpenHeight",value);if(value&&this.open){_1241.set(this.domNode,"height",value+"px");}},_getSettingsAttr:function(){return {open:this.open,lastOpenHeight:this.open?this.getSize().h:this.lastOpenHeight};}});});},"epi/shell/widget/layout/_ComponentSplitter":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/on","dojo/touch","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin"],function(_1245,event,lang,win,_1246,_1247,keys,on,touch,_1248,_1249,_124a){return _1245([_1248,_1249,_124a],{baseClass:"epi-gadgetGutter",templateString:"<div data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag\" role=\"separator\" tabindex=\"0\"></div>",disabled:false,constructor:function(){this._handlers=[];},_startDrag:function(e){if(this.disabled){return;}var _124b=this.domNode.style,_124c=e.pageY,node=this.child.domNode,_124d=_1247.getComputedStyle(node),_124e=_1246.getMarginExtents(node,_124d).h,_124f=_1246.getMarginBox(node,_124d).h,_1250=this.container._getMaxSizeChild?lang.hitch(this.container,"_getMaxSizeChild"):lang.hitch(this,function(){return this.child.maxHeight||Infinity;}),min=this.child.minHeight||0,_1251=parseInt(_124b.top,10),_1252=lang.hitch(this.container,"_layoutChildren",this.child),doc=win.doc;this._handlers=this._handlers.concat([on(doc,touch.move,this._drag=function(e,_1253){var delta=e.pageY-_124c,_1254=delta+_124f,_1255=Math.max(Math.min(_1254,_1250()),min+_124e);_1252(_1255,_1253);_124b.top=delta+_1251+_1255-_1254+"px";}),on(doc,"dragstart",event.stop),on(win.body(),"selectstart",event.stop),on(doc,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_stopDrag:function(e){try{this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}},_onKeyPress:function(e){var tick=1;switch(e.keyCode){case keys.UP_ARROW:tick=-1;break;case keys.DOWN_ARROW:break;default:return;}var _1256=_1246.getMarginSize(this.child.domNode).h+tick;this.container._layoutChildren(this.child,Math.max(Math.min(_1256,this.child.maxSize),this.child.minSize));event.stop(e);},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;this.inherited(arguments);}});});},"url:epi/shell/widget/layout/templates/_ComponentWrapperHeader.htm":"<div>\r\n    <div class=\"epi-gadgetTitle dojoxDragHandle\" data-dojo-attach-point=\"titleBarNode\">\r\n        <div data-dojo-attach-point=\"focusNode\" class=\"epi-gadgetTitleFocus\">\r\n            <button data-dojo-type=\"dijit/form/ToggleButton\" data-dojo-attach-point=\"toggleButton\"\r\n                data-dojo-attach-event=\"onClick:toggle\" data-dojo-props=\"title:'${res.togglebuttontooltip}', showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\">\r\n                ${title}</button>\r\n        </div>\r\n        <div class=\"epi-gadgetButtonBar\">\r\n            <button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"closeButton\" data-dojo-attach-event=\"onClick:onClose\"\r\n                data-dojo-props=\"showLabel:false, title:'${res.closebuttontooltip}', iconClass:'epi-gadget-delete', 'class':'epi-chromelessButton'\">\r\n                ${res.closebuttontooltip}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/layout/ComponentTabContainer":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/topic","dojo/Evented","dojo/text!./templates/ComponentTabContainer.htm","dijit/layout/TabContainer","dijit/layout/utils","epi/shell/widget/layout/_ComponentTabController","epi/shell/widget/layout/_ComponentResizeMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton","epi/shell/widget/ComponentChrome","epi/shell/widget/_FocusableMixin","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/RemoveGadget"],function(array,lang,_1257,_1258,_1259,_125a,_125b,_125c,topic,_125d,_125e,_125f,_1260,_1261,_1262,_1263,_1264,_1265,_1266,_1267,_1268){return _1257([_125f,_1263,_1262,_1266,_125d,_1267],{useMenu:true,doLayout:true,useSlider:false,toggleable:true,templateString:_125e,controllerWidget:_1261,_removeCommand:null,postMixInProperties:function(){this.inherited(arguments);this._removeCommand=new _1268({model:this});},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.maxHeight){_1258.set(this.containerNode,"maxHeight",this.maxHeight);}},postCreate:function(){this.inherited(arguments);this.add("commands",this._removeCommand);this.tablist.on("toggle",lang.hitch(this,function(_1269){this._started&&this.set("open",_1269);}));},addChild:function(child,_126a){var _126b=new _1265({title:child.get("heading")||""});_126b.addChild(child);this.inherited(arguments,[_126b,_126a]);if(this._started&&!_126b._started){_126b.startup();}},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _126c=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_126c;var _126d=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_126c},{domNode:this.containerNode,layoutAlign:"client"}];if(this._splitter){_126d.push({domNode:this._splitter.domNode,layoutAlign:"bottom"});}_1260.layoutChildren(this.domNode,this._contentBox,_126d);this._containerContentBox=_1260.marginBox2contentBox(this.containerNode,_126d[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_125c.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}}},resize:function(_126e){_126e=lang.mixin({},_126e);if(!_126e.h){if(!this.open){_126e.h=this._getClosedHeight();}else{if(this.lastOpenHeight){_126e.h=this.lastOpenHeight;}}}this.inherited(arguments,[_126e]);},getSize:function(){var size=_125c.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _126f=_125c.getMarginExtents(this.domNode).h,_1270=this.tablist?_125c.getMarginBox(this.tablist.domNode).h:0,_1271=this._splitter?_125c.getMarginBox(this._splitter.domNode).h:0;return _1270+_1271+_126f;},selectChild:function(){this.inherited(arguments);this._removeCommand.set("model",this.selectedChildWidget);},_makeController:function(_1272){var _1273=this.inherited(arguments);_1273.set("title",this.get("heading")||"");return _1273;},_setToggleableAttr:function(_1274){this._set("toggleable",_1274);this.tablist&&this.tablist.set("toggleable",this.toggleable);},_setOpenAttr:function(open){this.inherited(arguments);this.tablist.setOpen(open);_1258.set(this.containerNode,"display",open?"":"none");if(this._started){if(!open){this.lastOpenHeight=_125c.getMarginBox(this.domNode).h;}this.emit("toggle",this.open);}}});});},"url:epi/shell/widget/layout/templates/ComponentTabContainer.htm":"<div class=\"dijitTabContainer dojoxDragHandle epi-componentGroup epi-compactTabs\">\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n    <div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n    <div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n    <div data-dojo-attach-point=\"_splitterNode\"></div>\r\n</div>\r\n","dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_1275,_1276,_1277,_1278){return _1275("dijit.layout.TabContainer",_1276,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_1279){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_1277=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _1277({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_1279);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_1278:_1277;}}});});},"dijit/layout/_TabContainerBase":function(){require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_127a,_127b,_127c,_127d,_127e,_127f,_1280,_1281){return _127e("dijit.layout._TabContainerBase",[_127b,_127d],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_127a,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_1281.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_127f.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_127f.add(this.domNode,"dijitTabContainerNested");_127f.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_127f.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_127f.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_127f.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_127f.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _1282=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_1282;var _1283=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_1282},{domNode:this.containerNode,layoutAlign:"client"}];_127c.layoutChildren(this.domNode,this._contentBox,_1283);this._containerContentBox=_127c.marginBox2contentBox(this.containerNode,_1283[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_1280.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(array,_1284,_1285,_1286,has,lang,ready,topic,_1287,_1288,_1289){if(has("dijit-legacy-requires")){ready(0,function(){var _128a=["dijit/layout/StackController"];require(_128a);});}var _128b=_1285("dijit.layout.StackContainer",_1289,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_1286.add(this.domNode,"dijitLayoutContainer");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _128c=this.getChildren();array.forEach(_128c,this._setupChild,this);if(this.persist){this.selectedChildWidget=_1287.byId(_1284(this.id+"_selectedChild"));}else{array.some(_128c,function(child){if(child.selected){this.selectedChildWidget=child;}return child.selected;},this);}var _128d=this.selectedChildWidget;if(!_128d&&_128c[0]){_128d=this.selectedChildWidget=_128c[0];_128d.selected=true;}topic.publish(this.id+"-startup",{children:_128c,selected:_128d});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _128e=this.selectedChildWidget;if(_128e){this._showChild(_128e);}}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);_1286.replace(child.domNode,"dijitHidden","dijitVisible");child.domNode.title="";},addChild:function(child,_128f){this.inherited(arguments);if(this._started){topic.publish(this.id+"-addChild",child,_128f);this.layout();if(!this.selectedChildWidget){this.selectChild(child);}}},removeChild:function(page){this.inherited(arguments);if(this._started){topic.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _1290=this.getChildren();if(_1290.length){this.selectChild(_1290[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_1291){page=_1287.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_1291);this._set("selectedChildWidget",page);topic.publish(this.id+"-selectChild",page);if(this.persist){_1284(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_1292,_1293){if(_1293){this._hideChild(_1293);}var d=this._showChild(_1292);if(_1292.resize){if(this.doLayout){_1292.resize(this._containerContentBox||this._contentBox);}else{_1292.resize();}}return d;},_adjacent:function(_1294){var _1295=this.getChildren();var index=array.indexOf(_1295,this.selectedChildWidget);index+=_1294?1:_1295.length-1;return _1295[index%_1295.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){topic.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var child=this.selectedChildWidget;if(child&&child.resize){if(this.doLayout){child.resize(this._containerContentBox||this._contentBox);}else{child.resize();}}},_showChild:function(page){var _1296=this.getChildren();page.isFirstChild=(page==_1296[0]);page.isLastChild=(page==_1296[_1296.length-1]);page._set("selected",true);_1286.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_1286.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _1297=page.onClose(this,page);if(_1297){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_1298){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;array.forEach(this.getChildren(),function(child){if(!_1298){this.removeChild(child);}child.destroyRecursive(_1298);},this);this._descendantsBeingDestroyed=false;}});_128b.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_1288,_128b.ChildWidgetProperties);return _128b;});},"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>"}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(array,_1299,_129a,_129b,_129c,fx,lang,on,query,has,_129d,_129e,_129f,_12a0,_12a1,_12a2,Menu,_12a3,_12a4,_12a5){var _12a6=_1299("dijit.layout.ScrollingTabController",[_12a0,_12a2],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_129e,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_129a.add(n,"tabStrip-disabled");}_129a.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_129c.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_12a7){this.inherited(arguments);_129c.set(this.containerNode,"width",(_129c.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_12a8){var _12a9=this.pane2button[page.id];if(this._selectedTab===_12a9.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_129b.getMarginSize(btn).w;return true;}else{_129c.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _12aa=this.getChildren();if(_12aa.length){var _12ab=_12aa[this.isLeftToRight()?0:_12aa.length-1].domNode,_12ac=_12aa[this.isLeftToRight()?_12aa.length-1:0].domNode;return _12ac.offsetLeft+_12ac.offsetWidth-_12ab.offsetLeft;}else{return 0;}},_enableBtn:function(width){var _12ad=this._getTabsWidth();width=width||_129c.get(this.scrollNode,"width");return _12ad>0&&width<_12ad;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_12a1.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_129b.setContentSize(this.domNode,cb);var _12ae=this._enableBtn(this._contentBox.w);this._buttons.style("display",_12ae?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_12a1.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_129c.get(this.containerNode,"width")-_129c.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _12af=_129c.get(this.containerNode,"width")-_129c.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_12af);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_129c.get(this.scrollNode,"width")<node.offsetLeft+_129c.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _12b0=this.getChildren(),_12b1=_129c.get(this.scrollNode,"width"),_12b2=_129c.get(this.containerNode,"width"),_12b3=_12b2-_12b1,_12b4=this._getTabsWidth();if(_12b0.length&&_12b4>_12b1){return {min:this.isLeftToRight()?0:_12b0[_12b0.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_12b0[_12b0.length-1].domNode.offsetLeft+_12b0[_12b0.length-1].domNode.offsetWidth)-_12b1:_12b3};}else{var _12b5=this.isLeftToRight()?0:_12b3;return {min:_12b5,max:_12b5};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_12b6=_129c.get(this.scrollNode,"width"),_12b7=this._getScrollBounds();var pos=(n.offsetLeft+_129c.get(n,"width")/2)-_12b6/2;pos=Math.min(Math.max(pos,_12b7.min),_12b7.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _12b8=this._getScrollBounds();x=Math.min(Math.max(x,_12b8.min),_12b8.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_129a.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_12b9,node){if(node&&_129a.contains(node,"dijitTabDisabled")){return;}var _12ba=_129c.get(this.scrollNode,"width");var d=(_12ba*0.75)*_12b9;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_12bb){var _12bc=this._getScrollBounds();this._leftBtn.set("disabled",_12bb<=_12bc.min);this._rightBtn.set("disabled",_12bb>=_12bc.max);}});var _12bd=_1299("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_129f,tabIndex:"",isFocusable:function(){return false;}});_1299("dijit.layout._ScrollingTabControllerButton",[_12a4,_12bd]);_1299("dijit.layout._ScrollingTabControllerMenuButton",[_12a4,_12a5,_12bd],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_12be){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _12bf=_129d.byId(this.containerId);array.forEach(_12bf.getChildren(),function(page){var _12c0=new _12a3({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){_12bf.selectChild(page);}});this.dropDown.addChild(_12c0);},this);_12be();},closeDropDown:function(focus){this.inherited(arguments);if(this.dropDown){this._popupStateNode.removeAttribute("aria-owns");this.dropDown.destroyRecursive();delete this.dropDown;}}});return _12a6;});},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","epi/shell/widget/layout/_ComponentTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/Evented","dojo/text!./templates/_ComponentTabController.htm","dijit/layout/ScrollingTabController","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton"],function(array,_12c1,lang,_12c2,_12c3,_12c4,_12c5,_12c6,_12c7,_12c8,_12c9){return _12c1([_12c7,_12c8,_12c5],{templateString:_12c6,title:"",toggleable:true,open:true,addChild:function(child,index){if(index&&typeof index=="number"){index++;}else{index=this.getChildren().length+1;}this.inherited("addChild",[child,index]);_12c2.set(child.domNode,"display",this.open?"":"none");},_toggle:function(e){if(e){this._started&&!this._initializing&&this.set("open",!this.get("open"));}},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",title);},setOpen:function(open){this._initializing=true;this.set("open",open);this.toggleButton.set("checked",!this.open);this._initializing=false;},_setOpenAttr:function(open){this._set("open",open);if(!this.open){_12c4.add(this.tablistWrapper,"closed");}else{_12c4.remove(this.tablistWrapper,"closed");}this.toggleButton.set("showLabel",!this.open);array.forEach(this.getChildren(),lang.hitch(this,function(child){if(child!==this.toggleButton){_12c2.set(child.domNode,"display",this.open?"":"none");}}));!this._initializing&&this.emit("toggle",this.open);},_setToggleableAttr:function(_12ca){this._set("toggleable",_12ca);_12c2.set(this.toggleButton.domNode,"display",this.toggleable?"":"none");}});});},"url:epi/shell/widget/layout/templates/_ComponentTabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    \r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_menuBtn\"\r\n         data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n         data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_leftBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_rightBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n    <div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n        <div role='tablist' data-dojo-attach-event='onkeypress:onkeypress' data-dojo-attach-point='containerNode' class=\"nowrapTabStrip\" >\r\n            <div data-dojo-type=\"dijit.form.ToggleButton\" data-dojo-attach-point=\"toggleButton\" data-dojo-attach-event=\"onClick:_toggle\" data-dojo-props=\"showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/layout/ComponentPaneContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/_ScrollbarMeasurementMixin","epi/shell/widget/layout/ComponentContainer"],function(array,_12cb,lang,_12cc,_12cd,_12ce,_12cf){return _12cb([_12cf,_12ce],{_previousChildrenCount:null,layoutComponents:function(){_12cd.set(this.containerNode,"overflow-y","hidden");var _12d0=this.getChildren();array.forEach(_12d0,function(_12d1){if(_12d1.lastOpenHeight&&(_12d1.lastOpenHeight<_12d1.minHeight)){_12d1.set("lastOpenHeight",_12d1.minHeight);}});if(_12d0.length===1){var child=_12d0[0];if(!child.open){child.set("open",true);}child.resize(this._containerSize);}else{if(_12d0.length===2){var _12d2=array.every(_12d0,function(child){return child.open;});array.forEach(_12d0,function(child){child.set("resizable",_12d2);});this._layout2Children(_12d0[0],_12d0[1]);}else{var _12d3=lang.hitch(this,function(width){var _12d4=0;this.getChildren().forEach(function(child){_12d4+=child.getSize().h;});if(width&&(_12d4>this._containerSize.h)){width-=this.getScrollbarSize().x;}array.forEach(this.getChildren(),function(_12d5){_12d5.set("resizable",_12d5.open);if(_12d5.resize&&lang.isFunction(_12d5.resize)){if(width){_12d5.resize({w:width});}else{_12d5.resize();}}});});if(this._previousChildrenCount<3){_12d3(null);}_12d3(this._containerSize.w);}}this._previousChildrenCount=_12d0.length;_12cd.set(this.containerNode,"overflow-y","auto");},_layout2Children:function(child,_12d6){var _12d7=this._containerSize;var _12d8={w:_12d7.w};var _12d9={w:_12d7.w};var _12da=child.getSize().h;var _12db=_12d6.getSize().h;var _12dc=Math.floor(_12d7.h/2);if(child.open&&_12d6.open&&(!child.lastOpenHeight||!_12d6.lastOpenHeight)){_12d8.h=_12dc;_12d9.h=_12d7.h-_12dc;}else{if(!child.open&&!_12d6.open){_12d8.h=_12da;_12d9.h=_12db;child.set("lastOpenHeight",_12dc);_12d6.set("lastOpenHeight",_12d7.h-_12dc);}else{if(_12da<_12db){_12d8.h=_12da;_12d9.h=_12d7.h-_12da;}else{_12d8.h=_12d7.h-_12db;_12d9.h=_12db;}}}child.resize(_12d8);_12d6.resize(_12d9);},_layoutChildren:function(child,_12dd,_12de){var _12df=this.getChildren(),_12e0=_12cc.getContentBox(this.containerNode).h;child.resize({h:_12dd});if(_12df.length==2){array.forEach(_12df,function(_12e1){if(_12e1!==child){_12e1.resize({h:_12e0-_12dd});}});}if(_12de){array.forEach(_12df,function(_12e2){if(_12e2.getSize().h){_12e2.set("lastOpenHeight",_12e2.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _12e3=this.getChildren(),_12e4=_12e3.length>1,_12e5=_12e3.length>2,_12e6=_12e3.length===1;array.forEach(_12e3,function(child,index){child.set("showSplitter",_12e5||index<_12e3.length-1);child.set("toggleable",_12e4);if(_12e6&&child.setDefaultStates){child.setDefaultStates();}},this);},_componentToggle:function(){var _12e7=this.getChildren();if(_12e7.length==2){var _12e8=array.every(_12e7,function(child){return child.open;});array.forEach(_12e7,function(child){child.set("resizable",_12e8);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _12e9=this.getChildren(),child=_12e9[0],_12ea=_12e9[1],_12eb=_12cc.getMarginBox(child.domNode).h;if(_12e9.length==2){_12eb+=_12cc.getMarginBox(_12ea.domNode).h-_12ea.minHeight;return _12eb;}return child.maxHeight||Infinity;}});});},"epi/shell/widget/_ScrollbarMeasurementMixin":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dojo/dom-style"],function(_12ec,win,_12ed,_12ee){var mixin=_12ec([],{getScrollbars:function(node){var _12ef=this.getScrollbarSize(),root=node.documentElement||node,_12f0;function _12f1(size,sb){if(root){return {y:root.scrollHeight>root.clientHeight?size.y:sb.y,x:root.scrollWidth>root.clientWidth?size.x:sb.x};}return {x:0,y:0};};function _12f2(size){var _12f3={x:0,y:0};if(root){_12ee.get(root,"overflow-y")==="scroll"?_12f3.y=size.y:_12f3.y=0;_12ee.get(root,"overflow-x")==="scroll"?_12f3.x=size.x:_12f3.x=0;_12ee.get(root,"overflow")==="scroll"?_12f3={x:size.x,y:size.y,permanent:true}:_12f3.permanent=false;}return _12f3;};if(root){_12f0=_12f2(_12ef);return _12f0.permanent?_12f0:_12f1(_12ef,_12f0);}return {x:0,y:0};},getScrollbarSize:function(){function _12f4(){var _12f5;try{var _12f6=_12ed.create("div",{style:{overflow:"scroll",position:"absolute",top:"-200px",left:"-200px",width:"100px",height:"100px"}},win.body());_12f5={x:_12f6.offsetWidth-_12f6.clientWidth,y:_12f6.offsetHeight-_12f6.clientHeight};_12ed.destroy(_12f6);}catch(ex){_12f5={x:16,y:16};}return _12f5;};return mixin._scrollbarSize=mixin._scrollbarSize||_12f4();}});return mixin;});},"epi/shell/widget/DateRange":function(){define(["dojo","dojo/i18n","epi","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/DateTextBox"],function(dojo,i18n,epi,_12f7,_12f8,_12f9){return dojo.declare([_12f7,_12f8,_12f9],{templateString:"<div class=\"ui-daterange-popup\" style=\"width:390px;\">            <div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"startDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"endDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>            </div>            <div style=\"text-align: right;margin: 20px 7px 0 0;\">                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"chooseButton\">${commonRes.action.choose}</button>                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"cancelButton\">${commonRes.action.cancel}</button>            </div>        </div>",closeParent:true,commonRes:epi.resources,forbidCloseParent:function(){this.closeParent=false;},allowCloseParent:function(){this.closeParent=true;}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_12fa,_12fb,_12fc){return _12fa("dijit.form.DateTextBox",_12fc,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_12fb,_selector:"date",value:new Date("")});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_12fd,_12fe,_12ff,event,_1300,keys,lang,has,_1301,_1302,_1303,_1304,_1305){var _1306=_12fd("dijit.Calendar",[_1301,_1302,_1303],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_1300.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _1306._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_1307){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_1307);var _1308=this.dateModule.getDaysInMonth(date);var _1309=this.currentFocus.getDate();date.setDate(Math.min(_1309,_1308));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_12ff.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_12ff.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_12ff.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_12ff.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_12ff.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_12ff.contains(node,"dijitCalendarDisabledDate")){_12ff.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_12ff.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _130a=-1,_130b,_130c=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_130a=1;case keys.LEFT_ARROW:_130b="day";if(!this.isLeftToRight()){_130a*=-1;}break;case keys.DOWN_ARROW:_130a=1;case keys.UP_ARROW:_130b="week";break;case keys.PAGE_DOWN:_130a=1;case keys.PAGE_UP:_130b=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_130c=this.dateModule.add(_130c,"month",1);_130b="day";case keys.HOME:_130c=new this.dateClassObj(_130c);_130c.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_130b){_130c=this.dateModule.add(_130c,_130b,_130a);}this._setCurrentFocusAttr(_130c);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){event.stop(evt);}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_1306._MonthDropDownButton=_12fd("dijit.Calendar._MonthDropDownButton",_1305,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _1306._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _130d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_130d);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_130d[month.getMonth()]+"</div>";}});_1306._MonthDropDown=_12fd("dijit.Calendar._MonthDropDown",[_1302,_1304],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_130e){this.domNode.innerHTML=array.map(_130e,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_12fe.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_12ff.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _1306;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(array,_130f,_1310,date,_1311,stamp,dom,_1312,event,lang,has,_1313,_1314,_1315,_1316){var _1317=_130f("dijit.CalendarLite",[_1314,_1315],{templateString:_1316,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var value=new this.dateClassObj(this.value);value.setHours(0,0,0,0);if(value.getDate()<this.value.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_1318){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_1318||typeof _1318=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var _1319=month.getDay(),_131a=this.dateModule.getDaysInMonth(month),_131b=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_131c=_1310.getFirstDayOfWeek(this.lang);if(_131c>_1319){_131c-=7;}if(!this.summary){var _131d=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.gridNode.setAttribute("summary",_131d[month.getMonth()]);}this._date2cell={};array.forEach(this.dateCells,function(_131e,idx){var i=idx+_131c;var date=new this.dateClassObj(month),_131f,clazz="dijitCalendar",adj=0;if(i<_1319){_131f=_131b-_1319+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_1319+_131a)){_131f=i-_1319-_131a+1;adj=1;clazz+="Next";}else{_131f=i-_1319+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_131f);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_131e.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_131e.removeAttribute("aria-disabled");_131e.setAttribute("aria-selected","false");}var _1320=this.getClassForDate(date,this.lang);if(_1320){clazz=_1320+" "+clazz;}_131e.className=clazz+"Month dijitCalendarDateTemplate";var _1321=date.valueOf();this._date2cell[_1321]=_131e;_131e.dijitDateValue=_1321;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_1322){this.dateModule=_1322.datePackage?lang.getObject(_1322.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_1322.datePackage?lang.getObject(_1322.datePackage+".locale",false):_1311;},_createMonthWidget:function(){return _1317._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_1323=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1324=_1310.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_1313.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _1323[_1324++%7];});var r=_1313.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _1325=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_1325,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _1326=lang.hitch(this,function(_1327,part,_1328){this.connect(this[_1327],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_1328));});});_1326("incrementMonth","month",1);_1326("decrementMonth","month",-1);_1326("nextYearLabelNode","year",1);_1326("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_1329){var _132a=this.currentFocus,_132b=this._getNodeByDate(_132a);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_132a,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _132c=this._getNodeByDate(date);_132c.setAttribute("tabIndex",this.tabIndex);if(this.focused||_1329){_132c.focus();}if(_132b&&_132b!=_132c){if(has("webkit")){_132b.setAttribute("tabIndex","-1");}else{_132b.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){event.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_1312.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_132d,cell){_1312.toggle(cell,"dijitCalendarSelectedDate",_132d);cell.setAttribute("aria-selected",_132d?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_1317._MonthWidget=_130f("dijit.CalendarLite._MonthWidget",_1314,{_setMonthAttr:function(month){var _132e=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_132f=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_132e,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_132f+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_132e[month.getMonth()]+"</div>";}});return _1317;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_1330,stamp,_1331,lang,_1332,_1333,_1334){new Date("X");var _1335=_1331("dijit.form._DateTimeTextBox",[_1332,_1333],{templateString:_1334,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_1330.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _1336=this._isInvalidDate(val1);var _1337=this._isInvalidDate(val2);return _1336?(_1337?0:-1):(_1337?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(value,_1338){if(!value){return "";}return this.dateLocaleModule.format(value,_1338);},"parse":function(value,_1339){return this.dateLocaleModule.parse(value,_1339)||(this._isEmpty(value)?null:undefined);},serialize:function(val,_133a){if(val.toGregorian){val=val.toGregorian();}return stamp.toISOString(val,_133a);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_133b){this.dateModule=_133b.datePackage?lang.getObject(_133b.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_133b.datePackage?lang.getObject(_133b.datePackage+".locale",false):_1330;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_133c){_133c.selector=this._selector;_133c.fullYear=true;var _133d=stamp.fromISOString;if(typeof _133c.min=="string"){_133c.min=_133d(_133c.min);}if(typeof _133c.max=="string"){_133c.max=_133d(_133c.max);}this.inherited(arguments);},_isInvalidDate:function(value){return !value||isNaN(value)||typeof value!="object"||value.toString()==this._invalidDate;},_setValueAttr:function(value,_133e,_133f){if(value!==undefined){if(typeof value=="string"){value=stamp.fromISOString(value);}if(this._isInvalidDate(value)){value=null;}if(value instanceof Date&&!(this.dateClassObj instanceof Date)){value=new this.dateClassObj(value);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",value,false);}},_set:function(attr,value){if(attr=="value"&&this.value instanceof Date&&this.compare(value,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_1340){if(this.dropDown){this.dropDown.destroy();}var _1341=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_1342=this,value=this.get("value");this.dropDown=new _1341({onChange:function(value){_1342.set("value",value,true);},id:this.id+"_popup",dir:_1342.dir,lang:_1342.lang,value:value,currentFocus:!this._isInvalidDate(value)?value:this.dropDownDefaultValue,constraints:_1342.constraints,filterString:_1342.filterString,datePackage:_1342.params.datePackage,isDisabledDate:function(date){return !_1342.rangeCheck(date,_1342.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(value,_1343){this._setValueAttr(this.parse(value,this.constraints),_1343,value);}});return _1335;});},"epi/shell/widget/DateRangePicker":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/_base/window","dojo/has","dojo/topic","dijit/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_HasDropDown","epi/shell/widget/DateRange","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(_1344,lang,_1345,win,has,topic,popup,_1346,_1347,_1348,_1349,res){return _1344([_1346,_1347,_1348],{templateString:"<div>                             <a class=\"epi-iconToolbar-item-link epi-iconToolbar-calendar\" href=\"#\" title=\"${res.selectdateinterval}\" data-dojo-attach-point=\"_buttonNode, focusNode\"></a>                         </div>",res:res,startDate:new Date(),endDate:new Date(),openDropDown:function(){if(this.dropDown){this.dropDown.destroy();}this.dropDown=new _1349();this.dropDown.startDateInput._setValueAttr(this.startDate);this.dropDown.endDateInput._setValueAttr(this.endDate);this.connect(this.dropDown.chooseButton,"onClick",lang.hitch(this,"_onChooseClick"));this.connect(this.dropDown.cancelButton,"onClick",lang.hitch(this,"_closeDropDown"));this.connect(this.dropDown,"onMouseLeave",lang.hitch(this.dropDown,"allowCloseParent"));this.connect(win.body(),(!has("mozilla")?"onmousewheel":"DOMMouseScroll"),lang.hitch(this,"_closeDropDown"));this.inherited(arguments);_1345.set(this.dropDown.domNode,"width","390px");},_onBlur:function(){if(this.dropDown&&this.dropDown.closeParent){popup.close(this.dropDown);this._opened=false;}},_closeDropDown:function(){this.closeDropDown();},_onChooseClick:function(){this.startDate=this.dropDown.startDateInput.get("value");this.endDate=this.dropDown.endDateInput.get("value");this.closeDropDown();topic.publish("intervalHasBeenSet",this.id);}});});},"epi/shell/widget/DateTimeSelector":function(){define(["dojo/_base/declare","dojo/keys","dojo/aspect","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","epi/shell/widget/TimeSpinner","epi/datetime","dojo/text!./templates/DateTimeSelector.html"],function(_134a,keys,_134b,_134c,_134d,_134e,_134f,_1350,_1351,_1352){return _134a([_134c,_134d,_134e],{templateString:_1352,value:null,postCreate:function(){this.inherited(arguments);_134b.after(this.calendar,"handleKey",function(evt){switch(evt.keyCode){case keys.RIGHT_ARROW:case keys.LEFT_ARROW:case keys.DOWN_ARROW:case keys.UP_ARROW:this.set("value",this.currentFocus);return true;default:return true;}},true);},_setValueAttr:function(value){this.calendar.set("value",value,false);this.timePicker.set("value",value,false);},_onCalendarKeyPress:function(e){if(e.keyCode===keys.TAB){this.timePicker.focus();}},_onTimePickerKeyPress:function(e){if(e.keyCode===keys.TAB){this.calendar.focus();}},_getValueAttr:function(){var _1353=this.calendar.get("value");var _1354=this.timePicker.get("value");if(!_1353&&!_1354){return null;}if(!_1353){this.calendar.goToToday();_1353=this.calendar.get("value");}if(!_1354){_1354=new Date(0,0,0,0,0,0,0);this.timePicker.set("value",_1354,false);}return new Date(_1353.getFullYear(),_1353.getMonth(),_1353.getDate(),_1354.getHours(),_1354.getMinutes(),_1354.getSeconds(),_1354.getMilliseconds());},_onChange:function(value){var _1355=this.get("value");this.onChange(_1355);},onChange:function(value){},focus:function(){this.calendar.focus();}});});},"epi/shell/widget/TimeSpinner":function(){define(["dojo","epi/datetime","dojox/form/TimeSpinner"],function(dojo,_1356,_1357){return dojo.declare("epi.shell.widget.TimeSpinner",[_1357],{smallDelta:60,largeDelta:360,_arrowPressed:function(_1358,_1359,_135a){this.inherited(arguments);this.onChange(this.get("value"));}});});},"dojox/form/TimeSpinner":function(){define("dojox/form/TimeSpinner",["dojo/_base/lang","dojo/_base/event","dijit/form/_Spinner","dojo/keys","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare"],function(lang,event,_135b,keys,_135c,_135d,_135e,_135f){return _135f("dojox.form.TimeSpinner",_135b,{required:false,adjust:function(val,delta){return _135c.add(val,"minute",delta);},isValid:function(){return true;},smallDelta:5,largeDelta:30,timeoutChangeRate:0.5,parse:function(time,_1360){return _135d.parse(time,{selector:"time",formatLength:"short"});},format:function(time,_1361){if(lang.isString(time)){return time;}return _135d.format(time,{selector:"time",formatLength:"short"});},serialize:_135e.toISOString,value:"12:00 AM",_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var value=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(value){this._setValueAttr(value,true);}event.stop(e);}}});});},"url:epi/shell/widget/templates/DateTimeSelector.html":"<div style=\"position: relative;\" class=\"epi-dateTimeWrapper\">\r\n    <div data-dojo-attach-point=\"calendar\" data-dojo-type=\"dijit/Calendar\"  data-dojo-attach-event=\"onChange: _onChange, onKeyPress:_onCalendarKeyPress\" ></div>\r\n    <div data-dojo-attach-point=\"calendarOverlay\" style=\"position: absolute; left: 0; top: 0;\"></div>\r\n    <div style=\"text-align: center; padding: 5px\" class=\"epi-timePickerWrapper\">\r\n        <div class=\"dijitInline dijitIcon epi-iconClock\"></div><div data-dojo-attach-point=\"timePicker\" data-dojo-type=\"epi/shell/widget/TimeSpinner\" data-dojo-attach-event=\"onChange: _onChange\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/DateTimeSelectorDropDown":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/form/_DateTimeTextBox","epi/shell/widget/DateTimeSelector"],function(_1362,lang,keys,_1363,_1364){return _1362([_1363],{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1364,forceWidth:false,_isSelecting:false,_canceled:false,_isDropDownShowing:false,constructor:function(){this.constraints={formatLength:"short",fullYear:"true"};},toggleDropDown:function(){this._isSelecting=!this._isSelecting;this.inherited(arguments);},openDropDown:function(){this.inherited(arguments);this.dropDown.onChange=function(){};this.connect(this.dropDown.domNode,"onkeypress",lang.hitch(this,function(e){this._canceled=e.keyCode===keys.ESCAPE;if(e.keyCode===keys.ESCAPE||e.keyCode===keys.ENTER){this._isSelecting=false;this.closeDropDown(true);}}));this._isSelecting=true;this._canceled=false;this._dropDownShowing=true;},_setValueAttr:function(value){if(value){if(!(value instanceof Date)){value=new Date(value);}value=new Date(value.getFullYear(),value.getMonth(),value.getDate(),value.getHours(),value.getMinutes());this.inherited(arguments,[value]);}else{this.inherited(arguments);}},closeDropDown:function(focus){if(!this._isSelecting){if(!this._canceled&&this.dropDown){this.set("value",this.dropDown.get("value"));}this.inherited(arguments);}this._dropDownShowing=false;},_onBlur:function(){this._isSelecting=false;if(this._dropDownShowing){this.closeDropDown();}else{if(this.dropDown&&!this.get("value")&&this.get("value")!==null){this.set("value",this.dropDown.get("value"));}}this.inherited(arguments);}});});},"epi/shell/widget/FormContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dojo/aspect","dojo/has","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Form","epi/epi","epi/string","require","epi/shell/widget/WidgetFactory","epi/shell/MetadataTransformer"],function(_1365,array,lang,_1366,_1367,has,when,_1368,_1369,_136a,Form,epi,_136b,_136c,_136d,_136e){return _1365([_1368,_1369,_136a],{templateString:"<div class=\"epi-form-container\">                            <div data-dojo-type=\"dijit/form/Form\" data-dojo-attach-point=\"form\">                            </div>                         </div>",value:null,metadata:null,propertyFilter:null,defaultContainerWidget:"epi/shell/layout/SimpleContainer",useDefaultValue:null,readOnly:false,doLayout:true,_widgetMap:null,_uiSetUp:false,_aspectHandles:null,postMixInProperties:function(){this.inherited(arguments);this._widgetMap={};this._aspectHandles=[];},startup:function(){if(this._started){return;}this.inherited(arguments);this._setupUI();},destroy:function(_136f){array.forEach(this._aspectHandles,function(item){item.remove();});this._aspectHandles=null;if(this.containerLayout){this.containerLayout.destroyRecursive(_136f);this.containerLayout=null;}this.inherited(arguments);},_getValueAttr:function(){return this.form.get("value");},_setValueAttr:function(value){if(this._formCreated){if(value){this.form.set("value",value);}else{this.form.reset();}}this._set("value",value);},_setMetadataAttr:function(_1370){this._set("metadata",_1370);},_getUseDefaultValueAttr:function(){if(this.useDefaultValue===null){return !this.value;}return this.useDefaultValue;},onGroupCreated:function(_1371,_1372){},onChange:function(value){},onFieldCreated:function(_1373,_1374){},_onFormCreated:function(_1375){if(epi.isEmpty(this.get("value"))){this._onChange();}this.onFormCreated(_1375);},onFormCreated:function(_1376){},_setupUI:function(){var _1377=new _136d();var _1378=this.metadataTransformer||new _136e({propertyFilter:this.propertyFilter});when(this.metadata,lang.hitch(this,function(item){if(false){var _1379=_136c.timedGroup("FormContainer::_setupUI "+arguments.callee.caller.nom);}var _137a=this.get("useDefaultValue");var _137b=_1378.toComponentDefinitions(item,"",_137a,this.readOnly);var _137c=item.layoutType||this.defaultContainerWidget;require([_136b.slashName(_137c)],lang.hitch(this,function(_137d){var _137e=[],_137f=[];this.containerLayout=new _137d();_137e.push(this.containerLayout);this.connect(_1377,"onWidgetCreated",function(_1380,_1381){var _1382=_137e[_137e.length-1];var _1383=_137f.length?_137f[_137f.length-1]:null;this._widgetMap[_1380.id]={parent:_1382,group:_1383};this.own(this.watch("readOnly",lang.hitch(this,function(name,_1384,value){_1380.set("readOnly",value);})));if(_1381.settings._type==="field"){_1380.set("editMode","createcontent");this.connect(_1380,"onChange","_onChange");this._aspectHandles.push(_1367.before(_1380,"focus",lang.hitch(this,function(){this._beforeSetFocus(_1380);})));this.onFieldCreated(_1381.settings.name,_1380);}else{if(_1381.settings._type==="group"){_137f.push(_1380);this.onGroupCreated(_1381.settings.name,_1380,_1383);}else{if(_1381.settings._type==="parent"){_137e.push(_1380);}}}});this.connect(_1377,"onWidgetHierarchyCreated",function(_1385,_1386){if(_1386.settings._type==="group"){_137f.pop();}else{if(_1386.settings._type==="parent"){_137e.pop();}}});when(_1377.createWidgets(this.containerLayout,_137b,false),lang.hitch(this,function(_1387){this.containerLayout.placeAt(this.form.domNode);this._formCreated=true;this.form.connectChildren();if(this.value!==null){this.set("value",this.value);}this.layout();this._uiSetUp=true;this._onFormCreated(this);_1377=null;_137e=null;_137f=null;if(false){_1379.end();}}));this.own(this.form.watch("state",lang.hitch(this,function(name,_1388,value){this.set("state",value);})));}));}));},_onChange:function(){if(!this._uiSetUp){return;}var _1389=this.form.get("value");if(!epi.areEqual(this.value,_1389)){this.value=_1389;this.onChange(_1389);}},focus:function(){},layout:function(){if(!this._started){return;}var child=this.containerLayout;if(child&&child.resize){var size=this._containerContentBox||this._contentBox;child.resize(this.doLayout&&size&&size.w&&size.h?size:null);}},validate:function(){return this._uiSetUp&&this.form.validate();},isValid:function(){return this.validate();},_beforeSetFocus:function(_138a){if(this._widgetMap[_138a.id]){var _138b=this._widgetMap[_138a.id].parent;var group=this._widgetMap[_138a.id].group;this._beforeSetFocus(_138b);if(_138b.selectChild){_138b.selectChild(group);}}}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_138c,_138d,event,_138e,has,_138f,_1390,_1391,_1392){return _138c("dijit.form.Form",[_138f,_1390,_1391,_1392],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){this.encType=value;_138d.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);event.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_138e.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){event.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"epi/shell/MetadataTransformer":function(){define("epi/shell/MetadataTransformer",["dojo/_base/declare","dojo/_base/lang","epi/string","epi/shell/TypeDescriptorManager"],function(_1393,lang,_1394,_1395){return _1393(null,{defaultGroupType:"epi/shell/layout/GroupContainer",defaultSingleGroupType:"epi/shell/layout/SimpleContainer",defaultParentType:"epi/shell/layout/ParentContainer",defaultGroupName:"defaultGroup",defaultGroupTitle:"",propertyFilter:null,_item:null,constructor:function(args){_1393.safeMixin(this,args);},toComponentDefinitions:function(item,_1396,_1397,_1398){this._item=item;var _1399=this._filterProperties(item);return this._getComponentDefinitions(_1399,item.groups,_1396,_1397,_1398);},_filterProperties:function(_139a){var _139b=this.propertyFilter,_139c=_139a.properties;return _139b?_139c.filter(lang.hitch(this,function(prop){return _139b(_139a,prop);})):_139c;},_getComponentDefinitions:function(_139d,_139e,_139f,_13a0,_13a1){var _13a2=lang.clone(_139d)||[],_13a3,_13a4={},_13a5=_1394.pascalToCamel(this.defaultGroupName),_13a6,_13a7=function(item1,item2){return (item1.displayOrder||0)-(item2.displayOrder||0);};_13a3=(_139e||[]).map(function createGroups(group){var _13a8=this._createGroupContainer(group,_13a1);_13a4[_13a8.settings.name]=_13a8;return _13a8;},this);_13a3.sort(_13a7);_13a3.unshift(_13a4[_13a5]=_13a6=this._createGroupContainer({name:_13a5,title:this.defaultGroupTitle,displayUI:true},_13a1));_13a2.sort(_13a7);_13a2.forEach(function createProperties(_13a9){if(!_13a9.showForEdit){return;}var _13aa=_1394.pascalToCamel(_13a9.groupName||""),group=_13a4[_13aa]||_13a6,_13ab=_13a9.properties&&_13a9.properties.length?this._createParentContainer(_13a9,_139f,_13a0,_13a1):this._createPropertyWidget(_13a9,_139f,_13a0,_13a1);_13ab instanceof Array?Array.prototype.push.apply(group.components,_13ab):group.components.push(_13ab);},this);_13a3=_13a3.filter(function(group){return group.settings.displayui&&group.components.length;});if(_13a3.length===1&&_13a3[0].widgetType===this.defaultGroupType){_13a3[0].widgetType=this.defaultSingleGroupType;}return _13a3;},_createGroupContainer:function(group,_13ac){var _13ad={_type:"group",name:_1394.pascalToCamel(group.name),title:group.title,readOnly:_13ac,displayui:group.displayUI};return {displayOrder:group.displayOrder,settings:lang.mixin(_13ad,group.options),widgetType:group.uiType||this.defaultGroupType,components:[]};},_createParentContainer:function(_13ae,_13af,_13b0,_13b1){var _13b2={_type:"parent",name:_13af+_1394.pascalToCamel(_13ae.name),title:_13ae.displayName};this._setTranslatedLabelAndTooltip(_13ae.name,_13b2);var _13b3=this._filterProperties(_13ae);return {settings:lang.mixin(_13b2,_13ae.settings),widgetType:_13ae.layoutType||this.defaultParentType,components:this._getComponentDefinitions(_13b3,_13ae.groups,_13b2.name+".",_13b0,_13b1)};},_createPropertyWidget:function(_13b4,_13b5,_13b6,_13b7){var _13b8=lang.mixin(_13b6?{value:_13b4.initialValue}:{},{_type:_13b4.hideSurroundingHtml?"hiddenfield":"field",name:_13b5+_1394.pascalToCamel(_13b4.name),label:_13b4.displayName,selections:_13b4.selections,displayui:_13b4.displayui,readOnly:_13b7},_13b4.settings);this._setTranslatedLabelAndTooltip(_13b4.name,_13b8);return {settings:_13b8,widgetType:_13b4.uiType,widgetPackage:_13b4.uiPackage};},_setTranslatedLabelAndTooltip:function(_13b9,_13ba){var _13bb=this._item.additionalValues&&this._item.additionalValues.modelTypeIdentifier,_13bc;_13b9="properties."+_13b9.toLowerCase();if(!_13bb||!(_13bc=_1395.getResourceValue(_13bb,_13b9))){return;}if(_13bc.caption){_13ba.title=_13ba.label=_13bc.caption;}if(_13bc.help){_13ba.tooltip=_13bc.help;}}});});},"epi/shell/widget/GadgetWrapper":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/layout/ContentPane","epi/routes","epi/shell/Error","epi/clientResourcesLoader","dojo/NodeList-traverse","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/i18n!epi/shell/nls/EPiServer.Shell.Resources.Texts"],function(epi,dojo,dijit,_13bd,_13be,_13bf,_13c0,_13c1,Error,_13c2,_13c3,_13c4,_13c5){var $=epiJQuery,_13c6=epiJQuery;epi.gadget=(function(){var pub={};pub.gadgetIdHash={};pub.getByElement=function(_13c7){_13c7=(_13c7.jquery?_13c7.context:_13c7);var _13c8=dojo.query(_13c7).closest("div.epi-gadgetInner");if(_13c8.length==1){var _13c9=dijit.byNode(_13c8[0]);return _13c9.getInstance();}else{return null;}};pub.getById=function(_13ca){var _13cb=pub.gadgetIdHash[_13ca];if(!_13cb){console.error("Gadget with ID "+_13ca+" is not found in the epi.gadget.gadgetIdHash");return null;}var _13cc=dijit.byId(_13cb);return _13cc.getInstance();};pub.loadView=function(_13cd,_13ce){pub.getByElement(_13cd).loadView(_13ce);};pub.visibilityChanged=function(_13cf,_13d0){pub.getByElement(_13cf).triggerVisibilityChanged();};pub.unload=function(_13d1){pub.getByElement(_13d1).triggerUnload();};return pub;})();return dojo.declare([_13bd,_13be,_13bf],{res:dojo.mixin({},_13c5,_13c4),componentId:null,element:null,defaultRouteParams:null,routeData:null,templateString:"<div class=\"epi-gadgetInner\" data-dojo-attach-point=\"gadgetContainer\">                              <div class=\"epi-gadgetFeedback\" data-dojo-attach-point=\"gadgetFeedback\">&nbsp;</div>                              <div class=\"epi-gadgetContent\" ioArgs=\"{ preventCache: true }\" data-dojo-type=\"dojox/layout/ContentPane\" data-dojo-attach-point=\"gadgetContent\"></div>                          </div>",stylePaths:null,scriptPaths:null,constructor:function(){this.stylePaths=[];this.scriptPaths=[];},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.routeData){this.set("content","Missing route data");return;}this.defaultRouteParams={};for(var param in this.routeData){if(param[0]!="_"){this.defaultRouteParams[param]=this.routeData[param];}}var _13d2=epi.clientResourcesLoader.loadResources(this.stylePaths,this.scriptPaths);dojo.when(_13d2,dojo.hitch(this,function(){epi.gadget.gadgetIdHash[this.componentId]=this.id;var _13d3=this.getInstance();_13d3.routeParams=dojo.mixin(this.defaultRouteParams,{gadgetId:this.componentId});this.gadgetContent.set("id","gadget_"+_13d3.id);$(_13d3.element).bind("_epigadgetloadedinternal",dojo.hitch(this,this._onEpiGadgetLoaded));try{if(typeof this.initMethod=="string"){var _13d4=dojo.getObject(this.initMethod);$(_13d3.element).bind("epigadgetinit",_13d4);}}catch(ex){this.setErrorMessage(ex.message);}$(_13d3.element).trigger("epigadgetinit",_13d3);this.connect(this.gadgetContent,"onDownloadEnd",function(){$(_13d3.element).trigger("_epigadgetloadedinternal");});this.loadView(this.defaultRouteParams);}));},destroy:function(){delete epi.gadget.gadgetIdHash[this.componentId];this.inherited(arguments);},getInstance:function(){if(this.instance){return this.instance;}this.instance=this._gadgetInstance();return this.instance;},getId:function(){return this.componentId;},getActionPath:function(_13d5){return _13c1.getActionPath(this._mergeRouteParameters(_13d5),null);},_onEpiGadgetLoaded:function(){var _13d6=this.getInstance();$("form.epi-gadgetform",_13d6.element).validate({errorElement:"span"});$("form.epi-gadgetform",_13d6.element).bind("submit",_13d6,this._submitHandler);try{$(_13d6.element).trigger("epigadgetloaded",_13d6);}catch(err){this.setErrorMessage(this.res.gadgetinitfailed,{details:err.message,errorThrown:true});}},_mergeRouteParameters:function(_13d7){return dojo.mixin({},this.defaultRouteParams,_13d7);},_submitHandler:function(e){var _13d8=e.data;var _13d9=this;if($(_13d9).valid()){var _13da=_13c6.Event("epigadgetsubmit");_13da.target=_13d9;$(_13d9).trigger(_13da,_13d8);if(!_13da.isDefaultPrevented()){var _13db=$(_13d9).serializeArray();_13db.push({name:"gadgetId",value:_13d8.id});_13d8.ajax({url:_13d9.action,dataType:"html",data:_13db,success:function(data){_13d8.routeParams={};_13d8.gadgetContent.set("content",data.toString());$(_13d8.element).trigger("_epigadgetloadedinternal");}});}}e.preventDefault();},loadView:function(_13dc){this.isVisible=true;var _13dd=this.getInstance();if(_13dc){_13dd.routeParams=_13dc;}else{_13dd.routeParams=this.defaultRouteParams;}var url=_13dd.getActionPath(_13dd.routeParams);this.gadgetContent.set("href",url);},getIsVisible:function(){return this.isVisible;},setErrorMessage:function(_13de,_13df){_13df=dojo.mixin({details:"",status:0,errorThrown:false},_13df);var _13e0=dojo.query(".epi-gadgetError",this.gadgetContainer);if(_13e0.length===0){_13e0=dojo.create("div",{"class":"epi-feedbackContent-error epi-feedbackContent epi-gadgetError"},this.gadgetContainer,"before");}Error.createErrorMessage(_13e0,_13de,_13df.details,_13df.status,true);dojo.style(_13e0,"display","block");},clearErrorMessage:function(){var _13e1=dojo.query(".epi-gadgetError",this.gadgetContainer);dojo.style(_13e1,"display","none");},setFeedbackMessage:function(_13e2,_13e3){_13e3=dojo.mixin({ajaxLoader:false,feedbackMessage:_13e2,feedbackTitle:"",feedbackHideDelay:0,feedbackFadeOut:false},_13e3);this.gadgetFeedback.innerHTML=_13e3.feedbackMessage;dojo.style(this.gadgetFeedback,"display","block");if(_13e3.ajaxLoader){dojo.addClass(this.gadgetFeedback,"epi-gadgetLoader");}if(_13e3.feedbackHideDelay>0){var self=this;setTimeout(function(){self.clearFeedbackMessage(_13e3);},_13e3.feedbackHideDelay);}else{if(_13e3.feedbackFadeOut){this.clearFeedbackMessage(_13e3);}}},clearFeedbackMessage:function(_13e4){dojo.removeClass(this.gadgetFeedback,"epi-gadgetLoader");if(_13e4&&_13e4.feedbackFadeOut&&dojo.style(this.gadgetFeedback,"display")=="block"){var _13e5={node:this.gadgetFeedback,duration:4000,onEnd:dojo.hitch(this,function(){dojo.style(this.gadgetFeedback,"display","none");dojo.style(this.gadgetFeedback,"opacity","1");})};dojo.fadeOut(_13e5).play();}else{dojo.style(this.gadgetFeedback,"display","none");}},triggerUnload:function(){$(this.getInstance().element).trigger("epigadgetunload",this.getInstance());},triggerVisibilityChanged:function(_13e6){this.isVisible=_13e6;$(this.getInstance().element).trigger("epigadgetvisibilitychanged",this.getInstance());},_gadgetInstance:function(){var _13e7=this;var pub={id:_13e7.componentId,element:_13e7.gadgetContainer,gadgetContent:_13e7.gadgetContent,routeParams:{}};pub.getActionPath=function(_13e8){return _13e7.getActionPath(_13e8);};pub.loadView=function(_13e9){_13e7.loadView(_13e9);};pub.isVisible=function(){return _13e7.getIsVisible();};pub.setErrorMessage=function(_13ea,_13eb){_13e7.setErrorMessage(_13ea,_13eb);};pub.clearErrorMessage=function(){_13e7.clearErrorMessage();};pub.setFeedbackMessage=function(_13ec,_13ed){_13e7.setFeedbackMessage(_13ec,_13ed);};pub.clearFeedbackMessage=function(){_13e7.clearFeedbackMessage();};pub.raiseErrorEvent=function(_13ee){this.error=_13ee;$(this.element).trigger("epigadgeterror",this);this.error=null;};pub.ajax=function(_13ef){var self=this;var _13f0={dataType:"json",feedbackMessage:"",cache:false,type:"POST",ajaxLoader:true,error:function(_13f1,_13f2,_13f3){self.clearFeedbackMessage();self.raiseErrorEvent({xmlHttpRequest:_13f1,status:_13f2,errorThrown:_13f3});self.setErrorMessage("<strong>"+_13e7.res.internalservererror+" ["+_13f1.status+"]</strong>.",{details:_13f1.responseText,status:_13f2,errorThrown:_13f3});},success:function(data){self.clearFeedbackMessage();}};var _13f4=$("input[name=__RequestVerificationToken]",this.element);if(_13f4.length>0){var _13f5={__RequestVerificationToken:_13f4.val()};if(_13ef.data){if(!_13ef.data.__RequestVerificationToken){_13ef.data=$.extend(_13ef.data,_13f5);}}else{_13ef.data=_13f5;}}if($.isFunction(_13ef.success)){var _13f6=_13ef.success;_13ef.success=function(data,_13f7){self.clearFeedbackMessage();_13f6.call(this,data,_13f7);};}if($.isFunction(_13ef.error)){var _13f8=_13ef.error;_13ef.error=function(_13f9,_13fa,_13fb){self.clearFeedbackMessage();_13f8.call(this,_13f9,_13fa,_13fb);};}_13f0=$.extend(_13f0,_13ef);self.setFeedbackMessage("",_13f0);$.ajax(_13f0);};return pub;}});});},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_13fc,_13fd,_13fe,_13ff){return _13ff("dojox.layout.ContentPane",_13fd,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_13fc.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _1400=this._contentSetter;if(!(_1400&&_1400 instanceof _13fe._ContentSetter)){_1400=this._contentSetter=new _13fe._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _1401=this.onContentError(e);try{this.containerNode.innerHTML=_1401;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};return this.inherited("_setContent",arguments);},destroy:function(){var _1402=this._contentSetter;if(_1402){_1402.tearDown();}this.inherited(arguments);}});});},"dojox/html/_base":function(){define("dojox/html/_base",["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_1403,_1404,_1405,_1406,_1407,lang,ready,has,_1408,_1409,when,_140a){var html=_1407.getObject("dojox.html",true);if(has("ie")){var _140b=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _140c=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _140d=html._adjustCssPaths=function(_140e,_140f){if(!_140f||!_140e){return;}if(_140b){_140f=_140f.replace(_140b,function(_1410,pre,delim,url,post){return pre+(new _1408(_140e,"./"+url).toString())+post;});}return _140f.replace(_140c,function(_1411,_1412,_1413,_1414,_1415,media){if(_1413){return "@import \""+(new _1408(_140e,"./"+_1413).toString())+"\""+media;}else{return "url("+(new _1408(_140e,"./"+_1415).toString())+")"+media;}});};var _1416=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _1417=html._adjustHtmlPaths=function(_1418,cont){var url=_1418||"./";return cont.replace(_1416,function(tag,start,name,delim,_1419,_141a,_141b,end){return start+(name?(name+"="+delim+(new _1408(url,_1419).toString())+delim):("style="+_141a+_140d(url,_141b)+_141a))+end;});};var _141c=html._snarfStyles=function(_141d,cont,_141e){_141e.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_141f){return _141f.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_1420,_1421,_1422,_1423,delim,href){var i,attr=(_1421||_1423||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_1422){i=_141e.push(_141d?_140d(_141d,_1422):_1422);}else{i=_141e.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var atObj={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");atObj[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_141e.attributes[i-1]=atObj;}return "";});};var _1424=html._snarfScripts=function(cont,byRef){byRef.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_1425){return _1425.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _1426(src){if(byRef.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_1409.get({url:src,sync:true,load:function(code){byRef.code+=code+";";},error:byRef.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_1427,delim,src,code){if(src){_1426(src);}else{byRef.code+=code;}return "";});};var _1428=html.evalInGlobal=function(code,_1429){_1429=_1429||_140a.doc.body;var n=_1429.ownerDocument.createElement("script");n.type="text/javascript";_1429.appendChild(n);n.text=code;};html._ContentSetter=_1403(_1406._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_142a){this._styleNodes=[];var st,att,_142b,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_142a.length;i<e;i++){_142b=_142a[i];att=_142a.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_142b;}else{st.appendChild(doc.createTextNode(_142b));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _142c=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_1417(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_141c(this.referencePath,cont,_142c);}if(this.executeScripts){var _142d=this;var byRef={downloadRemote:true,errBack:function(e){_142d._onError.call(_142d,"Exec","Error downloading remote script in \""+_142d.id+"\"",e);}};cont=_1424(cont,byRef);this._code=byRef.code;}}this.content=cont;},onEnd:function(){var code=this._code,_142e=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_1405.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_142e&&_142e.length){this._renderStyles(_142e);}var d=new _1404();var _142f=this.getInherited(arguments),args=arguments,_1430=lang.hitch(this,function(){_142f.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_1428(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}ready(_1430);}else{_1430();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_1405.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_1431){if(!_1431){return _1406._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_1431,{content:cont,node:node}));return op.set();}};return html;});},"epi/shell/Error":function(){define("epi/shell/Error",["dojo","dijit/Dialog","epi/i18n!epi/shell/nls/episerver.shell.resources.texts"],function(dojo,_1432,res){return {openErrorDialog:function(_1433,_1434){var _1435=new _1432({title:res.error,style:"width: 600px",content:_1434});_1435.show();},createErrorMessage:function(_1436,_1437,_1438,_1439,_143a){if(_1437){if(!_1438){_143a=false;}if(_143a){_1437=_1437+" <br/><a href='#' class='epi-openErrorDialogButton'>"+res.errormoreinformationtext+"</a>";}_1436.innerHTML=_1437;dojo.query(".epi-openErrorDialogButton").connect("onclick",dojo.hitch(this,function(){this.openErrorDialog(_1436,_1438);}));}},showDialogWithElementContent:function(_143b){this.openErrorDialog(dojo.body(),_143b.innerHTML);}};});},"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(_143c,lang,array){var _143d=_143c.NodeList;lang.extend(_143d,{_buildArrayFromCallback:function(_143e){var ary=[];for(var i=0;i<this.length;i++){var items=_143e.call(this[i],this[i],ary);if(items){ary=ary.concat(items);}}return ary;},_getUniqueAsNodeList:function(nodes){var ary=[];for(var i=0,node;node=nodes[i];i++){if(node.nodeType==1&&array.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(nodes,query){var ary=this._getUniqueAsNodeList(nodes);ary=(query?_143c._filterResult(ary,query):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(query,_143f){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_143f),query);},children:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(query,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_143c._filterResult([node],query,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return node.parentNode;});},parents:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var nodes=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<nodes.length;i++){if(nodes[i]!=node){pary.push(nodes[i]);}}return pary;});},next:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _143d;});},"epi/shell/widget/GlobalMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/NodeList-traverse","dojo/dom-attr","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/query","dojo/topic","dojo/text!./templates/GlobalMenu.html","dijit/focus","dijit/_Container","dijit/_TemplatedMixin","dijit/_Widget","epi/Url","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GlobalMenu","dojo/has","dgrid/util/has-css3"],function(_1440,lang,event,_1441,_1442,_1443,_1444,_1445,query,topic,_1446,_1447,_1448,_1449,_144a,Url,_144b,has){return _1440([_144a,_1449,_1448],{res:_144b,templateString:_1446,_focusNode:null,_siteUrl:null,openClass:"epi-globalNavigation--open",hoverClass:"epi-globalNavigation--hover",shadowClass:"epi-globalNavigation--shadow",hiddenClass:"dijitHidden",postCreate:function(){this.inherited(arguments);this._focusNode=query(".epi-navigation-selected > a",this.containerNode)[0];this.connect(this,"onBlur",function(){this._toggleGlobalSearch(false);this._hideMenu();});this.connect(this.domNode,"onmouseenter",this._toggleHintOn);this.connect(this.domNode,"onmouseleave",this._toggleHintOff);this.connect(this.accordionNode,"onclick",this._showMenu);this.connect(this.expandCollapseContainer,"onclick",this._toggleMenu);this._hideMenu();topic.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));if(has("css-transitions")){this.connect(this.accordionNode,has("transitionend"),lang.hitch(this,function(){if(this._isOpen()){_1447.focus(this._focusNode);return;}if(_1444.contains(this.accordionNode,this.hoverClass)){return;}_1444.add(this.containerNode,this.hiddenClass);}));}},_getContentHeight:function(){return _1445.getContentBox(this.containerNode).h;},_toggleMenu:function(e){if(this._isOpen()){this._hideMenu();}else{this._showMenu();}event.stop(e);},_toggleHintOn:function(){if(this._isOpen()){return;}_1444.add(this.accordionNode,this.hoverClass);},_toggleHintOff:function(){if(this._isOpen()){return;}_1444.remove(this.accordionNode,this.hoverClass);},_showMenu:function(){_1444.remove(this.accordionNode,this.hoverClass);_1444.add(this.accordionNode,this.openClass);_1444.remove(this.containerNode,this.hiddenClass);_1443.set(this.accordionNode,"height",this._getContentHeight()+"px");_1444.add(this.domNode,this.shadowClass);},_hideMenu:function(){_1444.remove(this.accordionNode,this.hoverClass);_1444.remove(this.accordionNode,this.openClass);_1444.remove(this.domNode,this.shadowClass);_1443.set(this.accordionNode,"height","0px");},_isOpen:function(){return _1444.contains(this.accordionNode,this.openClass);},_getToViewModeElement:function(){var _144c=query(".epi-navigation-container-utils",this.element)[0];return query(".epi-navigation-global_sites.epi-navigation-currentSite.epi-navigation-iconic",_144c)[0];},_onContextChanged:function(ctx,_144d){var _144e=this._getToViewModeElement();if(!_144e){return;}var url=this._buildPublicUrl(ctx,_144e);var title=lang.replace(this.res.toviewmode,[url.toString()]);_1442.set(_144e,{href:url.path,title:title});},_buildPublicUrl:function(ctx,_144f){if(this._siteUrl===null){this._siteUrl=_144f.href;}var _1450=new Url(ctx.publicUrl||this._siteUrl);var _1451=window.location;var _1452={scheme:_1451.protocol,authority:_1451.host,path:_1450.path};var url=new Url(null,_1452,true);return url;},_toggleGlobalSearch:function(_1453){var _1454=query("#epi-searchContainer")[0];if(_1454){_1443.set(_1454,"display",_1453?"block":"none");}}});});},"url:epi/shell/widget/templates/GlobalMenu.html":"<div>\r\n    <div data-dojo-attach-point=\"accordionNode\" class=\"epi-navigation-accordioncontainer\">\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"${hiddenClass}\" style=\"position:absolute; bottom:0; left:0; width:100%\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"expandCollapseContainer\" class=\"epi-navigation-expandcollapseContainer\">\r\n        <a data-dojo-attach-point=\"expandCollapseButton\" href=\"javascript:void(0)\" class=\"epi-navigation-expandcollapseBtn\"\r\n            tabindex=\"0\"><span class=\"epi-navigation-expandcollapseIcon\"></span></a>\r\n    </div>\r\n</div>\r\n","dgrid/util/has-css3":function(){define(["dojo/has"],function(has){var _1455=["ms","O","Moz","Webkit"];function _1456(_1457,_1458){var style=_1457.style,i;if(_1458 in style){return true;}_1458=_1458.slice(0,1).toUpperCase()+_1458.slice(1);for(i=_1455.length;i--;){if((_1455[i]+_1458) in style){return _1455[i];}}return false;};has.add("css-transitions",function(_1459,doc,_145a){return _1456(_145a,"transitionProperty");});has.add("css-transforms",function(_145b,doc,_145c){return _1456(_145c,"transform");});has.add("css-transforms3d",function(_145d,doc,_145e){return _1456(_145e,"perspective");});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});return has;});},"epi/shell/widget/HelpButton":function(){define(["dojo","dojo/i18n","epi","epi/dependency","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/HelpButton.htm"],function(dojo,i18n,epi,_145f,_1460,_1461,_1462){return dojo.declare([_1460,_1461],{moduleName:null,webHelpAlias:null,helpUrl:null,templateString:_1462,commonRes:epi.resources,postMixInProperties:function(){if(this.helpUrl==null){var _1463=_145f.resolve("epi.ModuleManager");var _1464=_1463.getModule(this.moduleName);this.helpUrl=_1464.helpPath+"#"+this.webHelpAlias;}this.inherited(arguments);}});});},"url:epi/shell/widget/templates/HelpButton.htm":"<span><a target=\"_blank\" href=\"${helpUrl}\" title=\"${commonRes.action.help}\" onclick=\"window.open('${helpUrl}','_blank', 'scrollbars=yes, height=500, location=no, menubar=no, resizable=yes, toolbar=no, width=840');return false;\" class=\"epi-helpIcon\">&nbsp;</a></span>","epi/shell/widget/IframeWithOverlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","dojo/number","dojo/aspect","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./_ScrollbarMeasurementMixin","./AutoResizingIframe","./overlay/OverlayContainer","epi/shell/layout/_LayoutWidget","epi/shell/widget/DelayableStandby","dojo/text!./templates/IframeWithOverlay.html"],function(_1465,lang,array,has,_1466,_1467,_1468,_1469,_146a,_146b,_146c,_146d,_146e,_146f,_1470,_1471,_1472,_1473){return _1465([_1471,_146c,_146d,_146e],{templateString:_1473,autoResize:true,previewSize:null,devicePreviewClass:"",previewClass:"",standbySettings:{delayTime:3000,duration:350},postCreate:function(){this.inherited(arguments);this.overlay.set("target",this.iframe);this._setupStandby();},startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.iframe,"onUnload",function(){this._standby.show();});this.connect(this.iframe,"onLoad",function(url){_146b.toggle(this.scroller,"epi-editorViewport-preview-external",!this.iframe.isInspectable());this._standby.hide();});this.own(_1467.after(this.iframe,"onAfterResize",function(){this.emit("viewportresized");}.bind(this),true));this._setCenterViewport(this._availableViewport||this._contentBox||_1468.getContentBox(this.containerNode),true);},addChild:function(_1474,_1475){function show(){this.layout();array.forEach(_1474.getChildren(),function(_1476){_1476.connect(_1476,"onLayoutChanged",lang.hitch(this,function(){if(_1474.open){this.layout();}}));},this);};_1474.connect(_1474,"onAfterShow",lang.hitch(this,show));_1474.connect(_1474,"onAfterHide",lang.hitch(this,this._hide));this.inherited(arguments);},onLayoutChanged:function(){this.inherited(arguments);this.getChildren().forEach(lang.hitch(this,function(_1477){if(_1477.open){this.scrollIntoView(_1477.overlayItem);}else{if(_1477!==this.iframe||_1477!==this.overlay){this._hide();}}}));},layout:function(force){if(!this._contentBox){return;}this._layoutChildren(force);this.inherited(arguments);},_layoutChildren:function(force){if(force){this._resetScroll();}this._positionChildren();this._setCenterViewport(this._availableViewport,force);},_positionChildren:function(){var _1478=this.get("centerSize");this._availableViewport=lang.mixin({},this._contentBox);_1469.set(this.scroller,{width:""});var _1479=this.getScrollbars(this.scroller);array.forEach(this.getChildren(),function(child){if(child===this.iframe||child===this.overlay||child.open===false||child.visible===false){return;}var _147a;switch(child.region){case "leading":if(child.resize){child.resize({t:0,l:0,h:this._contentBox.h-_1479.x});}_147a=_1468.position(child.domNode);this._availableViewport.w-=_147a.w;this._availableViewport.l+=_147a.w;break;case "trailing":if(child.resize){if(!child._computedStyle){child._computedStyle=_1469.getComputedStyle(child.domNode);}_147a=_1468.getMarginBox(child.domNode,child._computedStyle);child.resize({t:0,h:this._contentBox.h-_1479.x});_1469.set(child.domNode,{right:_1479.y+"px"});_1469.set(this.scroller,{width:(this._availableViewport.w-_147a.w)+"px"});this._availableViewport.w-=_147a.w+_1479.y;}break;case "center":if(child.resize){child.resize(_1478);}break;default:break;}},this);},_setCenterViewport:function(_147b,_147c){var _147d=lang.clone(this.get("centerSize")),_147e,_147f;function _1480(_1481,axis){var _1482=_147b[_1481],_1483=_147d[_1481],size=_1482>_1483?(_1482-_1483)/2:0;size-=_147f[axis];return Math.round(size);};if(!_147d){return;}this.previewContainer._computedStyle=this.previewContainer._computedStyle||_1469.getComputedStyle(this.previewContainer);_147f=_1468.getPadBorderExtents(this.previewContainer,this.previewContainer._computedStyle);if(!this.autoResize){_147e=this.getScrollbarSize();_147d.w=parseInt(_147d.w)+_147e.x;_147d.h=parseInt(_147d.h);}_1469.set(this.previewContainer,{top:_1480("h","t")+"px",left:_1480("w","l")+"px",width:_147d.w+"px",height:_147d.h+"px"});this.iframe.resize(_147d,!!_147c);},onViewportPullDown:function(){this.emit("viewportpulldown");},scrollIntoView:function(_1484){var _1485,_1486,_1487,_1488=16;if(this.iframe.isLoading||!this._contentBox){return;}this._layoutChildren();if((!this.autoResize&&this.previewSize.w<this._availableViewport.w)){return;}_1485=_1484.get("position");_1486=_1485.x+_1485.w+_1488-this.scroller.scrollLeft-this._availableViewport.w;_1487=this.previewContainer.clientWidth+_1486;_1469.set(this.scrollSizer,{width:_1487+"px"});this.previewContainer.scrollLeft=_1486;this._positionChildren(this.get("centerSize"));},_resetScroll:function(){_1469.set(this.scrollSizer,{width:"1px"});},_setupStandby:function(){var _1489=lang.mixin(this.standbySettings,{target:this.scroller});this.own(this._standby=new _1472(_1489).placeAt(this.domNode,"last"));},_getCenterSizeAttr:function(){return this.previewSize||this._contentBox;},_setPreviewSizeAttr:function(size){this.autoResize=!size;this.previewSize=size;_146b.toggle(this.scroller,"epi-editorViewport-preview",!this.autoResize);this.layout();},_setDevicePreviewClassAttr:function(value){if(value){_146b.replace(this.scroller,value,this.devicePreviewClass);}else{_146b.remove(this.scroller,this.devicePreviewClass);}this._set("devicePreviewClass",value);},_setPreviewClassAttr:function(value){if(value){_146b.replace(this.scroller,value,this.previewClass);}else{_146b.remove(this.scroller,this.previewClass);}this._set("previewClass",value);},_hide:function(){this._resetScroll();_1469.set(this.scroller,{width:""});this._setCenterViewport(this._contentBox);},showDelay:function(delay){this._standby.show(delay);},hideDelay:function(delay){this._standby.hide();}});});},"epi/shell/widget/AutoResizingIframe":function(){define(["dojo/_base/declare","./Iframe","./_AutoResizingIframeMixin","./_DynamicStyleSheetIframeMixin"],function(_148a,_148b,_148c,_148d){return _148a([_148b,_148c,_148d],{});});},"epi/shell/widget/_AutoResizingIframeMixin":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/dom-style","dojo/has","epi/shell/postMessage","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_148e,_148f,_1490,_1491,has,_1492,_1493){return _148e([_1493],{onAfterResize:function(size){},postCreate:function(){var self=this,_1494="/site/resize"+(this.name?"/"+this.name:"");this.inherited(arguments);this.own(_1492.subscribe(_1494,function(_1495){self.contentChange();}));},checkSize:function(){_1492.publish("/site/checksize",{},this.getWindow());},onLoad:function(){if(this.isInspectable()){this.setOverflow("hidden");}this.inherited(arguments);},onUnload:function(){this.inherited(arguments);if(this._contentBox){_1491.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(){if(this._contentBox){this.resize(this._contentBox,true);}},resize:function(size,force){var self=this,def=this._resize(size,force);def.then(function(_1496){self.onAfterResize(_1496);});return def;},_resize:function(size,force){var _1497=this._contentBox||{h:0,w:0},self=this,_1498=new _148f(),_1499=new _148f(),_149a={h:size.h,w:size.w};function _149b(_149c){if(self.resizeThrottle){clearTimeout(self.resizeThrottle);self.resizeThrottle=null;}self.resizeThrottle=setTimeout(function(){_1491.set(self.iframe,{width:(_149c.w)+"px",height:_149c.h+"px"});_1498.resolve();},50);return _1498;};if(force||(size&&(size.h!==_1497.h||size.w!==_1497.w))){this._contentBox=size;if(this.isInspectable()){_149a.w-=this.getScrollbarSize().x;}_149b(_149a).then(function(){var _149d={h:0,w:0};if(self.isInspectable()){_149d=self._setToDocumentSize(_149a);}_1499.resolve(_149d);});}return _1499.promise;},_setToDocumentSize:function(_149e){var _149f={w:Math.max(this.iframe.contentDocument.body.scrollWidth,_149e.w),h:Math.max(this.iframe.contentDocument.documentElement.scrollHeight,_149e.h)};if(_149f.w>0&&_149f.h>0){_1491.set(this.iframe,{width:_149f.w+"px",height:_149f.h+"px"});}_1490.set(this.iframe,"data-epi-ipad-ping","pong");return _149f;},setOverflow:function(_14a0){var doc=this.getDocument();if(doc&&doc.documentElement&&doc.body){_1491.set(doc.documentElement,{overflow:_14a0});_1491.set(doc.body,{overflow:_14a0});}}});});},"epi/shell/widget/_DynamicStyleSheetIframeMixin":function(){define(["dojo/_base/declare","dijit/Destroyable","epi/shell/DynamicStyleSheet"],function(_14a1,_14a2,_14a3){return _14a1([_14a2],{cssRules:null,postMixInProperties:function(){this.inherited(arguments);this.cssRules=[];},postCreate:function(){this.inherited(arguments);this.own(this.watch("isLoading",this._isLoadingHandler));this._setup();},destroy:function(){if(this._css){this._css.destroy();}this.inherited(arguments);},addCssRules:function(rules){var _14a4=rules instanceof Array;_14a4?this.cssRules=this.cssRules.concat(rules):this.cssRules.push(rules);if(this._css){_14a4?this._css.addRules(rules):this._css.addRule(rules);}},_isLoadingHandler:function(name,_14a5,_14a6){if(_14a6){if(this._css){this._css.destroy();}}else{this._setup();}},_setup:function(){if(this.isInspectable()){this._css=new _14a3({doc:this.getDocument(),rules:this.cssRules});}}});});},"epi/shell/DynamicStyleSheet":function(){define("epi/shell/DynamicStyleSheet",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(array,_14a7,_14a8){return _14a7(null,{doc:null,_styleSheet:null,_ruleIndexes:null,_addedRules:null,constructor:function(_14a9){if(!_14a9||!_14a9["doc"]){throw new Error("No doc parameter specified");}this._doc=_14a9["doc"];this._addedRules=[];this._ruleIndexes=[];var rules=_14a9["rules"];if(rules&&rules.length>0){this.addRules(rules);}},destroy:function(){delete this._styleSheet;delete this._doc;},addRules:function(rules){var _14aa=[];array.forEach(rules,function(rule){_14aa.push(this.addRule(rule.selector,rule.css));},this);return _14aa;},addRule:function(_14ab,css){var self,_14ac=this._getStyleSheet();function _14ad(_14ae){var _14af=self._ruleIndexes[_14ae],_14b0=self._ruleIndexes.length;if(_14af===undefined){return;}_14ac.deleteRule?_14ac.deleteRule(_14af):_14ac.removeRule(_14af);self._ruleIndexes[_14ae]=undefined;for(var i=_14ae;i<_14b0;i++){if(self._ruleIndexes[i]>_14af){self._ruleIndexes[i]--;}}_14ac=null;};var index=this._ruleIndexes.length;if(_14ac){this._ruleIndexes[index]=(_14ac.cssRules||_14ac.rules).length;_14ac.addRule?_14ac.addRule(_14ab,css):_14ac.insertRule(_14ab+"{"+css+"}",this._ruleIndexes[index]);}return {remove:function(){_14ad(index);}};},_getStyleSheet:function(){if(this._styleSheet){return this._styleSheet;}var _14b1=_14a8.create("style",{type:"text/css"},this._doc.getElementsByTagName("head")[0]);return this._styleSheet=_14b1.sheet||_14b1.styleSheet;}});});},"epi/shell/widget/overlay/OverlayContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/_Container","dijit/_WidgetBase","dijit/_TemplatedMixin","epi/shell/postMessage"],function(array,_14b2,_14b3,lang,_14b4,_14b5,_14b6,_14b7,_14b8){return _14b2([_14b6,_14b5,_14b7],{updateInterval:250,enabled:false,target:null,targetCoverEnabled:false,templateString:"<div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-container\"><div data-dojo-attach-point=\"targetCover\" class=\"epi-overlay-targetCover\"></div></div>",_childConnects:null,postMixInProperties:function(){this.inherited(arguments);this._childConnects={};},startup:function(){if(this._started){return;}this.inherited(arguments);this._toggleTargetCover(this.enabled);this.subscribe("/dnd/start",function(){this.set("targetCoverEnabled",true);});this.subscribe("/dnd/cancel",function(){this.set("targetCoverEnabled",false);});this.subscribe("/dnd/drop",function(){this.set("targetCoverEnabled",false);});this.connect(this.target,"onUnload",this.disconnectOverlayItems);this.connect(this.target,"onAfterResize",this._onAfterResizeHandler);},addChild:function(_14b9,_14ba){this.inherited(arguments);_14b9.set("parent",this);_14b9.resize();var _14bb=[];if(_14b9.onResize){_14bb.push(this.connect(_14b9,"onResize",this._onContentChange));}this._childConnects[_14b9.id]=_14bb;},removeChild:function(_14bc){this.inherited(arguments);var _14bd=this._childConnects[_14bc.id];this._childConnects[_14bc.id]=null;delete this._childConnects[_14bc.id];array.forEach(_14bd,function(_14be){_14be.remove();});},disconnectOverlayItems:function(){this.set("enabled",false);array.forEach(this.getChildren(),lang.hitch(this,function(_14bf){_14bf.set("sourceItemNode",null);}));},_setReadOnlyAttr:function(_14c0){this._set("readOnly",_14c0);array.forEach(this.getChildren(),lang.hitch(this,function(_14c1){_14c1.set("readOnly",_14c0);}));},_onAfterResizeHandler:function(_14c2){this.set("documentSize",_14c2);this._updateOverlayItems(true);},_onContentChange:function(){this.target.contentChange();},_updateOverlayItems:function(_14c3){if(!this.get("enabled")||this.isUpdating||!this.target.isInspectable()){return;}var _14c4=4;var _14c5=1;var dirty;var _14c6;this.isUpdating=true;do{dirty=false;array.forEach(this.getChildren(),function(_14c7){var _14c8=_14c7.get("position");_14c6=_14c8.isChanged||_14c6;if(_14c8.isChanged){dirty=_14c7.updatePosition(_14c8)||dirty;}},this);}while(dirty&&_14c5++<_14c4);this.isUpdating=false;if(_14c5>=2||!_14c3&&_14c6){this.target.contentChange();}else{if(!_14c3){this.target.checkSize();}}},_toggleTargetCover:function(_14c9){var _14ca=this.get("documentSize");if(_14c9&&_14ca){_14b4.set(this.targetCover,{width:(_14ca.w)+"px",height:(_14ca.h)+"px"});}_14b4.set(this.targetCover,{display:_14c9?"block":"none"});},_togglePoller:function(_14cb){var self=this;function _14cc(){self._updateOverlayItems();if(self.updateInterval>0){self._pollerToken=setTimeout(_14cc,self.updateInterval);}};if(self._pollerToken){clearTimeout(self._pollerToken);}if(_14cb){_14cc();}},_setUpdateIntervalAttr:function(_14cd){this._set("updateInterval",_14cd);this._togglePoller(_14cd>0);},_setEnabledAttr:function(value){this._set("enabled",value);if(value){this._updateOverlayItems();}array.forEach(this.getChildren(),function(w){w.set("disabled",!value);},this);this._togglePoller(value);_14b4.set(this.domNode,{display:value?"":"none"});},_setTargetCoverEnabledAttr:function(value){if(this.targetCoverEnabled===value){return;}this._toggleTargetCover(value);this._set("targetCoverEnabled",value);}});});},"epi/shell/layout/_LayoutWidget":function(){define(["dojo/_base/declare","dijit/layout/_LayoutWidget"],function(_14ce,_14cf){return _14ce([_14cf],{onLayoutChanged:function(){},layout:function(){this.inherited(arguments);this.onLayoutChanged();}});});},"epi/shell/widget/DelayableStandby":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/widget/Standby"],function(_14d0,lang,_14d1){return _14d0([_14d1],{delayTime:300,showTimeOut:30000,color:"#FFFFFF",_timeoutId:-1,_isShowing:false,show:function(_14d2,_14d3){var _14d4=arguments;this._clearTimeout();this._isShowing=true;if(typeof _14d2!==undefined&&_14d2===0){this.inherited(_14d4);}else{this._timeoutId=setTimeout(lang.hitch(this,function(){var _14d5=_14d3||this.showTimeOut;if(_14d5>=0){this._timeoutId=setTimeout(lang.hitch(this,function(){this.hide();}),_14d5);}this.inherited(_14d4);}),_14d2||this.delayTime);}},hide:function(){this._isShowing=false;this._clearTimeout();this.inherited(arguments);},_clearTimeout:function(){if(this._timeoutId>=0){clearTimeout(this._timeoutId);}},_getIsShowingAttr:function(){return this._isShowing;}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_14d6,_14d7,array,event,has,dom,attr,_14d8,_14d9,_14da,_14db,_14dc,_14dd,fx,_14de,_14df,_14e0){_14d6.experimental("dojox.widget.Standby");return _14d7("dojox.widget.Standby",[_14de,_14df],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_14e0.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_14da.set(this._underlayNode,{display:"none",backgroundColor:this.color});_14da.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_14dc.body()){_14dc.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_14d8.create("div");_14da.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_14dc.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_14da.set(this._centerNode,"display","none");_14da.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_14dc.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_14dc.body(),"dir");if(dir){dir=dir.toLowerCase();}var _14e1;var _14e2=this._scrollerWidths();var _14e3=this.target;var _14e4=_14da.get(this._centerNode,"display");_14da.set(this._centerNode,"display","block");var box=_14d9.position(_14e3,true);if(_14e3===_14dc.body()||_14e3===_14dc.doc){box=_14db.getBox();box.x=box.l;box.y=box.t;}var _14e5=_14d9.getMarginBox(this._centerNode);_14da.set(this._centerNode,"display",_14e4);if(this._ieFixNode){_14e1=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_14e1);box.y=Math.floor((box.y+0.9)/_14e1);box.w=Math.floor((box.w+0.9)/_14e1);box.h=Math.floor((box.h+0.9)/_14e1);}var zi=_14da.get(_14e3,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_14e3.parentNode;var oldZi=-100000;while(cNode&&cNode!==_14dc.body()&&_14e3!==_14dc.body()){zi=_14da.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_14da.set(this._centerNode,"zIndex",ziIn);_14da.set(this._underlayNode,"zIndex",ziUl);var pn=_14e3.parentNode;if(pn&&pn!==_14dc.body()&&_14e3!==_14dc.body()&&_14e3!==_14dc.doc){var obh=box.h;var obw=box.w;var pnBox=_14d9.position(pn,true);if(this._ieFixNode){_14e1=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_14e1);pnBox.y=Math.floor((pnBox.y+0.9)/_14e1);pnBox.w=Math.floor((pnBox.w+0.9)/_14e1);pnBox.h=Math.floor((pnBox.h+0.9)/_14e1);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14e2.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_14e2.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14e2.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14e2.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14e2.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _14e6=pnBox.y+pnBox.h;var bTop=box.y;var _14e7=box.y+obh;var _14e8=pnBox.x;var _14e9=pnBox.x+pnBox.w;var bLeft=box.x;var _14ea=box.x+obw;var delta;if(_14e7>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _14eb=obh-delta;if(_14eb<pnBox.h){box.h=_14eb;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_14e2.h:0);}}else{if(bTop<_14e6&&_14e7>_14e6){box.h=_14e6-bTop;}else{if(_14e7<=vpTop||bTop>=_14e6){box.h=0;}}}if(_14ea>_14e8&&bLeft<_14e8){box.x=pnBox.x;delta=_14e8-bLeft;var _14ec=obw-delta;if(_14ec<pnBox.w){box.w=_14ec;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_14e2.w:0);}}else{if(bLeft<_14e9&&_14ea>_14e9){box.w=_14e9-bLeft;}else{if(_14ea<=_14e8||bLeft>=_14e9){box.w=0;}}}}if(box.h>0&&box.w>0){_14da.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _14ed=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_14ed);if(!has("ie")){_14ed=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_14ed,this);}var _14ee=(box.h/2)-(_14e5.h/2);var _14ef=(box.w/2)-(_14e5.w/2);if(box.h>=_14e5.h&&box.w>=_14e5.w){_14da.set(this._centerNode,{top:(_14ee+box.y)+"px",left:(_14ef+box.x)+"px",display:"block"});}else{_14da.set(this._centerNode,"display","none");}}else{_14da.set(this._underlayNode,"display","none");_14da.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_14da.set(this._underlayNode,s,_14da.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _14f0=_14dd.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _14f1=_14dd.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_14f0,_14f1]);this._anim.play();},_fadeOut:function(){var self=this;var _14f2=_14dd.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_14da.set(this.node,{"display":"none","zIndex":"-1000"});}});var _14f3=_14dd.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_14da.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_14f2,_14f3]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_14d8.create("div");_14da.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_14d8.create("div");_14da.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_14dc.body().appendChild(div);var b=_14d9.getContentBox(div);_14da.set(div,"overflow","scroll");var a=_14d9.getContentBox(div);_14dc.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_14da.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_14f4){this.centerIndicator=_14f4;if(_14f4==="image"){this._centerNode=this._imageNode;_14da.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_14da.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_14dc.body()||this.target===_14dc.doc){this._overflowDisabled=true;var body=_14dc.body();if(body.style&&body.style.overflow){this._oldOverflow=_14da.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_14da.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_14da.set(body.parentNode,"overflow","hidden");}_14da.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_14dc.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_14da.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_14d8.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"url:epi/shell/widget/templates/IframeWithOverlay.html":"<div data-dojo-attach-point=\"containerNode\" class=\"epi-editorViewport\">\r\n    <div data-dojo-attach-point=\"scroller\" class=\"epi-editorViewport-center\">\r\n        <div data-dojo-attach-point=\"previewContainer\" class=\"epi-editorViewport-previewBox\"  data-dojo-props=\"region: 'center'\">\r\n            <iframe data-dojo-attach-point=\"iframe\" data-dojo-type=\"epi/shell/widget/AutoResizingIframe\" data-dojo-props=\"autoFit : false\" name=\"sitePreview\"></iframe>\r\n            <div data-dojo-attach-point=\"overlay\" data-dojo-type=\"epi/shell/widget/overlay/OverlayContainer\"></div>\r\n            <div data-dojo-attach-point=\"scrollSizer\" class=\"epi-editorViewport-scrollSizer\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/LabeledInput":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/_LabeledInput_Top.htm","dojo/text!./templates/_LabeledInput_Bottom.htm","dojo/text!./templates/_LabeledInput_Left.htm","dojo/text!./templates/_LabeledInput_Right.htm"],function(_14f5,lang,_14f6,_14f7,_14f8,_14f9,_14fa,_14fb,_14fc){return _14f5([_14f7,_14f8],{templateString:null,postMixInProperties:function(){var _14fd=this.params.labelPos;switch(_14fd){case 2:this.templateString=_14fa;break;case 3:this.templateString=_14fb;break;case 4:this.templateString=_14fc;break;default:this.templateString=_14f9;break;}},postCreate:function(){var _14fe=this.params;if(_14fe.wrappedDojoType){var _14ff=_14fe.wrappedDojoType;var _1500=_14fe.label;delete _14fe.wrappedDojoType;delete _14fe.labelPos;require([_14ff],lang.hitch(this,function(ctor){var _1501=new ctor(_14fe,this.input);_14f6.set(this.label,"for",_1501.id);}));this.label.innerHTML=_1500;}}});});},"url:epi/shell/widget/templates/_LabeledInput_Top.htm":"<div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Bottom.htm":"<div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Left.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float:left;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Right.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float: right;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","epi/shell/widget/LicenseInformation":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/when","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","epi/dependency","dojo/text!./templates/LicenseInformation.html","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.licenseinformation"],function(_1502,lang,_1503,_1504,topic,when,_1505,_1506,_1507,_1508,_1509,_150a,_150b){return _1502([_1505,_1506,_1507],{templateString:_150a,licenseInformationStore:null,visible:false,_res:_150b,postMixInProperties:function(){this.inherited(arguments);var _150c=_1509.resolve("epi.storeregistry");this.licenseInformationStore=this.licenseInformationStore||_150c.get("epi.shell.licenseinformation");},buildRendering:function(){this.inherited(arguments);when(this.licenseInformationStore.query(),lang.hitch(this,this._bindInformation));},_setVisibleAttr:function(value){if(!value&&value===this.visible){return;}this._set("visible",value);_1504.set(this.domNode,"display",value?"":"none");topic.publish("/epi/shell/globalnavigation/layoutchange");},_onRefreshButtonClick:function(){when(this.licenseInformationStore.refresh("1"),lang.hitch(this,this._bindInformation));},_bindInformation:function(_150d){if(!_150d||_150d.isValid){this.set("visible",false);}else{this.mainInfoNode.innerHTML=_150d.message;this.additionalInfoNode.innerHTML=_150d.additionalInformation;this.set("visible",true);}}});});},"url:epi/shell/widget/templates/LicenseInformation.html":"<div class=\"epi-notificationBar epi-status-bar--error\" style=\"display:none;\">\r\n    <div class=\"epi-notificationBarItem\">\r\n        <div class=\"epi-notificationBarText\">\r\n            <p><strong data-dojo-attach-point=\"mainInfoNode\"></strong></p>\r\n            <p data-dojo-attach-point=\"additionalInfoNode\"></p>\r\n        </div>\r\n        <div class=\"epi-notificationBarButtonContainer\">\r\n            <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-attach-event=\"onClick: _onRefreshButtonClick\">${_res.refresh}</button>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/MenuGroup":function(){define(["dojo","dijit/MenuSeparator","dojo/text!./templates/MenuGroup.htm"],function(dojo,_150e,_150f){return dojo.declare([_150e],{templateString:_150f,label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuGroup.htm":"<li class=\"epi-menugGoup\">\r\n    <span data-dojo-attach-point=\"containerNode\"></span>\r\n</li>","epi/shell/widget/overlay/_Base":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/has","dijit/_Widget"],function(_1510,_1511,_1512,_1513,has,_1514){return _1510([_1514],{disabled:false,sourceItemNode:null,position:null,parent:null,adjustForMargins:true,onResize:function(){},destroy:function(){this.sourceItemNode=null;this.parent=null;this.inherited(arguments);},refresh:function(){this._reset();this.resize();this.onResize();},resize:function(size){size=size||this.get("position");this.updatePosition(size);},updatePosition:function(_1515){if(!this.canUpdatePosition()){return false;}_1513.set(this.domNode,{left:_1515.x+"px",top:_1515.y+"px",width:_1515.w+"px",height:_1515.h+"px"});if(_1515.y<1&&_1515.w<1){_1513.set(this.domNode,{display:"none"});}else{_1513.set(this.domNode,{display:""});}return false;},_getPositionAttr:function(){if(!this.canUpdatePosition()){return {x:0,y:0,w:0,h:0};}var _1516=_1511.position(this.sourceItemNode,false),_1517=this._rawPosition,_1518,_1519,_151a;if(_1517){if(has("ie")){_1518=Math.abs((_1517.x-_1516.x))>1||Math.abs((_1517.y-_1516.y))>1||Math.abs((_1517.w-_1516.w))>1||Math.abs((_1517.h-_1516.h))>1;}else{_1518=_1517.x!==_1516.x||_1517.y!==_1516.y||_1517.w!==_1516.w||_1517.h!==_1516.h;}if(!_1518){this.position.isChanged=false;return this.position;}}this._rawPosition={x:_1516.x,y:_1516.y,w:_1516.w,h:_1516.h};if(this.adjustForMargins){_1519=_1513.getComputedStyle(this.sourceItemNode);if(_1519){_151a=_1511.getMarginExtents(this.sourceItemNode,_1519);if(_151a.l<0){_1516.x-=_151a.l;_1516.w+=_151a.l;}if(_151a.r<0){_1516.w-=_151a.r;}if(_151a.t<0){_1516.x-=_151a.t;_1516.h+=_151a.t;}if(_151a.b<0){_1516.h-=_151a.b;}}}_1516.isChanged=true;this.set("position",_1516);return _1516;},_reset:function(){this._clearPosition();},_clearPosition:function(){this.position=this._rawPosition=null;},_setDisabledAttr:function(_151b){this._set("disabled",_151b);_1513.set(this.domNode,{display:_151b?"none":""});},_setSourceItemNodeAttr:function(value){this._clearPosition();this._set("sourceItemNode",value);},canUpdatePosition:function(){if(this.disabled){return false;}try{if(!this.sourceItemNode||!this.sourceItemNode.ownerDocument){return false;}}catch(ex){return false;}return true;}});});},"epi/shell/widget/overlay/Item":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/mouse","dojo/on","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","./_Base","epi/shell/dnd/Target"],function(array,_151c,lang,_151d,_151e,mouse,on,when,_151f,_1520,_1521,_1522){return _151c([_1521,_1520,_151f],{baseClass:"epi-overlay-item",name:"",_setDisplayNameAttr:function(value){if(this.informationNode){this.informationNode.textContent=value;}},templateString:"<div data-dojo-attach-point=\"item\">                            <div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-item-container\">                                <span data-dojo-attach-point=\"informationNode\" class=\"epi-overlay-item-info\"></span>                                <div class=\"epi-overlay-bracket\"></div>                            </div>                        </div>",allowedDndTypes:null,error:false,childItems:null,parent:null,onClick:function(_1523,e){},onDrop:function(_1524,_1525){},onMouseEnter:function(e){},onMouseLeave:function(e){},constructor:function(){this.childItems=[];},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"click",lang.hitch(this,function(e){this.onClick(this,e);})),on(this.domNode,mouse.enter,lang.hitch(this,this.onMouseEnter)),on(this.domNode,mouse.leave,lang.hitch(this,this.onMouseLeave)));this.transferDndControlTo(this);},destroy:function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this);}for(var i=0;i<this.childItems.length;i++){this.childItems[i].destroyRecursive();}this.childItems=null;if(this._dropTarget){this._dropTarget.destroy();this._dropTarget=null;}this.inherited(arguments);},resize:function(size){this.inherited(arguments);if(this.childItems){array.forEach(this.childItems,function(item,i){item.resize();});}},updatePosition:function(_1526){var node=this.informationNode;if(node){var _1527=_151e.get(node,"minHeight");_151d.toggle(node,"epi-overlay-item-info--inside",_1526.y<_1527);}return this.inherited(arguments);},transferDndControlTo:function(_1528){var _1529=_1528.allowedDndTypes,_152a=_1528.restrictedDndTypes,_152b=_1528.onDropData,_152c=_1528;if(this._dropDataHandler){this.disconnect(this._dropDataHandler);this._dropDataHandler=null;}if(!this._dropTarget){this._setupDnd(_152c,_1529,_152a,_152b);}else{this.own(this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1528,_152b)));var types=_1529;this._dropTarget.accept={};if(types){types.forEach(function(type){this._dropTarget.accept[type]=1;},this);}var _152d=this.reject;if(_152d){for(var i=0;i<_152d.length;++i){this._dropTarget.accept[_152d[i]]=0;}}}},onDropData:function(_152e,_152f,items,copy){var _1530;if(_152e.length>1){_1530=_152e.data;}else{if(_152e.length===1){_1530=_152e[0].data;}}when(_1530,lang.hitch(this,function(_1531){var value;if(this.dndSourcePropertyName){value=_1531[this.dndSourcePropertyName];}else{value=_1531;}this.onDrop(this,value);}));},_setupDnd:function(_1532,_1533,_1534,_1535){if(_1533){this._dropTarget=new _1522(this.domNode,{accept:_1533,reject:_1534,createItemOnDrop:false});this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1532,_1535));this.own(this._dropTarget,this._dropDataHandler);}},_setReadOnlyAttr:function(_1536){this._set("readOnly",_1536);if(this._dropTarget){this._dropTarget.readOnly=_1536;}},_setErrorAttr:function(value){this.set("state",value?"Error":"");this._set("error",value);}});});},"epi/shell/widget/PropagatingContainer":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_Container","dijit/_Contained"],function(epi,dojo,dijit,_1537,_1538,_1539){return dojo.declare([_1537,_1538,_1539],{buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},set:function(_153a,value){this.inherited(arguments);dojo.forEach(this.getChildren(),function(child){child.set(_153a,value);});}});});},"epi/shell/widget/SpaceToolbarSeparator":function(){define(["epi","dojo","dijit","dijit/ToolbarSeparator"],function(epi,dojo,dijit,_153b){return dojo.declare([_153b],{templateString:"<div class=\"epi-spaceToolbarSeparator dijitInline\" role=\"presentation\"></div>"});});},"epi/shell/widget/TabContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/dom-class","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/registry","epi","epi/dependency","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/dialog/Confirmation","epi/shell/widget/TabController","epi/shell/widget/dialog/Alert","epi/shell/widget/_ActionConsumerWidget","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(array,_153c,_153d,lang,_153e,_153f,_1540,_1541,_1542,epi,_1543,_1544,_1545,_1546,Alert,_1547,res){return _153c([_1541,_1547],{controllerWidget:_1546,_selectedPage:null,_componentsController:null,res:res,confirmationBeforeRemoval:true,startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.tablist,"onLayoutChanged",this._changeLayout);this.connect(this.tablist,"onTabTitleChanged",this._changeName);this.connect(this.tablist,"onAddNewTab",this._createTab);this._componentsController=_1543.resolve("epi.shell.controller.Components");if(this.getChildren().length<=0){this._createTab();}},postCreate:function(){this.inherited(arguments);_153f.add(this.domNode,"epi-mainApplicationArea");},_makeController:function(){var _1548=this.inherited(arguments);this.connect(_1548,"onSelectChild",this._pageSelected);var _1549=[{label:this.res.addgadget,onClick:lang.hitch(this,this._showComponentDialog)},{label:this.res.createtab,onClick:lang.hitch(this,this._createTab)},{label:this.res.rearrangegadget,onChange:lang.hitch(this,this._rearrangeGadgets),type:"checkedmenuitem",checked:false,rearrangeGadgets:function(_154a){this.set("checked",_154a);}}];array.forEach(_1549,_1548.addAddMenuItem,_1548);return _1548;},_rearrangeGadgets:function(_154b){if(this._selectedPage){this._selectedPage.changeLockButtonState(_154b);}},_showComponentDialog:function(){if(this._selectedPage){this._selectedPage.showComponentSelector();}},_componentSelected:function(){var _154c=this._selectedPage;_154c.addComponent.apply(_154c,arguments);},_pageSelected:function(page){this._selectedPage=page;},_createTab:function(){var _154d=this._componentsController.getComponentDefinition(this.id);this._componentsController.getEmptyComponentDefinition("EPiServer.Shell.ViewComposition.Containers.ComponentContainer",lang.hitch(this,function(_154e){var comp=_154e[0];comp.settings.numberOfColumns=2;comp.settings.containerUnlocked=true;comp.settings.closable=true;this._componentsController.addComponent(this,comp,lang.hitch(this,function(resp){var _154f=this.getChildren();this.selectChild(_154f[_154f.length-1]);}));}));},_changeName:function(page,value){if(this._isEmpty(value)){this._showMessageDialog(this.res.tabnamecannotbeemptymessage).then(function(_1550){if(_1550){page.controlButton.tabName.innerHTML=page.controlButton.tabCurrentName;page.controlButton._setTabTitleEditable(true);}});}else{var _1551=String(page.title);var item=this._componentsController.getComponentDefinition(page.id);page.title=value;page.tabCurrentName=value;if(item!=null){item.settings.personalizableHeading=value;this._componentsController.saveComponent(item,function(){},lang.hitch(this,function(){this._showMessageDialog(this.res.tabnamecouldnotbesaved).then(function(_1552){if(_1552){page.set("title",_1551);page.set("tabCurrentName",_1551);page.controlButton.revertTabTitleChanges(true,_1551,value);}});}));}else{}}},_getNumberOfColumns:function(evt){if(!evt||!evt.target){return 1;}var _1553=_1542.getEnclosingWidget(evt.target);if(!_1553||!_1553.column){return 1;}return _1553.column;},_changeLayout:function(page,evt){var _1554=this._getNumberOfColumns(evt),item=null;if(typeof page.setColumns=="function"){page.setColumns(_1554);}item=this._componentsController.getComponentDefinition(page.id);if(item!=null){item.settings.numberOfColumns=_1554;this._componentsController.saveComponent(item);}else{}},closeChild:function(page){if(this.getChildren().length==1){return;}if(!this.confirmationBeforeRemoval){this.inherited(arguments);this._removeTab(page);}else{return this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_1541.prototype.closeChild.apply(this,[page]);this._removeTab(page);}}));}},_removeTab:function(page){var item=this._componentsController.getComponentDefinition(page.id);this._componentsController.removeComponent(item.id);var _1555=this.getChildren().length;if(_1555==1){for(var _1556 in this.tablist.pane2button){this.tablist.pane2button[_1556].closeTabMenuItem.set("disabled",true);}}},_showRemovalConfirmationDialog:function(_1557){var _1558=new _1545({description:this.res.removetabquestion,title:epi.resources.header.episerver,onAction:_1557});_1558.show();},_showMessageDialog:function(_1559){var _155a=new _153d();var _155b=new Alert({description:_1559});_155b.show();_153e.after(_155b,"destroy",function(){_155a.resolve(true);});return _155a;},_isEmpty:function(_155c){return (lang.trim(_155c)===""?true:false);}});});},"epi/shell/widget/TabController":function(){define(["dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_155d,_155e,array,_155f,_1560,_1561,_1562,_1563,_1564,Menu,_1565,_1566,_1567,_1568,_1569,res){return dojo.declare(_155f,{buttonWidget:_1568,res:res,useAddMenu:true,templateString:_1569,onAddChild:function(page,_156a){this.inherited(arguments);this.connect(page.controlButton,"onClick",dojo.hitch(this,"onButtonClick",page));this.connect(page.controlButton,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onCloseMenuItem",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onLayoutClick",dojo.hitch(this,"onLayoutChanged",page));this.connect(page.controlButton,"onTabTitleChanged",dojo.hitch(this,"onTabTitleChanged",page));if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _156b;if(this.useMenu){var _156c=this.containerId;_156b=new _1565({id:page.id+"_stcMi",label:page.title,dir:page.dir,lang:page.lang,onClick:dojo.hitch(this,function(){var _156d=dijit.byId(_156c);_156d.selectChild(page);})});this._menuChildren[page.id]=_156b;this._menu.addChild(_156b,_156a);}dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");var _156e=page.params.numberOfColumns||1;var _156f=page.controlButton.menuLayout.getChildren()[_156e-1];_156f&&_156f.set("checked",true);var _1570=this.getChildren().length;for(var _1571 in this.pane2button){this.pane2button[_1571].closeTabMenuItem.set("disabled",(_1570==1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useAddMenu&&btn==this._addBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo.marginBox(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new Menu({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}dojo.style(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_1572){if(!this.useAddMenu){return;}var _1573=null;if(_1572.type&&_1572.type==="checkedmenuitem"){_1573=new _1563(_1572);}else{_1573=new _1565(_1572);}if(_1573){this._addMenu.addChild(_1573);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _1574=this._enableBtn(this._contentBox.w);this._buttons.style("display",_1574?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_155d.set(this._toolbar.domNode,"height",_155e.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[page.id].toggleMenu(true);array.some(this._addMenu.getChildren(),function(menu){if(menu.rearrangeGadgets){menu.rearrangeGadgets(page.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(page,evt){},onTabTitleChanged:function(page,value){},onAddGadget:function(evt){}});});},"dijit/InlineEditBox":function(){require({cache:{"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"}});define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/when","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(_1575,array,_1576,_1577,_1578,_1579,_157a,event,i18n,_157b,keys,lang,has,when,fm,_157c,_157d,_157e,_157f,_1580,_1581,_1582,_1583){var _1584=_1576("dijit._InlineEditor",[_157c,_157d,_157e],{templateString:_1583,postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit","common",this.lang);array.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var Cls=typeof this.editor=="string"?(lang.getObject(this.editor)||_1575(this.editor)):this.editor;var _1585=this.sourceStyle,_1586="line-height:"+_1585.lineHeight+";",_1587=_157a.getComputedStyle(this.domNode);array.forEach(["Weight","Family","Size","Style"],function(prop){var _1588=_1585["font"+prop],_1589=_1587["font"+prop];if(_1589!=_1588){_1586+="font-"+prop+":"+_1585["font"+prop]+";";}},this);array.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(prop){this.domNode.style[prop]=_1585[prop];},this);var width=this.inlineEditBox.width;if(width=="100%"){_1586+="width:100%;";this.domNode.style.display="block";}else{_1586+="width:"+(width+(Number(width)==width?"px":""))+";";}var _158a=lang.delegate(this.inlineEditBox.editorParams,{style:_1586,dir:this.dir,lang:this.lang,textDir:this.textDir});this.editWidget=new Cls(_158a,this.editorPlaceholder);if(this.inlineEditBox.autoSave){_1579.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},startup:function(){this.editWidget.startup();this.inherited(arguments);},_onIntermediateChange:function(){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get(("displayedValue" in ew||"_getDisplayedValueAttr" in ew)?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==keys.ESCAPE){event.stop(e);this.cancel(true);}else{if(e.charOrCode==keys.ENTER&&e.target.tagName=="INPUT"){event.stop(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){fm.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();if(this.editWidget.focusNode){fm._onFocusNode(this.editWidget.focusNode);if(this.editWidget.focusNode.tagName=="INPUT"){this.defer(function(){_1581.selectInputText(this.editWidget.focusNode);});}}}});var _158b=_1576("dijit.InlineEditBox",_157c,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:_1582,editorWrapper:_1584,editorParams:{},disabled:false,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:has("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _158c={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _158c){this.connect(this.displayNode,name,_158c[name]);}this.displayNode.setAttribute("role","button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=lang.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}_1578.add(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_158d){_157b.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_158d);},_setDisabledAttr:function(_158e){this.domNode.setAttribute("aria-disabled",_158e?"true":"false");if(_158e){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}_1578.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_158e);this._set("disabled",_158e);},_onMouseOver:function(){if(!this.disabled){_1578.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){_1578.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){event.stop(e);}this._onMouseOut();this.defer("edit");},edit:function(){if(this.disabled||this.editing){return;}this._set("editing",true);this._savedTabIndex=_1577.get(this.displayNode,"tabIndex")||"0";if(!this.wrapperWidget){var _158f=_1579.create("span",null,this.domNode,"before");var Ewc=typeof this.editorWrapper=="string"?lang.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new Ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:_157a.getComputedStyle(this.displayNode),save:lang.hitch(this,"save"),cancel:lang.hitch(this,"cancel"),textDir:this.textDir},_158f);if(!this.wrapperWidget._started){this.wrapperWidget.startup();}if(!this._started){this.startup();}}var ww=this.wrapperWidget;_1578.add(this.displayNode,"dijitOffScreen");_1578.remove(ww.domNode,"dijitOffScreen");_157a.set(ww.domNode,{visibility:"visible"});_1577.set(this.displayNode,"tabIndex","-1");var ew=ww.editWidget;var self=this;when(ew.onLoadDeferred,lang.hitch(ww,function(){ew.set(("displayedValue" in ew||"_setDisplayedValueAttr" in ew)?"displayedValue":"value",self.value);this.defer(function(){ww.saveButton.set("disabled","intermediateChanges" in ew);this.focus();this._resetValue=this.getValue();});}));},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(focus){var ww=this.wrapperWidget;_157a.set(ww.domNode,{visibility:"hidden"});_1578.add(ww.domNode,"dijitOffScreen");_1578.remove(this.displayNode,"dijitOffScreen");_1577.set(this.displayNode,"tabIndex",this._savedTabIndex);if(focus){fm.focus(this.displayNode);}},save:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);var ww=this.wrapperWidget;var value=ww.getValue();this.set("value",value);this._showText(focus);},setValue:function(val){_157b.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=lang.trim(val);var _1590=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_1590||this.noValueIndicator;this._set("value",val);if(this._started){this.defer(function(){this.onChange(val);});}if(this.textDir=="auto"){this.applyTextDir(this.displayNode,this.displayNode.innerText);}},getValue:function(){_157b.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);this.defer("onCancel");this._showText(focus);},_setTextDirAttr:function(_1591){if(!this._created||this.textDir!=_1591){this._set("textDir",_1591);this.applyTextDir(this.displayNode,this.displayNode.innerText);this.displayNode.align=this.dir=="rtl"?"right":"left";}}});_158b._InlineEditor=_1584;return _158b;});},"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n","url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/dialog/Alert":function(){define(["epi","dojo","dijit/form/Button","epi/shell/widget/dialog/_DialogBase"],function(epi,dojo,_1592,_1593){return dojo.declare([_1593],{acknowledgeActionText:epi.resources.action.ok,closeIconVisible:false,dialogClass:"epi-dialog-alert",buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","alertdialog");this.descriptionNode.setAttribute("role","alert");var _1594=new _1592({"class":"Salt",label:this.acknowledgeActionText,onClick:dojo.hitch(this,this._onAcknowledge)});dojo.place(_1594.domNode,this.actionContainerNode);},_onAcknowledge:function(){this.hide();typeof this.onAction==="function"&&this.onAction();},onAction:function(){}});});},"epi/shell/widget/ValidationTextarea":function(){define(["dojo/_base/declare","dijit/form/Textarea","epi/shell/widget/_ValueRequiredMixin"],function(_1595,_1596,_1597){return _1595([_1596,_1597],{_setPlaceHolderAttr:function(_1598){this.inherited(arguments);this.set("placeholder",_1598);},_setValueAttr:function(value){this.inherited(arguments);this._started&&this.validate();}});});},"epi/shell/widget/_ValueRequiredMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_CssStateMixin","dijit/Tooltip"],function(_1599,lang,_159a,_159b){return _1599([_159a],{required:null,missingMessage:"",destroy:function(){this.displayMessage(null);this.inherited(arguments);},_onFocus:function(){this.inherited(arguments);this.validate();},_onBlur:function(){this.inherited(arguments);this.validate();},validate:function(_159c){var _159d=this.isValid(_159c);var state=_159d?"":(_159c||this._hasBeenBlurred)?"Error":"Incomplete";this.set("state",state);this.set("message",this.getErrorMessage(_159c));this.displayMessage(_159d?"":this.getErrorMessage());return _159d;},isValid:function(_159e){return (!this.required||this.value||this.value===0||(lang.isArray(this.value)&&this.value.length===0));},displayMessage:function(_159f){var _15a0=this.tooltipNode||this.domNode;if(_159f&&this.focused&&!this.isShowingChildDialog){_159b.show(_159f,_15a0,this.tooltipPosition,!this.isLeftToRight());}else{_159b.hide(_15a0);}},getErrorMessage:function(_15a1){var _15a2=this.get("state")!=="Error";return _15a2?"":this.missingMessage;}});});},"epi/shell/widget/WidgetSwitcher":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/Deferred","dojo/topic","dojo/when","epi/shell/_ContextMixin","epi/shell/layout/AnimatedCardContainer","epi/shell/TypeDescriptorManager"],function(array,_15a3,_15a4,lang,_15a5,topic,when,_15a6,_15a7,_15a8){return _15a3([_15a7,_15a6],{componentConstructorArgs:null,supportedContextTypes:null,constructor:function(){this._viewHistory=[];},postMixInProperties:function(){this.inherited(arguments);if(this.supportedContextTypes){if(!lang.isArray(this.supportedContextTypes)){this.supportedContextTypes=[this.supportedContextTypes];}if(!array.every(this.supportedContextTypes,function(type){return typeof type=="string";})){throw new Error("supportedContextTypes must be string, array of strings or null.");}}},postCreate:function(){this.inherited(arguments);when(this.getCurrentContext(),lang.hitch(this,this.contextChanged));this.own(topic.subscribe("/epi/shell/action/changeview",lang.hitch(this,"viewComponentChangeRequested")),topic.subscribe("/epi/shell/action/changeview/back",lang.hitch(this,"_viewComponentBackRequested")),topic.subscribe("/epi/shell/action/changeview/updatestate",lang.hitch(this,"_changeViewState")));},contextChanged:function(_15a9,data){if(!this._isContextTypeSupported(_15a9)){return;}var view=_15a9.customViewType||(!!data?data.viewType:null);var _15aa=this._getCurrentWidgetInfo();if(data&&data.contextIdSyncChange&&_15aa){view=_15aa.type;data=lang.mixin({},data,{viewName:_15aa.viewName,availableViews:_15aa.availableViews});}if(!view&&_15a9.dataType){view=_15a8.getValue(_15a9.dataType,"mainWidgetType");}if(view){this._getObject(view,null,_15a9,data);}else{var _15ab=_15a8.getValue(_15a9.dataType,"defaultView"),_15ac=this._getAvailableViews(_15a9.dataType),_15ad=data?data.viewName:null;var _15ae=["view","sidebysidecompare","allpropertiescompare"];if(_15aa&&_15ae.indexOf(_15aa.viewName)>=0){array.some(_15ac,function(_15af){if(_15af.key==_15aa.viewName){_15ab=_15aa.viewName;return true;}return false;});}var _15b0=this._getViewByKey(_15ad||_15ab,_15ac);if(!_15b0){throw "No default view found for "+_15a9.dataType;}this._loadViewComponentByConfiguration(_15b0,_15ac,null,_15a9,data);}},_getViewByKey:function(key,_15b1){return array.filter(_15b1,function(_15b2){return _15b2.key===key;})[0];},_getAvailableViews:function(_15b3){var _15b4=_15a8.getAndConcatenateValues(_15b3,"availableViews"),_15b5=_15a8.getValue(_15b3,"disabledViews");var _15b6=array.filter(_15b4,function(_15b7){return array.every(_15b5,function(_15b8){return _15b7.key!==_15b8;});});return _15b6.sort(function(x,y){return x.sortOrder<y.sortOrder?-1:1;});},_loadViewComponentByConfiguration:function(view,_15b9,args,_15ba,data){data=lang.mixin({},data,{viewName:view.key,availableViews:_15b9});this._getObject(view.controllerType,args,_15ba,data);},viewComponentChangeRequested:function(type,args,data){when(this.getCurrentContext(),lang.hitch(this,function(_15bb){var _15bc=_15bb?_15bb.dataType:null;if(!type&&_15bc){type=_15a8.getValue(_15bc,"defaultView");}var _15bd=this._getAvailableViews(_15bc),view=this._getViewByKey(type,_15bd);if(view){this._loadViewComponentByConfiguration(view,_15bd,args,_15bb,data);}else{this._getObject(type,args,_15bb,data);}}));},_viewComponentBackRequested:function(_15be){var _15bf=this._getPreviousWidgetInfo();if(_15bf){if(typeof _15be==="undefined"){_15be=false;}var data={skipUpdateView:!_15be,availableViews:_15bf.availableViews,viewName:_15bf.viewName};when(this.getCurrentContext(),lang.hitch(this,function(_15c0){this._getObject(_15bf.type,null,_15c0,data);}));}},_changeViewState:function(state){var _15c1=this._getCurrentWidgetInfo();if(_15c1){lang.mixin(_15c1,state);}},_getPreviousWidgetInfo:function(){var _15c2=this._viewHistory.length;var _15c3=this._viewHistory;var _15c4=(_15c3.length>1)?_15c3[_15c3.length-2]:null;this._viewHistory.splice(_15c2-1,1);return _15c4;},_getCurrentWidgetInfo:function(){var _15c5=this._viewHistory;return (_15c5.length>0)?_15c5[_15c5.length-1]:null;},_isContextTypeSupported:function(_15c6){if(!_15c6){return false;}if(!this.supportedContextTypes){return true;}return array.some(this.supportedContextTypes,function(type){return _15c6.type===type;});},_getObject:function(type,args,_15c7,data){if(!type){return;}var _15c8=this.selectedChildWidget;var func=lang.hitch(this,function(){when(this._testComponentInstanceOf(_15c8,type),lang.hitch(this,function(_15c9){if(_15c9){this._updateHistory(type,data,_15c7);this._updateView(_15c8,_15c7,data);this._onViewChanged(type,args,data);}else{this._changeViewComponent(type,args,_15c7,data);}}));});if(_15c8&&_15c8.savePendingChanges){when(_15c8.savePendingChanges(),func);}else{func();}},_changeViewComponent:function(type,args,_15ca,data){when(this._getChildByType(type),lang.hitch(this,function(_15cb){var _15cc=this.selectedChildWidget;if(_15cc){_15cc.set("isActive",false);}if(_15cb){_15cb.set("isActive",true);if(data&&data.treatAsSecondaryView){this.selectSecondaryChild(_15cb);}else{this.selectChild(_15cb);}this._updateHistory(type,data,_15ca);this._updateView(_15cb,_15ca,data,true);this._onViewChanged(type,args,data);}else{require([type],lang.hitch(this,function(_15cd){var _15ce=lang.mixin(lang.mixin({},this.componentConstructorArgs),args);_15cb=new _15cd(_15ce);_15cb.fitContainer=true;this.addChild(_15cb);var _15cf;if(data&&data.treatAsSecondaryView){_15cf=this.selectSecondaryChild(_15cb);}else{_15cf=this.selectChild(_15cb);}when(_15cf,lang.hitch(this,function(){this._updateHistory(type,data,_15ca);this._updateView(_15cb,_15ca,data,true);this._onViewChanged(type,args,data);}));}));}}));},_updateView:function(_15d0,_15d1,data,_15d2){if(_15d0&&!_15d0._started&&typeof _15d0.startup==="function"){_15d0.startup();}if(_15d0&&typeof _15d0.updateView==="function"){_15d0.updateView(data,_15d1,{widgetResumed:_15d2});}},_getChildByType:function(type){var def=new _15a5();require([type],lang.hitch(this,function(_15d3){var _15d4=array.filter(this.getChildren(),function(child){return child.constructor===_15d3;},this);def.resolve(_15d4.length?_15d4[0]:null);}));return def;},_testComponentInstanceOf:function(_15d5,type){var def=new _15a5();if(_15d5){if(typeof type==="string"){require([type],function(_15d6){def.resolve(_15d5&&_15d5.constructor===_15d6);});}else{def.resolve(_15d5&&_15d5.constructor===type.constructor);}}else{def.resolve(false);}return def;},_onViewChanged:function(type,args,data){topic.publish("/epi/shell/action/viewchanged",type,args,data);},_updateHistory:function(type,data,_15d7){var _15d8=this._viewHistory,_15d9=_15d8.length,item=this.createStoreItem(type,data,_15d7);if(_15d9&&_15d8[_15d9-1].id===item.id){return;}if(_15d9===9){_15d8.shift();}_15d8.push(item);},createStoreItem:function(type,data,_15da){var _15db={type:type,id:type};if(data){var _15dc=data.availableViews||(_15da&&this._getAvailableViews(_15da.dataType));var _15dd=data.viewName||this._getViewName(_15dc,_15da);_15db=lang.mixin(_15db,{availableViews:_15dc,viewName:_15dd});_15db.id+="#"+_15dd;}return _15db;},_getViewName:function(_15de,_15df){if(!_15df){return null;}var _15e0=this._getViewByKey(_15a8.getValue(_15df.dataType,"defaultView"),_15de);if(!_15e0){return null;}return _15e0.key;}});});},"epi/shell/layout/AnimatedCardContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/aspect","dojo/has","dojo/on","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/Deferred","dojo/query","dojo/when","dijit/_TemplatedMixin","dijit/layout/StackContainer","dgrid/util/has-css3"],function(_15e1,lang,fx,_15e2,has,on,_15e3,_15e4,_15e5,_15e6,query,when,_15e7,_15e8,_15e9){return _15e1([_15e8,_15e7],{doLayout:true,templateString:"<div><div class='dijitContainer' style='position: relative; width: 100%; height: 100%' data-dojo-attach-point='containerNode'></div></div>",cssClasses:{animationNode:"epi-animation-node",child:"epi-cardContainer-child",primary:"epi-cardContainer-child--primary",secondary:"epi-cardContainer-child--secondary",secondaryOut:"epi-cardContainer-child--secondary-out",visible:"dijitVisible",hidden:"dijitHidden"},addChild:function(child){var r=this.inherited(arguments);_15e3.add(child.domNode,this.cssClasses.child);return r;},selectSecondaryChild:function(page){return this.selectChild(page,has("css-transitions"));},_transition:function(_15ea,_15eb,_15ec){var d;if(_15ec&&_15eb){d=this._showChild(_15ea);if(_15ea.resize){if(this.doLayout){_15ea.resize(this._containerContentBox||this._contentBox);}else{_15ea.resize();}}_15e3.add(_15eb.domNode,this.cssClasses.primary);_15eb.onHide&&_15eb.onHide();when(this._executeTransition(_15ea,this.cssClasses.secondary),lang.hitch(this,function(_15ed){if(this.selectedPreviousChild&&this.selectedPreviousChild!=_15ea){_15e3.add(_15eb.domNode,this.cssClasses.hidden);_15e3.remove(_15eb.domNode,this.cssClasses.visible);}}));this.selectedPreviousChild=_15eb;}else{if(this.selectedPreviousChild===_15ea){_15e3.add(this.selectedPreviousChild.domNode,this.cssClasses.visible);_15e3.remove(this.selectedPreviousChild.domNode,this.cssClasses.hidden);_15e3.remove(this.selectedPreviousChild.domNode,this.cssClasses.primary);_15e3.remove(this.selectedChildWidget.domNode,this.cssClasses.secondary);when(this._executeTransition(this.selectedChildWidget,this.cssClasses.secondaryOut),lang.hitch(this,function(_15ee){_15e3.remove(_15ee.domNode,this.cssClasses.visible);_15e3.add(_15ee.domNode,this.cssClasses.hidden);_15e3.remove(_15ee.domNode,this.cssClasses.secondaryOut);}),lang.hitch(this,function(_15ef){_15e3.remove(_15ef.domNode,this.cssClasses.visible);_15e3.add(_15ef.domNode,this.cssClasses.hidden);}));if(_15ea!==this.selectedPreviousChild){_15e3.replace(this.selectedPreviousChild.domNode,this.cssClasses.hidden,this.cssClasses.visible);}this.selectedPreviousChild=null;}else{if(_15eb){this._hideChild(_15eb);_15e3.remove(_15eb.domNode,this.cssClasses.primary);}}d=this._showChild(_15ea);_15e3.add(_15ea.domNode,this.cssClasses.primary);if(_15ea.resize){if(this.doLayout){_15ea.resize(this._containerContentBox||this._contentBox);}else{_15ea.resize();}}}return d;},_executeTransition:function(_15f0,_15f1){var d=new _15e6();var _15f2=_15f0.domNode;var _15f3=query("."+this.cssClasses.animationNode,_15f2);var _15f4=_15f3.length>0?_15f3[0]:null;if(_15f4&&_15f2&&has("css-transitions")){_15e3.add(_15f2,_15f1);this.own(this.defer(function(){on.once(_15f4,has("transitionend"),function(){d.resolve(_15f0);});},1));}else{d.reject(_15f0);}return d;}});});},"xstyle/load-css":function(){define([],function(){"use strict";var _15f5="onreadystatechange",_15f6="onload",_15f7="createElement",_15f8=false,doc=document,cache=typeof _css_cache=="undefined"?{}:_css_cache,undef,_15f9={"event-link-onload":document.createElement("link").onload===null&&!navigator.userAgent.match(/AppleWebKit/),"dom-create-style-element":!document.createStyleSheet},head=doc.head||(doc.head=doc.getElementsByTagName("head")[0]);function has(_15fa){return _15f9[_15fa];};function _15fb(doc,_15fc){var link=doc[_15f7]("link");link.rel="stylesheet";link.type="text/css";if(_15fc){link.href=_15fc;}return link;};function _15fd(name,_15fe){return name.lastIndexOf(".")<=name.lastIndexOf("/")?name+"."+_15fe:name;};function _15ff(name){var parts=name.split("!"),suf,i=1,pair;while((suf=parts[i++])){pair=suf.split("=",2);parts[pair[0]]=pair.length==2?pair[1]:true;}return parts;};if(!has("bundled-css")){var _1600=function(_1601,cb){if(require.onError){require.onError=(function(orig){return function(){_15f8=true;orig.apply(this,arguments);};})(require.onError);}function _1602(_1603,cb){var link=_1603.link;link[_15f5]=link[_15f6]=function(){if(!link.readyState||link.readyState=="complete"){_15f9["event-link-onload"]=true;_1604(_1603);cb();}};};function _1605(link){var sheet=link.sheet||link.styleSheet;if(sheet){var _1606=document.styleSheets;for(var i=_1606.length;i>0;i--){if(_1606[i-1]==sheet){return true;}}}};function _1607(_1608,cb){if(_1605(_1608.link)){_1604(_1608);cb();}else{if(!_15f8){setTimeout(function(){_1607(_1608,cb);},_1608.wait);}}};function _1604(_1609){var link=_1609.link;link[_15f5]=link[_15f6]=null;};var _160a;function _160b(){if(!_160a){_160a=true;cb();}};_1602(_1601,_160b);if(!has("event-link-onload")){_1607(_1601,_160b);}};}function _160c(css){if(has("dom-create-style-element")){_160d=document.createElement("style");_160d.setAttribute("type","text/css");_160d.appendChild(document.createTextNode(css));head.insertBefore(_160d,head.firstChild);return _160d;}else{var _160d=document.createStyleSheet();_160d.cssText=css;return _160d.owningElement;}};return function(_160e,_160f,_1610){var _1611=_160e.split(","),_1612=_1611.length,_1613=function(){if(--_1612==0){_160f(link.sheet||link.styleSheet);}};for(var i=0,after;i<_1611.length;i++,after=url){_160e=_1611[i];var _1614=cache[_160e];if(_1614){link=_160c(_1614);return _1613();}var opts=_15ff(_160e),name=opts.shift(),url=_15fd(name,"css"),link=_15fb(doc),_1615="nowait" in opts?opts.nowait!="false":!!(_1610&&_1610.cssDeferLoad),_1616={link:link,url:url,wait:_1610&&_1610.cssWatchPeriod||25};_1600(_1616,_1613);if(_1615){_160f(link);}link.href=url;head.appendChild(link);}};});},"*now":function(r){r(["dojo/i18n!*preload*epi/shell/nls/widgets*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});